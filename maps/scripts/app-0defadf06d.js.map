{"version":3,"sources":["scripts/app.js"],"names":["angular","module","$cacheSrc","this","config","default_config","set","obj","val","t","extend","$get","color","bgcolor","semi","rounded","clockwise","radius","stroke","max","iterations","animation","interval","showProgressCircleInBrowser","showProgressCircleInDevice","provider","Notify","$ionicPopup","alert","params","title","template","text","confirm","msg","$inject","factory","runLoading","$rootScope","$ionicLoading","$on","loading","show","hide","run","configTranslate","$translatePartialLoaderProvider","addPart","path","constant","runIonic","$ionicPlatform","AppConfig","$cordovaStatusbar","$timeout","$cordovaSplashscreen","PhotogramSetting","User","init","ready","cordova","plugins","Keyboard","hideKeyboardAccessoryBar","overlaysWebView","style","styleHex","configLanguage","$translateProvider","tmhDynamicLocaleProvider","useLoader","urlTemplate","useSanitizeValueStrategy","useMissingTranslationHandlerLog","useLocalStorage","localeLocationPattern","langvar","navigator","language","userlanguage","userlangvar","split","preferredLocale","_","some","locales","code","preferredLanguage","moment","locale","configIonic","$ionicConfigProvider","backButton","icon","platform","android","tabs","position","views","maxCache","runFacebook","ionic","window","Platform","isIOS","isAndroid","LangVar","userLanguage","userLangVar","substring","toUpperCase","document","getElementById","firstScriptElement","getElementsByTagName","facebookJS","createElement","id","src","parentNode","insertBefore","configFacebook","$facebookProvider","setAppId","facebook","setPermissions","app","name","url","image","routes","home","login","parse","applicationId","javascriptKey","pt","translation","en","tr","fa","de","_rollbarConfig","accessToken","captureUncaught","payload","environment","r","o","e","exports","n","loaded","call","m","c","p","Rollbar","rollbarJsUrl","a","i","loadFull","async","console","log","apply","arguments","_rollbarWrappedError","_rollbarContext","uncaughtError","shimId","notifier","parentShim","logger","_rollbarOldOnError","Array","prototype","slice","shim","method","args","ts","Date","_rollbarShimQueue","push","l","hasOwnProperty","addEventListener","wrap","removeEventListener","_wrapped","globalAlias","configure","onerror","length","_rollbarPayloadQueue","Error","shift","u","s","onload","onreadystatechange","readyState","removeChild","_isWrap","_wrappedSource","toString","_rollbarWindowOnError","_rollbarInitialized","RollbarNotifier","_processShimQueue","processPayloads","g","q","ga","cookieDomain","runParsePush","$q","$window","startPush","defer","ParsePushPlugin","initialize","clientKey","subscribe","getInstallationId","resolve","reject","promise","parsePlugin","$provide","PLURAL_CATEGORY","ZERO","ONE","TWO","FEW","MANY","OTHER","value","DATETIME_FORMATS","AMPMS","DAY","ERANAMES","ERAS","FIRSTDAYOFWEEK","MONTH","SHORTDAY","SHORTMONTH","STANDALONEMONTH","WEEKENDRANGE","fullDate","longDate","medium","mediumDate","mediumTime","short","shortDate","shortTime","NUMBER_FORMATS","CURRENCY_SYM","DECIMAL_SEP","GROUP_SEP","PATTERNS","gSize","lgSize","maxFrac","minFrac","minInt","negPre","negSuf","posPre","posSuf","pluralCat","opt_precision","global","require","define","amd","pt_br","defineLocale","months","monthsShort","weekdays","weekdaysShort","weekdaysMin","longDateFormat","LT","LTS","L","LL","LLL","LLLL","calendar","sameDay","nextDay","nextWeek","lastDay","lastWeek","day","sameElse","relativeTime","future","past","mm","h","hh","d","dd","M","MM","y","yy","ordinalParse","ordinal","cacheSrc","$interval","$compile","$cordovaFileTransfer","$localStorage","restrict","scope","onProgress","onFinish","onError","link","element","attrs","possible","charAt","Math","floor","random","makeProgressCircle","$scope","startsWith","str","arr","sub_str","indexOf","needDownload","attrToScope","progress","textAlign","progress_circle","display","cache","cache_src","finish","result","css","remove","addSrc","srcIs","$observe","then","getCacheDir","after","ext","pop","fileName","download","total","cancel","device","file","documentsDirectory","dataDirectory","directive","cacheSrcStorage","_cache","get","localUrl","GeoService","$http","$cordovaGeolocation","Loading","getLocation","start","data","location","end","posOptions","timeout","enableHighAccuracy","getCurrentPosition","latitude","coords","longitude","err","message","findMe","pos","getGoogleAddress","success","resp","geolocation","error","logErr","lat","lng","address_normal","results","formatted_address","address","address_components","imagem","numero","short_name","rua","long_name","bairro","cidade","estado","uf","pais","paisCode","cep","zoom","w","parseAddress","place","resume","geo","geometry","H","addressType","types","componentForm","componentFormName","street","number","city","state","country","searchAddress","input","deferred","autocompleteService","getQueryPredictions","getDetails","placeId","detailsService","options","google","maps","places","AutocompleteService","PlacesService","street_number","route","locality","sublocality","neighborhood","political","administrative_area_level_1","postal_code","ionLocation","$ionicModal","ionLocationLink","search","suggestions","query","selectPlace","place_id","info","district","zipcode","closeModalLocation","bind","choosePlace","modalLocation","fromTemplate","focusFirstInput","$watch","newValue","showLoading","$broadcast","hideLoading","parseInt","seconds","ionLoading","cacheConfig","CacheFactoryProvider","defaults","maxAge","Cache","CacheFactory","model","createCache","deleteOnExpire","recycleFreq","storageMode","mode","modelName","keys","map","key","ParseFileFactory","upload","_params","ImageObject","Parse","Object","object","photo","imageObject","caption","save","imageFile","File","filename","base64","current","undefined","GeoPoint","ParseImageServiceFactory","_all","Query","descending","find","_delete","_objectId","_data","destroy","_get","_save","thumbBase64","imageSettings","savedData","localStorage","getItem","JSON","quality","dimensions","saveToAlbum","saveImageSettings","_settings","setItem","stringify","all","delete","transform","item","attributes","configRoutes","$stateProvider","templateUrl","controller","controllerAs","photogramLoading","photogramPhotoCapture","$state","PhotoService","Photogram","photogramPhotoCaptureLink","elem","attr","comments","getComments","photogram","form","photogramId","openModalCapture","fromTemplateUrl","modal","active","center","scrollwheel","here","getGeo","open","go","submitCapture","canvas","dataUrl","toDataURL","copy","closeModal","formFields","transclude","abstract","addRoute","$urlRouterProvider","otherwise","camanDirective","CamanJs","camanDirectiveLink","effect","filter","ionCrop","$jrCrop","$translate","$ionicActionSheet","ionCropLink","getElem","click","action","buttons","titleText","cancelText","buttonClicked","index","fileUpload","target","files","reader","FileReader","readAsDataURL","event","crop","option","width","height","chooseText","ngModel","on","cropSave","photoFilterCarousel","loadingMaster","applyFilter","filters","photoFilter","CamanJsFactory","status","Caman","revert","render","resetEffect","reset","PhotoFilter","modalFilter","done","closeModalCapture","$new","closeCapture","load","PhotogramShare","$cordovaCamera","$cordovaCapture","openModal","actionSheet","capture","cropModal","filterModal","buttonCancel","jrCrop","setting","aspectRatio","allowRotation","allowEdit","correctOrientation","targetWidth","targetHeight","saveToPhotoAlbum","destinationType","Camera","DestinationType","DATA_URL","encodingType","EncodingType","JPEG","popoverOptions","CameraPopoverOptions","instant","shareModal","shareSocial","social","share","socials","sociais","openFilter","closeFilter","submitFilter","templateFilter","tempImage","cropImage","type","getPicture","sourceType","PictureSourceType","CAMERA","PHOTOLIBRARY","fileInput","evt","currentTarget","getVideo","captureVideo","limit","duration","mediaFiles","fullPath","Video","createFileEntry","fileURI","resolveLocalFileSystemURL","entry","copyFile","fail","fileEntry","substr","lastIndexOf","newName","makeid","fileSystem2","copyTo","succ","onCopySuccess","nativeURL","PKVideoThumbnail","createThumbnail","prevSucc","prevImageSuccess","correctUrl","saveVideo","localURL","IntroCtrl","$ionicSlideBoxDelegate","slideChanged","vm","slideIndex","currentPlatform","next","previous","slides","top","img","LoadingController","user","clear","PhotogramTabsController","modalPost","goHome","warn","closeModalPost","submitPost","post","$emit","closePost","postPhoto","PhotogramFactory","loadProfile","response","processImg","logout","deletePhoto","galleryId","allComment","gallery","equalTo","objs","forEach","commentBy","include","ascending","created","createdAt","userComment","updateComment","comment","deleteComment","deleteItem","getFollow","userId","follow","getLikes","nearby","point","maxDistance","withinRadians","size","scaledSize","_latitude","_longitude","string","page","skip","matches","qtd","cb","each","likes","relation","currentUser","count","liked","limitComment","commentsData","loadUser","first","facebookimg","addComment","addActivity","add","isLiked","addLike","qtdLike","newGallery","removeLike","like","likeGallery","getUser","galleries","follow1","follow2","getUserGalleryQtd","qtdGalleries","getUserGallery","listActivity","profile","respProfile","feed","PhotogramSettingFactory","SettingKeys","settings","CacheSetting","put","PhotogramShareFactory","$cordovaSocialSharing","detail","socialsharing","shareViaInstagram","shareViaFacebook","shareViaTwitter","shareViaWhatsApp","shareViaEmail","subject","PhotogramFormFactory","templateOptions","placeholder","required","iconPlaceholder","focus","label","toggleClass","formComment","formShare","UserFactory","$ionicHistory","$cordovaDevice","$facebook","$cordovaFacebook","$location","newUser","logIn","email","password","loginFacebook2","api","dados","Boolean","loginFacebook","updateUser","update","tempUser","newuser","gender","facebook_complete","facebookLogin","getLoginStatus","respStatus","deferStatus","facebookProfile","register","formData","username","signUp","forgot","requestPasswordReset","logOut","clearCache","authData","cordovaDevice","getDevice","getCordova","getModel","getPlatform","uuid","getUUID","version","getVersion","updateAvatar","facebookFriends","facebookAPI","facebookInvite","showDialog","ui","list","notEqualTo","users","foloow","isFollow","followUser","respFollow","getFollowers","qtdFollowers","getFollowing","qtdFollowing","qtdFollow","userResp","addFollows","promises","getMail","getTime","FacebookUtils","access_token","expiration_date","facebookLink","mail","UserFormFactory","valueProp","labelProp","photogramCommentDirective","PhotogramForm","nocomments","openModalComment","editComment","onTap","preventDefault","submitComment","rForm","$valid","dataForm","photogramFollow","modalFollow","heartDirective","heartLink","addClass","photogramLike","likePhotogram","likeProgress","$apply","photogramLikeModal","photogramPhotoGrid","photogramPhotoList","photogramPhotoListCtrl","PhotogramFeedbackForm","PhotogramFeedback","getColors","elemId","ColorThief","getColor","getPalette","palette","likePhoto","actionButtons","res","msgDeletePhoto","buttonDelete","submitFeedback","submit","pallete","ionSearch","replace","getData","watchSearch","minLength","clearSearch","source","photogramSettings","$cordovaInAppBrowser","UserForm","languages","use","sref","openLink","clearcache","toolbar","changeLanguage","submitUpdateProfile","tabProfile","tabHome","tabActivity","tabSearch","tabGrid","tabMap","tabLogin","DirectHomeCtrl","Direct","chats","DirectMessagesCtrl","loadMessages","messages","roomId","sendMessage","body","channelId","doRefresh","getDirect","directId","addMessage","DirectMessages","direct","room","from","date","chatsType","_direct","to","$filter","eleHtml","html","Autolinker","className","newWindow","autolinks","getElementsByClassName","href","PhotogramActivityCtrl","empty","loadMore","force","more","openShare","PhotogramNotifyCtrl","$cordovaLocalNotification","scheduleSingleNotification","schedule","customProperty","scheduleMultipleNotifications","scheduleDelayedNotification","now","_10SecondsFromNow","at","scheduleEveryMinuteNotification","every","updateSingleNotification","updateMultipleNotifications","cancelSingleNotification","cancelMultipleNotifications","cancelAllNotifications","cancelAll","notification","ParsePush","appId","pn","channel","getInstall","getSubscriptions","subscriptions","postSubscribe","postUnSubscribe","unsubscribe","getSubscribe","unSubscribe","PhotogramId","photogramPhotoFeedbackDirective","PhotogramHomeController","$stateParams","buySource","lang","reload","PhotogramPhotoCtrl","loadComments","PhotogramPreviewCtrl","PhotogramViewCtrl","PhotogramSearchGridCtrl","PhotogramSearchMapCtrl","watchMap","time","timer","UserAvatarController","submitAvatar","userAvatarDirective","imageData","LogoutController","UserMergeController","submitMerge","PhotogramProfileController","changeTab","tab","grid","getFollower","getGallery","loadingFollowers","loadingFollowing","loadingPhotos","qtdPhotos","PhotogramProfilePhotoController","UserProfileController","submitProfile","profileModalDirective","profileModalLink","loadingPhotogram","isFollowResp","loadingFollow","followResp","modalProfile","profileModalEditDirective","linkFacebook","UserRecoveryPassController","submitForgot","recoveryPassDirective","recovery","erro","button","$viewValue","isUndefined","UserSigninController","routeLogged","submitLogin","UserSignupController","submitRegister","openTermsDirective","$templateCache"],"mappings":"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","file":"scripts/app-0defadf06d.js","sourcesContent":["(function () {\n  'use strict';\n  angular\n    .module('starter', [\n      'ionic',\n      //'ionic.service.core',\n      //'ionic.service.analytics',\n      'ionic-cache-src',\n      'formlyIonic',\n      'ngCookies',\n      'pascalprecht.translate', // angular-translate\n      'tmh.dynamicLocale', // angular-dynamic-locale\n      'angularMoment',\n      'ionic.components',\n      'ngFacebook',\n      'uiGmapgoogle-maps',\n      'angular-cache',\n      'ngCordova',\n      'app.intro',\n      'app.loading',\n      'app.user',\n      'app.photogram',\n    ]);\n\n})();\n\n(function () {\n  'use strict';\n  angular\n    .module('ionic.components', [\n      'ionic',\n      'ionic-loading',\n      // 'ion-affix',\n      'ion-photo',\n      'ion-location',\n      'ion-notify',\n      'ngCache',\n      'ngParse',\n    ]);\n})();\n\n(function () {\n  'use strict';\n\n  var default_config = {\n    color: '#1D5ECE',\n    bgcolor: '#eaeaea',\n    semi: false,\n    rounded: false,\n    clockwise: true,\n    radius: '15',\n    stroke: '5',\n    max: 100,\n    iterations: 50,\n    animation: 'easeOutCubic',\n    interval: 200,\n    showProgressCircleInBrowser: true,\n    showProgressCircleInDevice: true\n  };\n\n\n  angular\n    .module('ionic-cache-src', [\n      'ionic',\n      'angular-svg-round-progress',\n      'ngCordova',\n      'ngStorage'\n    ])\n    .provider('$cacheSrc', $cacheSrc);\n\n  function $cacheSrc() {\n    this.config = default_config;\n    this.set = function (obj, val) {\n      var t = typeof obj;\n      if (t === 'object') {\n        angular.extend(this.config, obj);\n      } else if (t == 'string') {\n        this.config[obj] = val;\n      }\n      return this;\n    };\n\n    this.$get = function () {\n      return this.config;\n    };\n  }\n\n\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('ion-notify', ['ionic'])\n    .factory('Notify', Notify);\n\n  function Notify($ionicPopup) {\n\n    return {\n      alert: alert,\n      confirm: confirm\n    };\n\n    function alert(params) {\n      return $ionicPopup.alert({\n        title: params.title,\n        template: params.text\n      });\n    }\n\n    function confirm(title, msg) {\n      return $ionicPopup.confirm({\n        title: title,\n        template: msg\n      });\n    }\n  }\n\n\n})();\n\n(function () {\n  'use strict';\n  angular\n    .module('ion-location', [\n      'ionic'\n    ]);\n\n})();\n\n(function () {\n  'use strict';\n  angular\n    .module('ionic-loading', ['ionic'])\n    .run(runLoading);\n\n  function runLoading($rootScope, $ionicLoading) {\n    //Loading\n    $rootScope.$on('ionicLoading:true', function (text) {\n      $rootScope.loading = true;\n      $ionicLoading.show(text);\n    });\n    $rootScope.$on('ionicLoading:false', function () {\n      $rootScope.loading = false;\n      $ionicLoading.hide();\n    });\n  }\n\n})();\n\n(function () {\n  'use strict';\n  angular\n    .module('ion-photo', [\n      'ionic',\n      'ngCordova',\n      'jrCrop'\n    ])\n    .constant('config', {\n      path: 'app/component/ion-photo'\n    })\n    .config(configTranslate);\n\n  function configTranslate($translatePartialLoaderProvider, config) {\n    $translatePartialLoaderProvider.addPart(config.path);\n  }\n\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('ngParse', []);\n})();\n\n(function () {\n  'use strict';\n  angular\n    .module('app.intro', []);\n\n})();\n\n(function () {\n  'use strict';\n  angular\n    .module('app.loading', []);\n\n})();\n\n(function () {\n  'use strict';\n  var path = 'app/module/photogram';\n\n  angular\n    .module('app.photogram', [\n      'ionic',\n      'ngCordova',\n      'app.account',\n      'app.activity',\n      'app.direct',\n      'app.feedback',\n      'app.share',\n      'app.home',\n      'app.search'\n    ]);\n\n})();\n\n(function () {\n  'use strict';\n  angular\n    .module('app.user', [\n      'ionic',\n      'user.avatar',\n      'user.friend',\n      'user.logout',\n      'user.merge',\n      'user.profile',\n      'user.recovery',\n      'user.signin',\n      'user.signup',\n      'user.term',\n    ]);\n\n})();\n\n(function () {\n  'use strict';\n  angular\n    .module('app.account', []);\n\n})();\n\n(function () {\n  'use strict';\n  angular\n    .module('app.direct', []);\n\n})();\n\n(function () {\n  'use strict';\n  angular\n    .module('app.activity', []);\n\n})();\n\n(function () {\n  'use strict';\n  var path = 'app/module/photogram/module/feedback';\n  angular\n    .module('app.feedback', []);\n\n})();\n\n(function () {\n  'use strict';\n  angular\n    .module('app.home', []);\n\n})();\n\n(function () {\n  'use strict';\n  angular\n    .module('app.search', []);\n\n})();\n\n(function () {\n  'use strict';\n  var path = 'app/module/photogram/module/share';\n  angular\n    .module('app.share', []);\n\n})();\n\n(function () {\n  'use strict';\n  angular\n    .module('user.friend', []);\n\n})();\n\n(function () {\n  'use strict';\n  angular\n    .module('user.avatar', ['app.user']);\n\n})();\n\n(function () {\n  'use strict';\n  angular\n    .module('user.logout', []);\n\n})();\n\n(function () {\n  'use strict';\n  angular\n    .module('user.merge', []);\n\n})();\n\n(function () {\n  'use strict';\n  angular\n    .module('user.profile', []);\n\n})();\n\n(function () {\n  'use strict';\n  angular\n    .module('user.recovery', []);\n\n})();\n\n(function () {\n  'use strict';\n  angular\n    .module('user.signin', []);\n\n})();\n\n(function () {\n  'use strict';\n  angular\n    .module('user.signup', []);\n\n})();\n\n(function () {\n  'use strict';\n  angular\n    .module('user.term', []);\n\n})();\n\n(function () {\n  'use strict';\n\n  var cordova = window.cordova;\n\n  angular\n    .module('starter')\n    .run(runIonic)\n    .run(runFacebook)\n    .config(configLanguage)\n    .config(configFacebook)\n    .config(configIonic);\n\n\n  function runIonic($ionicPlatform, $cacheSrc, AppConfig, $cordovaStatusbar, $timeout,\n    $cordovaSplashscreen, PhotogramSetting, User) {\n\n    $cacheSrc.color = AppConfig.color;\n    $cacheSrc.bgcolor = '#ddd';\n    $cacheSrc.rounded = true;\n    $cacheSrc.radius = 50;\n    //$cacheSrc.interval = 5000;\n\n    User.init();\n    PhotogramSetting.init();\n\n    $ionicPlatform.ready(function () {\n\n      //$ionicAnalytics.register();\n\n      if (cordova && cordova.plugins && cordova.plugins.Keyboard) {\n        cordova.plugins.Keyboard.hideKeyboardAccessoryBar(false);\n      }\n\n      if (cordova) {\n        $timeout(function () {\n          $cordovaSplashscreen.hide();\n          $cordovaStatusbar.overlaysWebView(true);\n          $cordovaStatusbar.style(1);\n          $cordovaStatusbar.styleHex(AppConfig.color);\n          $cordovaStatusbar.show();\n        }, 500);\n      }\n\n    });\n\n\n  }\n\n  function configLanguage($translateProvider, AppConfig, tmhDynamicLocaleProvider) {\n\n    // angular-translate configuration\n    $translateProvider.useLoader('$translatePartialLoader', {\n      urlTemplate: '{part}/i18n/{lang}.json'\n    });\n    $translateProvider.useSanitizeValueStrategy(null);\n\n    // Translate Config\n    $translateProvider.useMissingTranslationHandlerLog();\n    $translateProvider.useLocalStorage(); // saves selected language to localStorage\n    tmhDynamicLocaleProvider.localeLocationPattern('../bower_components/angular-i18n/angular-locale_{{locale}}.js');\n\n    var langvar = navigator.language || navigator.userlanguage;\n    var userlangvar = langvar.split('-')[0];\n    var language = AppConfig.preferredLocale;\n    if (_.some(AppConfig.locales, {\n        code: userlangvar\n      })) {\n      language = userlangvar;\n    }\n    $translateProvider.preferredLanguage(language);\n    moment.locale(language);\n\n  }\n\n  function configIonic($ionicConfigProvider) {\n    //$ionicConfigProvider.platform.ios.backButton.previousTitleText(' ').icon('ion-ios-arrow-left');\n    //$ionicConfigProvider.platform.android.backButton.previousTitleText(' ').icon('ion-ios-arrow-left');\n    //$ionicConfigProvider.views.swipeBackEnabled (true);\n    $ionicConfigProvider.backButton.text(' ').icon('ion-ios-arrow-left');\n    //$ionicConfigProvider.backButton.previousTitleText (false).text ('Voltar').icon ('ion-ios-arrow-left');\n    //$ionicConfigProvider.views.transition ('platform');\n    //$ionicConfigProvider.navBar.alignTitle ('platform');\n    //$ionicConfigProvider.tabs.position('bottom');\n    $ionicConfigProvider.platform.android.tabs.position('bottom');\n    $ionicConfigProvider.platform.android.tabs.style('standard');\n    $ionicConfigProvider.views.maxCache(1);\n  }\n\n  // Facebook\n\n  function runFacebook() {\n    var ionic = window.ionic;\n    if (!(ionic.Platform.isIOS() || ionic.Platform.isAndroid())) {\n      var LangVar = window.navigator.language || window.navigator.userLanguage;\n      var userLangVar = LangVar.substring(0, 2) + '_' + LangVar.substring(3, 5).toUpperCase();\n      var document = window.document;\n      // If we've already installed the SDK, we're done\n      if (document.getElementById('facebook-jssdk')) return;\n\n      // Get the first script element, which we'll use to find the parent node\n      var firstScriptElement = document.getElementsByTagName('script')[0];\n\n      // Create a new script element and set its id\n      var facebookJS = document.createElement('script');\n      facebookJS.id = 'facebook-jssdk';\n\n      // Set the new script's source to the source of the Facebook JS SDK\n      facebookJS.src = 'http://connect.facebook.net/' + userLangVar + '/all.js';\n\n      // Insert the Facebook JS SDK into the DOM\n      firstScriptElement.parentNode.insertBefore(facebookJS, firstScriptElement);\n    }\n  }\n\n  function configFacebook($facebookProvider, AppConfig) {\n    $facebookProvider.setAppId(AppConfig.facebook);\n    $facebookProvider.setPermissions('id,name,email,user_likes,bio');\n  }\n\n\n})();\n\n(function () {\n  'use strict';\n  angular\n    .module('ionic')\n    .constant('AppConfig', AppConfig());\n\n  function AppConfig() {\n    return {\n      path: 'app/module/photogram',\n      app: {\n        name: 'Photogram',\n        url: 'http://photogramapp.com',\n        image: 'http://photogramapp.com/social-share.jpg',\n      },\n      routes: {\n        home: 'photogram.home',\n        login: 'intro'\n      },\n      color: '#00796B',\n      facebook: '1024016557617380',\n      parse: {\n        applicationId: '7lWT9DJntSvMKTetpoT0wL79pTG9dk4ob5pztktX',\n        javascriptKey: 'UbrjB5Imc0btrAyoSb83HmCAHmFWc77JEB9AA1to'\n      },\n      locales: {\n        pt: {\n          'translation': 'LANG.PORTUGUES',\n          'code': 'pt'\n        },\n        en: {\n          'translation': 'LANG.ENGLISH',\n          'code': 'en'\n        },\n        tr: {\n          'translation': 'LANG.TURKISH',\n          'code': 'tr'\n        },\n        fa: {\n          'translation': 'LANG.PERSIAN',\n          'code': 'fa'\n        },\n        de: {\n          'translation': 'LANG.GERMAN',\n          'code': 'de'\n        }\n      },\n      preferredLocale: 'en'\n    };\n  }\n})();\n\n// -------------------------------------------------------------\n// Rollbar - must be first\n// -------------------------------------------------------------\n\n(function () {\n  var _rollbarConfig = {\n    accessToken: '582a9a76d9f54e2cbd93d09944ac9de7',\n    captureUncaught: true,\n    payload: {\n      environment: 'test'\n    }\n  };\n  // Rollbar Snippet\n  ! function (r) {\n    function o(e) {\n      if (t[e]) return t[e].exports;\n      var n = t[e] = {\n        exports: {},\n        id: e,\n        loaded: !1\n      };\n      return r[e].call(n.exports, n, n.exports, o), n.loaded = !0, n.exports\n    }\n\n    var t = {};\n    return o.m = r, o.c = t, o.p = \"\", o(0)\n  }([\n    function (r, o, t) {\n      \"use strict\";\n      var e = t(1).Rollbar,\n        n = t(2);\n      _rollbarConfig.rollbarJsUrl = _rollbarConfig.rollbarJsUrl ||\n        \"https://d37gvrvc0wt4s1.cloudfront.net/js/v1.7/rollbar.min.js\";\n      var a = e.init(window, _rollbarConfig),\n        i = n(a, _rollbarConfig);\n      a.loadFull(window, document, !_rollbarConfig.async, _rollbarConfig, i)\n    },\n    function (r, o) {\n      \"use strict\";\n\n      function t() {\n        var r = window.console;\n        r && \"function\" == typeof r.log && r.log.apply(r, arguments)\n      }\n\n      function e(r, o) {\n        return o = o || t,\n          function () {\n            try {\n              return r.apply(this, arguments)\n            } catch (t) {\n              o(\"Rollbar internal error:\", t)\n            }\n          }\n      }\n\n      function n(r, o, t) {\n        window._rollbarWrappedError && (t[4] || (t[4] = window._rollbarWrappedError), t[5] || (t[5] = window._rollbarWrappedError\n          ._rollbarContext), window._rollbarWrappedError = null), r.uncaughtError.apply(r, t), o && o.apply(\n          window, t)\n      }\n\n      function a(r) {\n        this.shimId = ++p, this.notifier = null, this.parentShim = r, this.logger = t, this._rollbarOldOnError =\n          null\n      }\n\n      function i(r) {\n        var o = a;\n        return e(function () {\n          if (this.notifier) return this.notifier[r].apply(this.notifier, arguments);\n          var t = this,\n            e = \"scope\" === r;\n          e && (t = new o(this));\n          var n = Array.prototype.slice.call(arguments, 0),\n            a = {\n              shim: t,\n              method: r,\n              args: n,\n              ts: new Date\n            };\n          return window._rollbarShimQueue.push(a), e ? t : void 0\n        })\n      }\n\n      function l(r, o) {\n        if (o.hasOwnProperty && o.hasOwnProperty(\"addEventListener\")) {\n          var t = o.addEventListener;\n          o.addEventListener = function (o, e, n) {\n            t.call(this, o, r.wrap(e), n)\n          };\n          var e = o.removeEventListener;\n          o.removeEventListener = function (r, o, t) {\n            e.call(this, r, o && o._wrapped ? o._wrapped : o, t)\n          }\n        }\n      }\n\n      var p = 0;\n      a.init = function (r, o) {\n        var t = o.globalAlias || \"Rollbar\";\n        if (\"object\" == typeof r[t]) return r[t];\n        r._rollbarShimQueue = [], r._rollbarWrappedError = null, o = o || {};\n        var i = new a;\n        return e(function () {\n          if (i.configure(o), o.captureUncaught) {\n            i._rollbarOldOnError = r.onerror, r.onerror = function () {\n              var r = Array.prototype.slice.call(arguments, 0);\n              n(i, i._rollbarOldOnError, r)\n            };\n            var e, a, p =\n              \"EventTarget,Window,Node,ApplicationCache,AudioTrackList,ChannelMergerNode,CryptoOperation,EventSource,FileReader,HTMLUnknownElement,IDBDatabase,IDBRequest,IDBTransaction,KeyOperation,MediaController,MessagePort,ModalWindow,Notification,SVGElementInstance,Screen,TextTrack,TextTrackCue,TextTrackList,WebSocket,WebSocketWorker,Worker,XMLHttpRequest,XMLHttpRequestEventTarget,XMLHttpRequestUpload\"\n              .split(\",\");\n            for (e = 0; e < p.length; ++e) a = p[e], r[a] && r[a].prototype && l(i, r[a].prototype)\n          }\n          return r[t] = i, i\n        }, i.logger)()\n      }, a.prototype.loadFull = function (r, o, t, n, a) {\n        var i = function () {\n            var o;\n            if (void 0 === r._rollbarPayloadQueue) {\n              var t, e, n, i;\n              for (o = new Error(\"rollbar.js did not load\"); t = r._rollbarShimQueue.shift();)\n                for (n = t.args, i = 0; i < n.length; ++i)\n                  if (e = n[i], \"function\" == typeof e) {\n                    e(o);\n                    break\n                  }\n            }\n            \"function\" == typeof a && a(o)\n          },\n          l = !1,\n          p = o.createElement(\"script\"),\n          u = o.getElementsByTagName(\"script\")[0],\n          s = u.parentNode;\n        p.src = n.rollbarJsUrl, p.async = !t, p.onload = p.onreadystatechange = e(function () {\n          if (!(l || this.readyState && \"loaded\" !== this.readyState && \"complete\" !== this.readyState)) {\n            p.onload = p.onreadystatechange = null;\n            try {\n              s.removeChild(p)\n            } catch (r) {}\n            l = !0, i()\n          }\n        }, this.logger), s.insertBefore(p, u)\n      }, a.prototype.wrap = function (r, o) {\n        try {\n          var t;\n          if (t = \"function\" == typeof o ? o : function () {\n              return o || {}\n            }, \"function\" != typeof r) return r;\n          if (r._isWrap) return r;\n          if (!r._wrapped) {\n            r._wrapped = function () {\n              try {\n                return r.apply(this, arguments)\n              } catch (o) {\n                throw o._rollbarContext = t() || {}, o._rollbarContext._wrappedSource = r.toString(), window._rollbarWrappedError =\n                  o, o\n              }\n            }, r._wrapped._isWrap = !0;\n            for (var e in r) r.hasOwnProperty(e) && (r._wrapped[e] = r[e])\n          }\n          return r._wrapped\n        } catch (n) {\n          return r\n        }\n      };\n      for (var u = \"log,debug,info,warn,warning,error,critical,global,configure,scope,uncaughtError\".split(\",\"), s =\n          0; s < u.length; ++s) a.prototype[u[s]] = i(u[s]);\n      r.exports = {\n        Rollbar: a,\n        _rollbarWindowOnError: n\n      }\n    },\n    function (r, o) {\n      \"use strict\";\n      r.exports = function (r, o) {\n        return function (t) {\n          if (!t && !window._rollbarInitialized) {\n            var e = window.RollbarNotifier,\n              n = o || {},\n              a = n.globalAlias || \"Rollbar\",\n              i = window.Rollbar.init(n, r);\n            i._processShimQueue(window._rollbarShimQueue || []), window[a] = i, window._rollbarInitialized = !0,\n              e.processPayloads()\n          }\n        }\n      }\n    }\n  ]);\n  // End Rollbar Snippet\n\n}());\n\n/* Google Analytics\n * */\n\n(function (i, s, o, g, r, a, m) {\n  i['GoogleAnalyticsObject'] = r;\n  i[r] = i[r] || function () {\n    (i[r].q = i[r].q || [])\n    .push(arguments)\n  }, i[r].l = 1 * new Date();\n  a = s.createElement(o),\n    m = s.getElementsByTagName(o)[0];\n  a.async = 1;\n  a.src = g;\n  m.parentNode.insertBefore(a, m)\n})(window, document, 'script', 'http://www.google-analytics.com/analytics.js', 'ga');\nga('create', 'UA-53950213-5', {\n  'cookieDomain': 'none'\n});\n\n/*\n * cordova -d plugin add https://github.com/emilyemorehouse/phonegap-parse-plugin --variable APP_ID=7lWT9DJntSvMKTetpoT0wL79pTG9dk4ob5pztktX --variable CLIENT_KEY=CIcH8fg5AogNNrEQ8IbmA5nujNjIvVNmuW0PyvCy\n * */\n(function () {\n  'use strict';\n  angular\n    .module('starter')\n    .run(runParsePush);\n\n  function runParsePush($ionicPlatform, $q, $window, AppConfig) {\n\n    var ParsePushPlugin = $window.parsePlugin;\n\n\n    $ionicPlatform.ready(function () {\n      if ($window.cordova) {\n        startPush();\n      }\n    });\n\n\n    function startPush() {\n      var defer = $q.defer();\n\n      ParsePushPlugin\n        .initialize(AppConfig.parse.applicationId, AppConfig.parse.clientKey, function () {\n\n          ParsePushPlugin\n            .subscribe('Photogram', function () {\n              ParsePushPlugin\n                .getInstallationId(defer.resolve, defer.reject);\n\n            }, defer.reject);\n\n        }, defer.reject);\n\n      return defer.promise;\n    }\n\n\n  }\n\n})();\n\n'use strict';\nangular.module(\"ngLocale\", [], [\"$provide\", function ($provide) {\n  var PLURAL_CATEGORY = {\n    ZERO: \"zero\",\n    ONE: \"one\",\n    TWO: \"two\",\n    FEW: \"few\",\n    MANY: \"many\",\n    OTHER: \"other\"\n  };\n  $provide.value(\"$locale\", {\n    \"DATETIME_FORMATS\": {\n      \"AMPMS\": [\n        \"AM\",\n        \"PM\"\n      ],\n      \"DAY\": [\n        \"domingo\",\n        \"segunda-feira\",\n        \"ter\\u00e7a-feira\",\n        \"quarta-feira\",\n        \"quinta-feira\",\n        \"sexta-feira\",\n        \"s\\u00e1bado\"\n      ],\n      \"ERANAMES\": [\n        \"Antes de Cristo\",\n        \"Ano do Senhor\"\n      ],\n      \"ERAS\": [\n        \"a.C.\",\n        \"d.C.\"\n      ],\n      \"FIRSTDAYOFWEEK\": 6,\n      \"MONTH\": [\n        \"janeiro\",\n        \"fevereiro\",\n        \"mar\\u00e7o\",\n        \"abril\",\n        \"maio\",\n        \"junho\",\n        \"julho\",\n        \"agosto\",\n        \"setembro\",\n        \"outubro\",\n        \"novembro\",\n        \"dezembro\"\n      ],\n      \"SHORTDAY\": [\n        \"dom\",\n        \"seg\",\n        \"ter\",\n        \"qua\",\n        \"qui\",\n        \"sex\",\n        \"s\\u00e1b\"\n      ],\n      \"SHORTMONTH\": [\n        \"jan\",\n        \"fev\",\n        \"mar\",\n        \"abr\",\n        \"mai\",\n        \"jun\",\n        \"jul\",\n        \"ago\",\n        \"set\",\n        \"out\",\n        \"nov\",\n        \"dez\"\n      ],\n      \"STANDALONEMONTH\": [\n        \"janeiro\",\n        \"fevereiro\",\n        \"mar\\u00e7o\",\n        \"abril\",\n        \"maio\",\n        \"junho\",\n        \"julho\",\n        \"agosto\",\n        \"setembro\",\n        \"outubro\",\n        \"novembro\",\n        \"dezembro\"\n      ],\n      \"WEEKENDRANGE\": [\n        5,\n        6\n      ],\n      \"fullDate\": \"EEEE, d 'de' MMMM 'de' y\",\n      \"longDate\": \"d 'de' MMMM 'de' y\",\n      \"medium\": \"d 'de' MMM 'de' y HH:mm:ss\",\n      \"mediumDate\": \"d 'de' MMM 'de' y\",\n      \"mediumTime\": \"HH:mm:ss\",\n      \"short\": \"dd/MM/yy HH:mm\",\n      \"shortDate\": \"dd/MM/yy\",\n      \"shortTime\": \"HH:mm\"\n    },\n    \"NUMBER_FORMATS\": {\n      \"CURRENCY_SYM\": \"R$\",\n      \"DECIMAL_SEP\": \",\",\n      \"GROUP_SEP\": \".\",\n      \"PATTERNS\": [{\n        \"gSize\": 3,\n        \"lgSize\": 3,\n        \"maxFrac\": 3,\n        \"minFrac\": 0,\n        \"minInt\": 1,\n        \"negPre\": \"-\",\n        \"negSuf\": \"\",\n        \"posPre\": \"\",\n        \"posSuf\": \"\"\n      }, {\n        \"gSize\": 3,\n        \"lgSize\": 3,\n        \"maxFrac\": 2,\n        \"minFrac\": 2,\n        \"minInt\": 1,\n        \"negPre\": \"-\\u00a4\",\n        \"negSuf\": \"\",\n        \"posPre\": \"\\u00a4\",\n        \"posSuf\": \"\"\n      }]\n    },\n    \"id\": \"pt-br\",\n    \"pluralCat\": function (n, opt_precision) {\n      if (n >= 0 && n <= 2 && n != 2) {\n        return PLURAL_CATEGORY.ONE;\n      }\n      return PLURAL_CATEGORY.OTHER;\n    }\n  });\n}]);\n\n//! moment.js locale configuration\n//! locale : brazilian portuguese (pt-br)\n//! author : Caio Ribeiro Pereira : https://github.com/caio-ribeiro-pereira\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(require('../moment')) :\n    typeof define === 'function' && define.amd ? define(['moment'], factory) : factory(global.moment)\n}(this, function (moment) {\n  'use strict';\n\n\n  var pt_br = moment.defineLocale('pt', {\n    months: 'Janeiro_Fevereiro_Março_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro'.split(\n      '_'),\n    monthsShort: 'Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez'.split('_'),\n    weekdays: 'Domingo_Segunda-Feira_Terça-Feira_Quarta-Feira_Quinta-Feira_Sexta-Feira_Sábado'.split('_'),\n    weekdaysShort: 'Dom_Seg_Ter_Qua_Qui_Sex_Sáb'.split('_'),\n    weekdaysMin: 'Dom_2ª_3ª_4ª_5ª_6ª_Sáb'.split('_'),\n    longDateFormat: {\n      LT: 'HH:mm',\n      LTS: 'HH:mm:ss',\n      L: 'DD/MM/YYYY',\n      LL: 'D [de] MMMM [de] YYYY',\n      LLL: 'D [de] MMMM [de] YYYY [às] HH:mm',\n      LLLL: 'dddd, D [de] MMMM [de] YYYY [às] HH:mm'\n    },\n    calendar: {\n      sameDay: '[Hoje às] LT',\n      nextDay: '[Amanhã às] LT',\n      nextWeek: 'dddd [às] LT',\n      lastDay: '[Ontem às] LT',\n      lastWeek: function () {\n        return (this.day() === 0 || this.day() === 6) ?\n          '[Último] dddd [às] LT' : // Saturday + Sunday\n          '[Última] dddd [às] LT'; // Monday - Friday\n      },\n      sameElse: 'L'\n    },\n    relativeTime: {\n      future: 'em %s',\n      past: '%s atrás',\n      s: 'segs',\n      m: 'um minuto',\n      mm: '%d minutos',\n      h: 'uma hora',\n      hh: '%d horas',\n      d: 'um dia',\n      dd: '%d dias',\n      M: 'um mês',\n      MM: '%d meses',\n      y: 'um ano',\n      yy: '%d anos'\n    },\n    ordinalParse: /\\d{1,2}º/,\n    ordinal: '%dº'\n  });\n\n  return pt_br;\n\n}));\n\n(function () {\n  'use strict';\n\n  angular\n    .module('ionic-cache-src')\n    .directive('cacheSrc', cacheSrc);\n\n  function cacheSrc($ionicPlatform, $interval, $compile, $cacheSrc, $cordovaFileTransfer, $localStorage) {\n    return {\n      restrict: 'A',\n      scope: {\n        'onProgress': '=?',\n        'onFinish': '=?',\n        'onError': '=?'\n      },\n      link: function (scope, element, attrs) {\n\n        function id() {\n          var text = \"\";\n          var possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n          for (var i = 0; i < 16; i++)\n            text += possible.charAt(Math.floor(Math.random() * possible.length));\n          return text;\n        };\n\n        function makeProgressCircle($scope, $compile) {\n          return angular.element($compile(\n            '<div style=\"text-align:{{textAlign}}\"><div round-progress  max=\"max\"  current=\"progress\"  color=\"{{color}}\" bgcolor=\"{{bgcolor}}\"  radius=\"{{radius}}\"  stroke=\"{{stroke}}\"  rounded=\"rounded\" clockwise=\"clockwise\" iterations=\"{{iterations}}\"  animation=\"{{animation}}\"></div></div>'\n          )($scope));\n        };\n\n        function startsWith(str, arr) {\n          for (var i = 0; i < arr.length; i++) {\n            var sub_str = arr[i];\n            if (str.indexOf(sub_str) === 0) {\n              return true;\n            }\n          }\n          return false;\n        };\n\n\n        function needDownload(path) {\n          if (startsWith(path, [\n              'http://',\n              'https://',\n              'ftp://'\n            ])) {\n            return true;\n          } else {\n            return false;\n          }\n        }\n\n        function attrToScope(scope, attrs) {\n          scope.progress = 0;\n          scope.max = 100;\n          scope.radius = attrs.radius;\n          scope.stroke = attrs.stroke;\n          scope.animation = attrs.animation;\n          scope.clockwise = attrs.clockwise;\n          scope.color = attrs.color;\n          scope.bgcolor = attrs.bgcolor;\n          scope.rounded = attrs.rounded;\n          scope.iterations = attrs.iterations;\n          scope.textAlign = 'center';\n        }\n\n        var isIOS = ionic.Platform.isIOS();\n        var isAndroid = ionic.Platform.isAndroid();\n\n        if (window.cordova & isIOS || isAndroid) {\n\n          var progress_circle;\n          var display;\n          var config = {};\n          angular.extend(config, $cacheSrc);\n          angular.extend(config, attrs);\n          attrToScope(scope, config);\n          scope.onProgress = scope.onProgress || function () {};\n          scope.onFinish = scope.onFinish || function () {};\n          scope.onError = scope.onError || function () {};\n          var cache = $localStorage.cache_src = $localStorage.cache_src || {};\n          //**********//\n          var finish = function (result) {\n            if (config.showProgressCircleInDevice) {\n              element.css('display', display);\n              progress_circle.remove();\n            }\n            addSrc(result);\n          };\n\n          var addSrc = function (result) {\n            element[0][config.srcIs || 'src'] = result;\n            scope.onFinish(result);\n          };\n\n\n          attrs.$observe('cacheSrc',\n            function () {\n              if (attrs.cacheSrc) {\n                if (needDownload(attrs.cacheSrc)) {\n                  //if cached\n                  if (cache[attrs.cacheSrc]) {\n                    $ionicPlatform\n                      .ready()\n                      .then(function () {\n                        addSrc(getCacheDir() + cache[attrs.cacheSrc]);\n                      });\n                  } else {\n                    // not cache\n                    if (config.showProgressCircleInDevice) {\n                      progress_circle = makeProgressCircle(scope, $compile);\n                      display = element.css('display');\n                      element.css('display', 'none');\n                      element.after(progress_circle);\n                    }\n                    $ionicPlatform\n                      .ready()\n                      .then(function () {\n                        var ext = '.' + attrs.cacheSrc.split('.').pop();\n                        var fileName = id() + ext;\n                        $cordovaFileTransfer\n                          .download(attrs.cacheSrc, getCacheDir() + fileName, {}, true)\n                          .then(function (result) {\n                            cache[attrs.cacheSrc] = fileName;\n                            finish(getCacheDir() + fileName);\n                          }, scope.onError, function (progress) {\n                            scope.progress = (progress.loaded / progress.total) * 100;\n                            scope.onProgress(scope.progress);\n                          });\n                      });\n                  }\n                } else {\n                  addSrc(attrs.cacheSrc);\n                }\n              }\n            });\n        } else {\n          // in browser\n          var progress_circle = makeProgressCircle(scope, $compile);\n          var config = {};\n          angular.extend(config, $cacheSrc);\n          angular.extend(config, attrs);\n          attrToScope(scope, config);\n          scope.onProgress = scope.onProgress || function () {};\n          scope.onFinish = scope.onFinish || function () {};\n          attrs.$observe('cacheSrc', function () {\n            if (attrs.cacheSrc) {\n              if (needDownload(attrs.cacheSrc)) {\n                if (config.showProgressCircleInBrowser) {\n                  var display = element.css('display');\n                  element.css('display', 'none');\n                  element\n                    .after(progress_circle);\n                }\n                var promise = $interval(function () {\n                  scope.progress += 10;\n                  scope.onProgress(scope.progress);\n                  if (scope.progress == 100) {\n                    $interval.cancel(promise);\n                    if (config.showProgressCircleInBrowser) {\n                      element.css('display', display);\n                      progress_circle.remove();\n                    }\n                    element[0][config.srcIs || 'src'] = attrs.cacheSrc;\n                    scope.onFinish(attrs.cacheSrc);\n                  }\n                }, config.interval);\n              } else {\n                element[0][config.srcIs || 'src'] = attrs.cacheSrc;\n                scope.onFinish(attrs.cacheSrc);\n              }\n            }\n          });\n        }\n\n      }\n    };\n  }\n\n  function getCacheDir() {\n    switch (window.device.platform) {\n    case 'iOS':\n      return cordova.file.documentsDirectory;\n    case 'Android':\n      return cordova.file.dataDirectory;\n    }\n    return '';\n  }\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('ionic-cache-src')\n    .factory('cacheSrcStorage', cacheSrcStorage);\n\n  function cacheSrcStorage($localStorage) {\n    var c = {};\n    c._cache = $localStorage.cache_src;\n    c.get = function (url) {\n      return c._cache[url] && (getCacheDir() + c._cache[url]);\n    };\n    c.set = function (url, localUrl) {\n      c._cache[url] = localUrl;\n      return c;\n    };\n    return c;\n  }\n})();\n\n(function () {\n  'use strict';\n\n\n  angular\n    .module('ion-location')\n    .factory('GeoService', GeoService);\n\n  function GeoService($http, $window, $cordovaGeolocation, Loading, $timeout, $q) {\n\n    /**\n     'street_address', //indicates a precise street address.\n     'route', //indicates a named route (such as \"US 101\").\n     'intersection', //indicates a major intersection, usually of two major roads.\n     'political', //indicates a political entity. Usually, this type indicates a polygon of some civil administration.\n     'country', //indicates the national political entity, and is typically the highest order type returned by the Geocoder.\n     'administrative_area_level_1', //indicates a first-order civil entity below the country level. Within the United States, these administrative levels are states. Not all nations exhibit these administrative levels.\n     'administrative_area_level_2', //indicates a second-order civil entity below the country level. Within the United States, these administrative levels are counties. Not all nations exhibit these administrative levels.\n     'administrative_area_level_3', //indicates a third-order civil entity below the country level. This type indicates a minor civil division. Not all nations exhibit these administrative levels.\n     'colloquial_area', //indicates a commonly-used alternative name for the entity.\n     'locality', //indicates an incorporated city or town political entity.\n     'sublocality', //indicates an first-order civil entity below a locality\n     'neighborhood', //indicates a named neighborhood\n     'premise', //indicates a named location, usually a building or collection of buildings with a common name\n     'subpremise', //indicates a first-order entity below a named location, usually a singular building within a collection of buildings with a common name\n     'postal_code', //indicates a postal code as used to address postal mail within the country.\n     'natural_feature', //indicates a prominent natural feature.\n     'airport', //indicates an airport.\n     'park', //indicates a named park.\n     'point_of_interest', //indicates a named point of interest. Typically, these \"POI\"s are prominent local entities that don't easily fit in another category such as \"Empire State Building\" or \"Statue of Liberty.\"\n\n     //In addition to the above, address components may exhibit the following types:\n\n     'post_box', //indicates a specific postal box.\n     'street_number', //indicates the precise street number.\n     'floor indicates', //the floor of a building address.\n     'room indicates'; //the room of a building address.'\n     */\n    var options = {\n      types: ['geocode']\n    };\n    var autocompleteService = new $window.google.maps.places.AutocompleteService();\n    var detailsService = new $window.google.maps.places.PlacesService($window.document.createElement('input'),\n      options);\n    var componentForm = {\n      street_number: 'long_name',\n      //number\n      route: 'long_name',\n      //street\n      locality: 'long_name',\n      // district\n      sublocality: 'long_name',\n      // district\n      neighborhood: 'long_name',\n      //state\n      political: 'long_name',\n      //state\n      administrative_area_level_1: 'long_name',\n      //state\n      country: 'long_name',\n      //country\n      postal_code: 'long_name' //zipcode\n    };\n    var componentFormName = {\n      street_number: 'number',\n      //number\n      route: 'street',\n      //street\n      locality: 'city',\n      // district\n      administrative_area_level_1: 'state',\n      //state\n      country: 'country',\n      //country\n      postal_code: 'zipcode',\n      //zipcode\n      neighborhood: 'district' //zipcode\n    };\n\n    var data = {\n      coords: {},\n      src: ''\n    };\n\n\n    return {\n      src: src,\n      getDetails: getDetails,\n      searchAddress: searchAddress,\n      parseAddress: parseAddress,\n      findMe: findMe\n    };\n\n    function getLocation() {\n      // Pega a Localização da Pessoa\n      Loading.start();\n      var defer = $q.defer();\n\n      if (data.location) {\n        $timeout(function () {\n          defer.resolve(data.location);\n          Loading.end();\n        }, 1000);\n      } else {\n        var posOptions = {\n          timeout: 10000,\n          enableHighAccuracy: false\n        };\n        $cordovaGeolocation\n          .getCurrentPosition(posOptions)\n          .then(function (position) {\n            console.log('Fez a requisição', position);\n\n            data.location = {\n              latitude: position.coords.latitude,\n              longitude: position.coords.longitude\n            };\n            Loading.end();\n            defer.resolve(data.location);\n          }, function (err) {\n            // error\n            console.log('Error na geolocalização', err);\n            $ionicPopup.alert({\n              title: 'Geo Error',\n              template: err.message\n            });\n            Loading.end();\n            defer.reject(err);\n          });\n      }\n\n\n      return defer.promise;\n    }\n\n\n    function findMe() {\n      var defer = $q.defer();\n\n      getLocation()\n        .then(function (pos) {\n          console.log(pos);\n          getGoogleAddress(pos.latitude, pos.longitude)\n            .success(function (resp) {\n              resp.geolocation = pos;\n              console.log(resp);\n              defer.resolve(resp);\n            })\n            .error(logErr);\n        });\n      return defer.promise;\n    }\n\n\n    function logErr(error) {\n      console.log(error);\n    }\n\n    function getGoogleAddress(lat, lng) {\n      return $http.get('http://maps.google.com/maps/api/geocode/json?latlng=' + lat + ',' + lng + '&sensor=true')\n        .success(function (data) {\n          data.address_normal = data.results[0].formatted_address;\n          data.address = address(data.results[0].address_components);\n          data.src = imagem(lat, lng, 18, 500, 300);\n        });\n    }\n\n    function address(data) {\n      if (!data) {\n        return false;\n      } else {\n        return {\n          numero: data[0].short_name,\n          rua: data[1].long_name,\n          bairro: data[2].short_name,\n          cidade: data[3].short_name,\n          estado: data[5].long_name,\n          uf: data[5].short_name,\n          pais: data[6].long_name,\n          paisCode: data[6].short_name,\n          cep: data[7].short_name\n        };\n      }\n\n    }\n\n    function imagem(lat, lng, zoom, w, h) {\n      return 'http://maps.google.com/maps/api/staticmap?center=' + lat + ',' + lng + '&zoom=' + zoom + '&size=' +\n        w + 'x' + h + '&maptype=roadmap&sensor=true';\n    }\n\n    function parseAddress(place) {\n      console.log('parseAddress', place);\n      var address = {\n        resume: '',\n        geo: {\n          latitude: place.geometry.location.H,\n          longitude: place.geometry.location.L\n        }\n      };\n      var image = src(address.geo.latitude, address.geo.longitude, 16, 900, 200);\n\n      for (var i = 0; i < place.address_components.length; i++) {\n        var addressType = place.address_components[i].types[0];\n        if (componentForm[addressType]) {\n          var val = place.address_components[i][componentForm[addressType]];\n          address[componentFormName[addressType]] = val;\n        }\n      }\n      address.street = address.street + ', ' + address.number;\n      address.image = image;\n      address.resume = address.street + ' - ' + address.city + ', ' + address.state + ', ' + address.country;\n      return address;\n    }\n\n    function searchAddress(input) {\n      var deferred = $q.defer();\n      autocompleteService.getQueryPredictions({\n        input: input\n      }, function (result) {\n        deferred.resolve(result);\n      });\n      return deferred.promise;\n    }\n\n    function getDetails(placeId) {\n      var deferred = $q.defer();\n      detailsService.getDetails({\n        placeId: placeId\n      }, function (result) {\n        deferred.resolve(result);\n      });\n      return deferred.promise;\n    }\n\n    function src(lat, lng, zoom, w, h) {\n      console.log('src latitude', lat, lng, zoom, w, h);\n\n      var link = 'http://maps.googleapis.com/maps/api/staticmap?center=' + lat + ',' + lng + '&zoom=' + zoom +\n        '&scale=1&size=' + w + 'x' + h +\n        '&maptype=roadmap&format=jpg&visual_refresh=true&markers=size:small%7Ccolor:0xff2600%7Clabel:0%7C' + lat +\n        ',' + lng + '&sensor=true';\n      console.log(link);\n      return link;\n    }\n\n  }\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('ion-location')\n    .directive('ionLocation', ionLocation);\n\n  function ionLocation($ionicModal, GeoService) {\n    return {\n      restrict: 'A',\n      scope: {\n        location: '='\n      },\n      link: ionLocationLink\n    };\n\n    function ionLocationLink($scope, element) {\n\n      function init() {\n        $scope.search = {};\n        $scope.search.suggestions = [];\n        $scope.search.query = '';\n      }\n\n\n      function selectPlace(place_id) {\n        GeoService\n          .getDetails(place_id)\n          .then(function (location) {\n\n            console.info(location);\n\n            var address = GeoService\n              .parseAddress(location);\n\n            $scope.location = {\n              number: address.number,\n              street: address.street,\n              district: address.district,\n              city: address.city,\n              state: address.state,\n              country: address.country,\n              zipcode: address.zipcode,\n              coords: address.geo,\n              image: address.image,\n              resume: address.resume\n            };\n\n            console.log($scope.location);\n            $scope.closeModalLocation();\n          });\n      }\n\n      element.bind('focus', function () {\n        init();\n        console.log('Start');\n\n        $scope.findMe = findMe;\n        $scope.choosePlace = choosePlace;\n\n\n        $scope.modalLocation = $ionicModal.fromTemplate('<ion-modal-view>' +\n          '<ion-header-bar class=\"bar bar-positive item-input-inset\">' +\n          '<button class=\"button button-clear button-icon ion-pinpoint\" ng-click=\"findMe()\"></button>' +\n          '<label class=\"item-input-wrapper\">' +\n          '<input type=\"search\" ng-model=\"search.query\" placeholder=\"{{ \\'Search\\' | translate }}\"></label>' +\n          '<button class=\"button button-clear button-icon ion-ios-close-empty\" ng-click=\"closeModalLocation()\"></button>' +\n          '</ion-header-bar>' +\n          '<ion-content padding=\"false\">' +\n          '<ion-list>' +\n          '<ion-item ng-repeat=\"suggestion in search.suggestions\" ng-click=\"choosePlace(suggestion)\" ng-bind=\"suggestion.description\"></ion-item>' +\n          '<ion-item class=\"item-divider\"><img src=\"https://developers.google.com/maps/documentation/places/images/powered-by-google-on-white.png\"alt=\"\"/></ion-item>' +\n          '</ion-list>' +\n          '</ion-content>' +\n          '</ion-modal-view>', {\n            scope: $scope,\n            focusFirstInput: true\n          }\n        );\n\n        $scope.modalLocation.show();\n\n        $scope.closeModalLocation = function () {\n          $scope.modalLocation.hide();\n          $scope.modalLocation.remove();\n        };\n\n        GeoService\n          .searchAddress('São Paulo')\n          .then(function (result) {\n            console.log(result);\n            $scope.search.suggestions = result;\n          });\n\n\n        $scope.$watch('search.query', function (newValue) {\n          if (newValue) {\n            GeoService\n              .searchAddress(newValue)\n              .then(function (result) {\n                console.log(result);\n                $scope.search.suggestions = result;\n              });\n          }\n        });\n\n\n        function findMe() {\n          GeoService\n            .findMe()\n            .then(function (location) {\n              console.log(location);\n\n              selectPlace(location.results[0].place_id);\n\n            });\n        }\n\n        function choosePlace(place) {\n          selectPlace(place.place_id);\n\n        }\n\n      });\n\n    }\n  }\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('ionic-loading')\n    .factory('Loading', Loading);\n\n  function Loading($rootScope, $timeout) {\n    var seconds = 0;\n\n    return {\n      start: showLoading,\n      end: hideLoading,\n    };\n\n\n    function showLoading(text) {\n      $rootScope.$broadcast('ionicLoading:true', text);\n    }\n\n    function hideLoading() {\n      $timeout(function () {\n        $rootScope.$broadcast('ionicLoading:false');\n      }, parseInt(seconds + '000'));\n    }\n  }\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('ionic-loading')\n    .directive('ionLoading', ionLoading);\n\n  function ionLoading() {\n    return {\n      restrict: 'E',\n      scope: {\n        icon: '@',\n        loading: '='\n      },\n      template: '<div class=\"padding text-center loading\" ng-show=\"loading\"><ion-spinner icon=\"{{ icon }}\"></ion-spinner></div>'\n    };\n  }\n})();\n\n(function () {\n  'use strict';\n  angular\n    .module('ngCache', ['angular-cache'])\n    .config(cacheConfig)\n    .factory('Cache', Cache);\n\n  function cacheConfig(CacheFactoryProvider) {\n    angular.extend(CacheFactoryProvider.defaults, {\n      maxAge: 15 * 60 * 1000\n    });\n  }\n\n  function Cache(CacheFactory) {\n\n    return {\n      model: model,\n      data: data\n    };\n\n    function model(model, options) {\n      if (!CacheFactory.get(model)) {\n        CacheFactory.createCache(model, {\n          deleteOnExpire: options.deleteOnExpire || 'aggressive',\n          recycleFreq: options.recycleFreq || 60000,\n          storageMode: options.mode || 'localStorage'\n        });\n      }\n\n      return CacheFactory.get(model);\n    }\n\n    function data(modelName, keys) {\n      var cache = model(modelName);\n      var keys = cache.keys();\n      var data = [];\n      keys.map(function (key) {\n        data.push(cache.get(key));\n      });\n\n      return data;\n    }\n\n\n  }\n\n})();\n\n(function () {\n  'use strict';\n  angular\n    .module('ngParse')\n    .factory('ParseFile', ParseFileFactory);\n\n  /*\n   * params\n   * .object\n   * .title\n   * .photo\n   *  .. filename\n   *  .. photo = base64\n   *  .geo\n   *  .. class\n   *  .. lat\n   *  .. lng\n   *\n   * */\n\n  function ParseFileFactory($q) {\n    return {\n      upload: upload\n    };\n\n    function upload(_params) {\n      var defer = $q.defer();\n      var ImageObject = Parse.Object.extend(_params.object || 'Gallery');\n\n      if (_params.photo !== '') {\n\n        // create the parse file\n        var imageFile = new Parse.File(_params.filename || 'mypic.jpg', {\n          base64: _params.photo\n        });\n\n        // save the parse file\n        imageFile\n          .save()\n          .then(function () {\n\n            _params.photo = null;\n\n            // create object to hold caption and file reference\n            var imageObject = new ImageObject();\n\n            // set object properties\n            imageObject.set('title', _params.title);\n            imageObject.set('user', Parse.User.current());\n            imageObject.set('img', imageFile);\n\n            if (_params.geo !== undefined) {\n              imageObject.set(_params.geo.class || 'location', new Parse.GeoPoint(_params.geo.lat, _params.geo.lng));\n            }\n\n            // save object to parse backend\n            imageObject\n              .save()\n              .then(defer.resolve);\n\n          }, defer.reject);\n\n      } else {\n        // create object to hold caption and file reference\n        var imageObject = new ImageObject();\n\n        // set object properties\n        imageObject.set('caption', _params.caption);\n\n        // save object to parse backend\n        return imageObject.save();\n\n      }\n\n\n      return defer.promise;\n    }\n\n  }\n\n})();\n\n(function () {\n  'use strict';\n  angular\n    .module('ngParse')\n    .factory('ParseImageService', ParseImageServiceFactory);\n\n  function ParseImageServiceFactory($window) {\n    return {\n      all: _all,\n      save: _save,\n      get: _get,\n      delete: _delete,\n      imageSettings: imageSettings,\n      saveImageSettings: saveImageSettings\n    };\n\n    function _all() {\n      var query = new Parse.Query('ImageInfo');\n      query.descending('createdAt');\n      return query.find();\n    }\n\n    function _delete(_objectId) {\n      var query = new Parse.Query('ImageInfo');\n      return query.get(_objectId)\n        .then(function (_data) {\n          return _data.destroy();\n        });\n    }\n\n    function _get(_objectId) {\n      var query = new Parse.Query('ImageInfo');\n      //query.descending('gpa');\n      return query.get(_objectId);\n    }\n\n    /**\n     *\n     * @param _params\n     * @private\n     */\n    function _save(_params) {\n      var ImageObject = Parse.Object.extend('Gallery');\n\n\n      if (_params.photo !== '') {\n\n        console.log('_params.photo ' + _params.photo);\n\n        // create the parse file\n        var imageFile = new Parse.File('mypic.jpg', {\n          base64: _params.photo\n        });\n        //       var imageFile = new Parse.File('mypic.jpg', _params.photo);\n\n\n        // save the parse file\n        return imageFile\n          .save()\n          .then(function () {\n\n            _params.photo = null;\n\n            // create object to hold caption and file reference\n            var imageObject = new ImageObject();\n\n            // set object properties\n            imageObject.set('title', _params.title);\n            imageObject.set('img', imageFile);\n            imageObject.set('user', Parse.User.current());\n            imageObject.set('thumbBase64', _params.thumbBase64);\n            imageObject.set('location', new Parse.GeoPoint(_params.coords.latitude, _params.coords.longitude));\n\n            // save object to parse backend\n            return imageObject.save();\n\n\n          }, function (error) {\n            console.log('Error');\n            console.log(error);\n          });\n\n      } else {\n        // create object to hold caption and file reference\n        var imageObject = new ImageObject();\n\n        // set object properties\n        imageObject.set('caption', _params.caption);\n\n        // save object to parse backend\n        return imageObject.save();\n\n      }\n    }\n\n    function imageSettings() {\n      var savedData = $window.localStorage.getItem('application.image.props') || null;\n      return (savedData !== null ? JSON.parse(savedData) : {\n        quality: 50,\n        dimensions: 250,\n        saveToAlbum: false\n      });\n    }\n\n    function saveImageSettings(_settings) {\n      $window.localStorage.setItem('application.image.props', JSON.stringify(_settings));\n    }\n  }\n\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('ngParse')\n    .factory('Parse', Parse);\n\n\n  function Parse($window) {\n    var parse = $window.Parse;\n    parse.transform = transform;\n    return parse;\n  }\n\n  function transform(resp) {\n    var data = [];\n    resp.map(function (item) {\n      var obj = item.attributes;\n      obj.id = item;\n      data.push(obj);\n    });\n    return data;\n  }\n})();\n\n(function () {\n  'use strict';\n  angular\n    .module('app.intro')\n    .config(configRoutes);\n\n  var path = 'app/module/intro';\n\n  function configRoutes($stateProvider, $translatePartialLoaderProvider) {\n    $stateProvider\n      .state('intro', {\n        url: '/intro',\n        templateUrl: path + '/view/intro.html',\n        controller: 'IntroCtrl',\n        controllerAs: 'vm'\n      });\n\n    // Translation\n    $translatePartialLoaderProvider.addPart(path);\n  }\n\n})();\n\n(function () {\n  'use strict';\n  angular\n    .module('app.loading')\n    .config(configRoutes);\n\n  var path = 'app/module/loading';\n\n  function configRoutes($stateProvider) {\n    $stateProvider\n      .state('router', {\n        url: '/',\n        templateUrl: path + '/view/loading.html',\n        controller: 'LoadingCtrl',\n        controllerAs: 'vm'\n      });\n  }\n\n})();\n\n(function () {\n  'use strict';\n  angular\n    .module('app.photogram')\n    .directive('photogramPhotoCapture', photogramPhotoCapture)\n    .directive('photogramLoading', photogramLoading);\n\n  function photogramLoading() {\n    return {\n      restrict: 'E',\n      scope: {\n        loading: '=',\n        icon: '@'\n      },\n      template: '<div class=\"padding text-center loading\" ng-show=\"loading\"><ion-spinner icon=\"{{ icon }}\"></ion-spinner></div>'\n    };\n  }\n\n\n  function photogramPhotoCapture($ionicModal, $cordovaGeolocation, AppConfig, Loading, $state, PhotoService,\n    Photogram) {\n\n    var path = AppConfig.path;\n\n    return {\n      restrict: 'A',\n      scope: {\n        photogram: '@'\n      },\n      transclude: false,\n      link: photogramPhotoCaptureLink\n    };\n\n    function photogramPhotoCaptureLink(scope, elem, attr) {\n\n      scope.getGeo = getGeo;\n      scope.formFields = Photogram.form;\n      scope.open = open;\n      scope.submitCapture = submitCapture;\n      scope.closeModal = closeModal;\n      elem.bind('click', openModalCapture);\n\n      function init() {\n        scope.loading = true;\n        scope.comments = [];\n        Photogram\n          .getComments(scope.photogram)\n          .then(function (resp) {\n            scope.comments = resp;\n            scope.loading = false;\n          });\n\n        scope.form = {\n          photogramId: scope.photogram,\n          text: ''\n        };\n      }\n\n      function openModalCapture() {\n        console.log(scope.photogram);\n\n\n        $ionicModal.fromTemplateUrl(path + '/view/photogram.capture.modal.html', {\n          scope: scope\n        }).then(function (modal) {\n          scope.modal = modal;\n          scope.modal.show();\n        });\n      }\n\n\n      function init() {\n        scope.active = false;\n        scope.form = {\n          title: '',\n          location: '',\n          photo: '',\n          geo: false\n        };\n\n        scope.map = {\n          center: {\n            latitude: -23.5333333,\n            longitude: -46.6166667\n          },\n          scrollwheel: false,\n          zoom: 15\n        };\n        scope.data = '';\n        scope.loading = false;\n\n      }\n\n      function getLocation() {\n        var posOptions = {\n          timeout: 10000,\n          enableHighAccuracy: false\n        };\n\n        if (scope.form.location === '') {\n\n          scope.loading = false;\n\n          $cordovaGeolocation\n            .getCurrentPosition(posOptions)\n            .then(function (position) {\n\n              scope.here = {\n                id: 1,\n                coords: {\n                  latitude: position.coords.latitude,\n                  longitude: position.coords.longitude,\n                },\n                icon: 'img/pin.png'\n              };\n\n              scope.form.location = {\n                latitude: position.coords.latitude,\n                longitude: position.coords.longitude,\n              };\n\n              scope.map.center = scope.here.coords;\n              scope.loading = false;\n\n              console.log(scope.form);\n              console.log(scope.here);\n              console.log(position);\n            }, function (err) {\n              // error\n            });\n        }\n      };\n\n      function getGeo(resp) {\n        if (resp) getLocation();\n      }\n\n      function open() {\n        init();\n        PhotoService\n          .open()\n          .then(function (resp) {\n            scope.loading = false;\n            scope.active = true;\n            scope.form.photo = resp;\n            scope.data = 'data:image/jpeg;base64,' + resp;\n            // angular.element ('.title').focus ();\n          })\n          .catch(function () {\n            $state.go('photogram.home');\n          });\n      }\n\n      function submitCapture() {\n\n        var canvas = window.document.getElementById('image');\n        var dataUrl = canvas.toDataURL();\n        var dataForm = angular.copy(scope.form);\n\n        console.log('submit', dataUrl);\n\n        return false;\n\n        Loading.start();\n        Photogram\n          .add(dataForm)\n          .then(function (resp) {\n            $state.go('photogram.home', {\n              reload: true\n            });\n            init();\n            Loading.end();\n          });\n      }\n\n      function closeModal() {\n        scope.modal.hide();\n        scope.modal.remove();\n      }\n    }\n  }\n\n})();\n\n(function () {\n  'use strict';\n  angular\n    .module('app.photogram')\n    .config(configRoutes);\n\n  var path = 'app/module/photogram';\n\n  function configRoutes($stateProvider, $translatePartialLoaderProvider) {\n\n    // Translation\n    $translatePartialLoaderProvider.addPart(path);\n\n    $stateProvider\n      .state('photogram', {\n        url: '/photogram',\n        abstract: true,\n        controller: 'PhotogramTabsCtrl',\n        controllerAs: 'vm',\n        templateUrl: path + '/view/photogram.tabs.html'\n      });\n\n\n  }\n\n})();\n\n(function () {\n  'use strict';\n  var path = 'app/module/user';\n\n  angular\n    .module('app.user')\n    .config(addRoute);\n\n  function addRoute($stateProvider, $urlRouterProvider, $translatePartialLoaderProvider) {\n    $translatePartialLoaderProvider.addPart(path);\n\n    $stateProvider\n\n      .state('user', {\n      url: '/user',\n      abstract: true,\n      templateUrl: path + '/view/user.tabs.html'\n    });\n\n    $urlRouterProvider.otherwise('/');\n\n  }\n\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('ion-photo')\n    .directive('caman', camanDirective);\n\n  function camanDirective(CamanJs, $timeout) {\n    return {\n      restrict: 'A',\n      scope: {\n        name: '=',\n        image: '=',\n        filter: '=',\n        loading: '='\n      },\n      template: '<img ng-src=\"{{ image }}\" id=\"{{ name }}\">',\n      link: camanDirectiveLink\n    };\n\n    function camanDirectiveLink($scope) {\n      $scope.loading = true;\n      $timeout(function () {\n        CamanJs\n          .effect($scope.name, $scope.filter)\n          .then(function () {\n            $scope.loading = false;\n          });\n      }, 500);\n    }\n  }\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('ion-photo')\n    .directive('ionCrop', ionCrop);\n\n  function ionCrop($jrCrop, $translate, $ionicActionSheet) {\n\n    return {\n      restrict: 'A',\n      scope: {\n        ngModel: '=',\n        option: '=',\n        cropSave: '&'\n      },\n      template: '<div><input type=\"file\" id=\"browseBtn\" image=\"image\" accept=\"image/*\" style=\"display: none\"/></div>',\n      link: ionCropLink\n    };\n\n    function ionCropLink($scope, element) {\n\n      // Triggered on a button click, or some other target\n      $scope.action = action;\n      element.bind('click', getElem);\n      $scope.crop = crop;\n      angular.element(document.getElementById('browseBtn'))\n        .on('change', fileUpload);\n\n\n      function getElem() {\n        document.getElementById('browseBtn')\n          .click();\n      }\n\n      function action() {\n\n        // Show the action sheet\n        $ionicActionSheet.show({\n          buttons: [{\n            text: '<i class=\"icon ion-camera\"></i>' + ('Photo Camera')\n          }, {\n            text: '<i class=\"icon ion-images\"></i> ' + ('Photo Album')\n          }],\n          //destructiveText:  ('Delete'),\n          titleText: ('Change Image'),\n          cancelText: ('Cancel'),\n          cancel: function () {\n            // add cancel code..\n          },\n          buttonClicked: function (index) {\n\n            if (index === 0) {\n              console.log('Photo Camera');\n            }\n            // Photo Album\n            if (index === 1) {\n              document.getElementById('browseBtn')\n                .click();\n            }\n            return true;\n          }\n        });\n\n      }\n\n      function fileUpload(e) {\n\n        var file = e.target.files[0];\n        var reader = new FileReader();\n        reader.readAsDataURL(file);\n\n        reader.onload = function (event) {\n          var image = event.target.result;\n          $scope.crop(image);\n        };\n\n        // Clear input file\n        angular.element(document.getElementById('browseBtn')).val('');\n\n      }\n\n      function crop(image) {\n\n        console.log($scope.option);\n\n        $jrCrop\n          .crop({\n            url: image,\n            width: $scope.option ? $scope.option.width : 200,\n            height: $scope.option ? $scope.option.height : 200,\n            cancelText: ('Cancel'),\n            chooseText: ('Save')\n          })\n          .then(function (canvas) {\n            var image = canvas.toDataURL();\n            //            var name = $scope.option ? $scope.option.name : 'thumb';\n            //            var filename = ($scope.option ? $scope.option.name : '') + '_' + name + window.Number(new window.Date() + '.jpg';\n\n            //var file = base64ToBlob(image.replace('data:image/png;base64,', ''), 'image/jpeg');\n            //            file.name = filename;\n\n            //upload(file);\n\n            console.log(image);\n            $scope.ngModel = image;\n\n\n          });\n\n      }\n    }\n  }\n\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('ion-photo')\n    .directive('photoFilterCarousel', photoFilterCarousel);\n\n  function photoFilterCarousel(CamanJs, config) {\n    return {\n      restrict: 'E',\n      scope: {\n        image: '=',\n        loadingMaster: '='\n      },\n      templateUrl: config.path + '/view/photo.filter.carousel.html',\n      link: function ($scope) {\n        $scope.filters = CamanJs.filters;\n        $scope.applyFilter = applyFilter;\n\n        function applyFilter(elem, effect) {\n          $scope.loading = true;\n          if (effect) {\n            CamanJs\n              .effect(elem, effect, true)\n              .then(function (resp) {\n                $scope.loading = false;\n              });\n          }\n        }\n      }\n    };\n  }\n\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('ion-photo')\n    .directive('photoFilter', photoFilter);\n\n  function photoFilter(config) {\n    return {\n      restrict: 'E',\n      scope: {\n        image: '='\n      },\n      templateUrl: config.path + '/view/photo.filter.html'\n    };\n  }\n})();\n\n(function () {\n  'use strict';\n\n\n  angular\n    .module('ion-photo')\n    .factory('CamanJs', CamanJsFactory);\n\n  function CamanJsFactory($q) {\n    var Caman = window.Caman;\n    var filters = [\n      'normal',\n      'vintage',\n      'lomo',\n      'clarity',\n      'sinCity',\n      'sunrise',\n      'crossProcess',\n      'orangePeel',\n      'love',\n      'grungy',\n      'jarques',\n      'pinhole',\n      'oldBoot',\n      'glowingSun',\n      'hazyDays',\n      'herMajesty',\n      'nostalgia',\n      'hemingway',\n      'concentrate'\n    ];\n\n    return {\n      filters: filters,\n      effect: filter,\n      reset: resetEffect\n    };\n\n    function filter(elem, effect, status) {\n      var defer = $q.defer();\n      var image = window.document.getElementById(elem);\n\n      if (image) {\n        Caman(image, function () {\n          if (effect === 'normal') {\n            this.revert();\n            this.render(function () {\n              defer.resolve(effect);\n            });\n          }\n\n          if (effect in this) {\n            this[effect]();\n\n            if (status) {\n              this.revert();\n            }\n            this.render(function () {\n              defer.resolve(effect);\n            });\n          }\n\n        });\n      } else {\n        defer.reject();\n      }\n      return defer.promise;\n    }\n\n    function resetEffect(elem) {\n\n      var defer = $q.defer();\n      var image = window.document.getElementById(elem);\n\n      Caman(image, function () {\n        this.revert();\n        defer.resolve(true);\n      });\n\n      return defer.promise;\n    }\n  }\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('ion-photo')\n    .factory('PhotoFilter', PhotoFilter);\n\n  function PhotoFilter($rootScope, $q, $ionicModal) {\n\n    return {\n      load: modalFilter\n    };\n\n    function modalFilter(image, done) {\n      var template =\n        '<ion-modal-view class=\"modal-capture\"><ion-header-bar class=\"bar-dark\"><button class=\"button button-clear button-icon ion-ios-arrow-thin-left\"ng-click=\"closeCapture()\"></button><div class=\"title text-left\">{{ \\'ION-PHOTO.FILTERS\\' | translate }}</div><button class=\"button button-clear button-icon ion-ios-arrow-thin-right\"ng-click=\"submitCapture()\"></button></ion-header-bar><ion-content scroll=\"false\"><photo-filter image=\"form.photo\"></photo-filter></ion-content></ion-modal-view>';\n      var image = image.toDataURL();\n\n      var scope = $rootScope.$new(true);\n      scope.closeCapture = closeModalCapture;\n      scope.submitCapture = submitCapture;\n      scope.form = {\n        photo: image\n      };\n\n      scope.modal = $ionicModal.fromTemplate(template, {\n        scope: scope\n      });\n\n      scope.modal.show();\n\n\n      function submitCapture() {\n        var canvas = window.document.getElementById('image');\n        var dataUrl = canvas.toDataURL();\n        console.log(dataUrl);\n        done(dataUrl);\n        closeModalCapture();\n      }\n\n      function closeModalCapture() {\n        scope.modal.hide();\n      }\n\n    }\n\n  }\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('ion-photo')\n    .factory('PhotoService', PhotoService);\n\n  function PhotoService($ionicActionSheet, $translate, AppConfig, PhotogramShare, $jrCrop, $rootScope, $ionicModal,\n    $cordovaCamera, $cordovaCapture, $q) {\n\n    // Default Setting\n    var tempImage;\n    var cordova = window.cordova;\n    var setting = {\n      jrCrop: true,\n      quality: 90,\n      allowEdit: false,\n      filter: true,\n      correctOrientation: true,\n      targetWidth: 300,\n      targetHeight: 300,\n      saveToPhotoAlbum: false,\n      allowRotation: false,\n      aspectRatio: 0\n    };\n\n    return {\n      open: openModal,\n      crop: cropModal,\n      filter: filterModal,\n      share: shareModal,\n    };\n\n    function openModal(option) {\n      var defer = $q.defer();\n      var options = {\n        jrCrop: option.jrCrop ? option.jrCrop : setting.jrCrop,\n        filter: option.filter ? option.filter : setting.filter,\n        quality: option.quality ? option.quality : setting.quality,\n        aspectRatio: option.aspectRatio ? option.aspectRatio : setting.aspectRatio,\n        allowRotation: option.allowRotation ? option.allowRotation : setting.allowRotation,\n        allowEdit: option.allowEdit ? option.allowEdit : setting.allowEdit,\n        correctOrientation: option.correctOrientation ? option.correctOrientation : setting.correctOrientation,\n        targetWidth: option.width ? option.width : setting.targetWidth,\n        targetHeight: option.height ? option.height : setting.targetHeight,\n        saveToPhotoAlbum: option.saveToPhotoAlbum ? option.saveToPhotoAlbum : setting.saveToPhotoAlbum,\n        destinationType: window.cordova ? Camera.DestinationType.DATA_URL : null,\n        encodingType: window.cordova ? Camera.EncodingType.JPEG : null,\n        popoverOptions: window.cordova ? CameraPopoverOptions : null,\n      };\n      var buttons = [{\n        text: '<i class=\"icon ion-ios-camera\"></i>' + $translate.instant('ION-PHOTO.CAMERA')\n      }, {\n        text: '<i class=\"icon ion-images\"></i>' + $translate.instant('ION-PHOTO.GALLERY')\n      }, {\n        text: '<i class=\"icon ion-ios-videocam\"></i>' + $translate.instant('ION-PHOTO.VIDEO')\n      }];\n      var actionSheet = $ionicActionSheet.show({\n        buttons: buttons,\n        titleText: $translate.instant('ION-PHOTO.SHARE'),\n        cancelText: $translate.instant('ION-PHOTO.CANCEL'),\n        cancel: buttonCancel,\n        buttonClicked: buttonClicked\n      });\n\n      function buttonClicked(index) {\n        console.log(index);\n        actionSheet();\n        capture(index, options)\n          .then(cropModal)\n          .then(filterModal)\n          .then(function (resp) {\n            console.log('Final rest');\n            defer.resolve(resp);\n          })\n          .catch(buttonCancel);\n      }\n\n\n      function buttonCancel(resp) {\n        actionSheet(resp);\n      }\n\n      return defer.promise;\n    }\n\n    function cropModal(image) {\n      var defer = $q.defer();\n\n      if (setting.jrCrop) {\n        $jrCrop\n          .crop({\n            url: image,\n            aspectRatio: setting.aspectRatio ? setting.aspectRatio : false,\n            allowRotation: setting.allowRotation ? setting.allowRotation : false,\n            width: setting.width ? setting.width : setting.targetWidth,\n            height: setting.height ? setting.height : setting.targetHeight,\n            cancelText: $translate.instant('ION-PHOTO.CANCEL'),\n            chooseText: $translate.instant('ION-PHOTO.CROP')\n          })\n          .then(function (canvas) {\n            defer.resolve(canvas.toDataURL());\n          })\n          .catch(defer.reject);\n      } else {\n        defer.resolve(image);\n      }\n      return defer.promise;\n    }\n\n    function shareModal(image) {\n      var template =\n        '<ion-modal-view class=\"modal-share\"> <ion-header-bar class=\"bar-dark\"> <div class=\"title\">{{ \\'ION-PHOTO.SHARE\\' | translate }}</div> <button class=\"button button-positive\" ng-click=\"modal.hide()\"> <i class=\"icon ion-arrow-right-b\"></i> </button> </ion-header-bar> <ion-content ng-cloak> <div id=\"image\"> <img ng-src=\"{{form.photo}}\"> <div class=\"title\">{{ form.title }}</div></div> <ul class=\"list\"> <li class=\"padding\"> <button ng-repeat=\"social in sociais\" ng-click=\"share(form, social)\"class=\"button button-block button-{{ social }}\"><i class=\"icon ion-social-{{ social }}\"></i>{{ social | uppercase }} </button> </li> </ul> </ion-content> </ion-modal-view>';\n\n      if (image === undefined) return false;\n      var scope = $rootScope.$new(true);\n      var socials = [\n        'facebook',\n        'instagram',\n        'whatsapp',\n        'twitter'\n      ];\n      //image = image.attributes;\n\n      scope.sociais = socials;\n      scope.share = shareSocial;\n      scope.form = {\n        title: '',\n        photo: image\n      };\n\n      scope.modal = $ionicModal.fromTemplate(template, {\n        scope: scope\n      });\n      scope.modal.show();\n\n\n      function shareSocial(social, form) {\n        console.log('share', social, form);\n        PhotogramShare\n          .share(social, {\n            text: form.title,\n            image: form.photo,\n            link: AppConfig.app.url\n          });\n      }\n\n\n    }\n\n    function filterModal(image) {\n      var defer = $q.defer();\n\n      function openFilter(image) {\n        var templateFilter =\n          '<ion-modal-view class=\"modal-capture\"><ion-header-bar class=\"bar-dark\"><button class=\"button button-clear button-icon ion-ios-arrow-thin-left\" ng-click=\"cropImage()\"></button><div class=\"title\">{{ \\'ION-PHOTO.FILTERS\\' | translate }}</div><button class=\"button button-icon \" ng-click=\"submitFilter()\"><i class=\"icon ion-ios-arrow-thin-right\"></i></button></ion-header-bar><ion-content><photo-filter image=\"form.photo\"></photo-filter></ion-content></ion-modal-view>';\n        var scope = $rootScope.$new(true);\n        scope.closeFilter = closeFilter;\n        scope.submitFilter = submitFilter;\n        tempImage = image;\n        scope.form = {\n          photo: image\n        };\n\n        scope.modalFilter = $ionicModal.fromTemplate(templateFilter, {\n          scope: scope\n        });\n\n        scope.cropImage = function () {\n          scope.modalFilter.remove();\n          cropModal(tempImage)\n            .then(openFilter);\n        };\n\n        scope.modalFilter.show();\n\n        function closeFilter() {\n          defer.reject();\n          scope.modalFilter.hide();\n        }\n\n        function submitFilter() {\n          var canvas = window.document.getElementById('image');\n          var dataUrl = canvas.toDataURL();\n          scope.modalFilter.remove();\n          defer.resolve(dataUrl);\n        }\n\n      }\n\n      openFilter(image);\n\n      return defer.promise;\n    }\n\n\n    function capture(type, options) {\n      var defer = $q.defer();\n\n      // CAMERA\n      if (type === 0) {\n        getPicture(0);\n      }\n\n      // GALLERY\n      if (type === 1) {\n        getPicture(1);\n      }\n\n      // Video\n      if (type === 2) {\n        getVideo();\n      }\n\n      function getPicture(method) {\n        if (method === 0 && cordova) options.sourceType = Camera.PictureSourceType.CAMERA;\n        if (method === 1 && cordova) options.sourceType = Camera.PictureSourceType.PHOTOLIBRARY;\n\n        if (cordova) {\n          $cordovaCamera\n            .getPicture(options)\n            .then(defer.resolve, defer.reject);\n        } else {\n          var fileInput = angular.element('<input type=\"file\"/>');\n          fileInput[0].click();\n          fileInput.on('change', function (evt) {\n            tempImage = evt.currentTarget.files[0];\n            var reader = new FileReader();\n            reader.onload = function (evt) {\n              defer.resolve(evt.target.result);\n            };\n            reader.readAsDataURL(tempImage);\n          });\n        }\n      }\n\n      function getVideo() {\n        $cordovaCapture\n          .captureVideo({\n            limit: 1,\n            duration: 5\n          })\n          .then(function (mediaFiles) {\n            tempImage = mediaFiles[0].fullPath;\n            defer.resolve(tempImage);\n          }, defer.reject);\n      }\n\n\n      return defer.promise;\n    }\n  }\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('ion-photo')\n    .factory('Video', Video);\n\n  function Video($window, $q) {\n    var deferred = $q.defer();\n    //https://devdactic.com/capture-and-store-videos-ionic/\n    // Resolve the URL to the local file\n    // Start the copy process\n    function createFileEntry(fileURI) {\n      $window.resolveLocalFileSystemURL(fileURI, function (entry) {\n        return copyFile(entry);\n      }, fail);\n    }\n\n    // Create a unique name for the videofile\n    // Copy the recorded video to the app dir\n    function copyFile(fileEntry) {\n      var name = fileEntry.fullPath.substr(fileEntry.fullPath.lastIndexOf('/') + 1);\n      var newName = makeid() + name;\n\n      $window.resolveLocalFileSystemURL(cordova.file.dataDirectory, function (fileSystem2) {\n          fileEntry.copyTo(fileSystem2, newName, function (succ) {\n            return onCopySuccess(succ);\n          }, fail);\n        },\n        fail\n      );\n    }\n\n    // Called on successful copy process\n    // Creates a thumbnail from the movie\n    // The name is the moviename but with .png instead of .mov\n    function onCopySuccess(entry) {\n      var name = entry.nativeURL.slice(0, -4);\n      $window.PKVideoThumbnail.createThumbnail(entry.nativeURL, name + '.png', function (prevSucc) {\n        return prevImageSuccess(prevSucc);\n      }, fail);\n    }\n\n    // Called on thumbnail creation success\n    // Generates the currect URL to the local moviefile\n    // Finally resolves the promies and returns the name\n    function prevImageSuccess(succ) {\n      var correctUrl = succ.slice(0, -4);\n      correctUrl += '.MOV';\n      deferred.resolve(correctUrl);\n    }\n\n    // Called when anything fails\n    // Rejects the promise with an Error\n    function fail(error) {\n      console.log('FAIL: ' + error.code);\n      deferred.reject('ERROR');\n    }\n\n    // Function to make a unique filename\n    function makeid() {\n      var text = '';\n      var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n      for (var i = 0; i < 5; i++) {\n        text += possible.charAt(Math.floor(Math.random() * possible.length));\n      }\n      return text;\n    }\n\n    // The object and functions returned from the Service\n    return {\n      // This is the initial function we call from our controller\n      // Gets the videoData and calls the first service function\n      // with the local URL of the video and returns the promise\n      saveVideo: function (data) {\n        createFileEntry(data[0].localURL);\n        return promise;\n      }\n    };\n  }\n\n})();\n\n(function () {\n  'use strict';\n  angular\n    .module('app.intro')\n    .controller('IntroCtrl', IntroCtrl);\n\n  function IntroCtrl($ionicSlideBoxDelegate, $translate) {\n    var vm = this;\n    var currentPlatform = window.ionic.Platform.platform();\n    vm.slideIndex = 0;\n    vm.slideChanged = slideChanged;\n    vm.next = function () {\n      $ionicSlideBoxDelegate.next();\n    };\n    vm.previous = function () {\n      $ionicSlideBoxDelegate.previous();\n    };\n\n\n    if (currentPlatform) {\n      vm.device = (currentPlatform === 'android') ? 'android' : 'iphone';\n    } else {\n      vm.device = 'android';\n    }\n\n    console.log($translate.instant('INTRO.STEP1'));\n    vm.slides = [{\n        top: $translate.instant('INTRO.STEP1'),\n        img: 'img/intro1.jpg'\n      }, {\n        top: $translate.instant('INTRO.STEP2'),\n        img: 'img/intro2.jpg'\n      }, {\n        top: $translate.instant('INTRO.STEP3'),\n        img: 'img/intro3.jpg'\n      }, {\n        top: $translate.instant('INTRO.STEP4'),\n        img: 'img/intro4.jpg'\n      }, {\n        top: $translate.instant('INTRO.STEP5'),\n        img: 'img/intro5.jpg'\n      }\n\n    ];\n\n    function slideChanged(index) {\n      vm.slideIndex = index;\n    }\n\n\n  }\n\n})();\n\n(function () {\n  'use strict';\n  /**\n   * @ngdoc controller\n   * @name LoadingCtrl\n   *\n   * @description\n   * _Please update the description and dependencies._\n   *\n   * @requires $scope\n   * */\n  angular\n    .module('app.loading')\n    .controller('LoadingCtrl', LoadingController);\n\n  function LoadingController($rootScope, AppConfig, $state) {\n    var user = $rootScope.user;\n    console.log('User', user);\n\n    if (user) {\n      console.log(user);\n      if (user.name) {\n        $state.go(AppConfig.routes.home, {\n          clear: true\n        });\n      } else {\n        $state.go('useravatar', {\n          clear: true\n        });\n      }\n    } else {\n      $state.go('intro', {\n        clear: true\n      });\n    }\n  }\n\n\n})();\n\n(function () {\n  'use strict';\n  /**\n   * @ngdoc controller\n   * @name PhotogramTabsCtrl\n   *\n   * @description\n   * _Please update the description and dependencies._\n   *\n   * @requires $scope\n   * */\n  angular\n    .module('app.photogram')\n    .controller('PhotogramTabsCtrl', PhotogramTabsController);\n\n  function PhotogramTabsController($scope, $state, AppConfig, $rootScope, Photogram, $ionicModal, Loading,\n    PhotogramSetting, PhotoService) {\n    var vm = this;\n    var path = AppConfig.path;\n    vm.postPhoto = open;\n\n    function open() {\n      var option = {\n        crop: PhotogramSetting.get('imageCrop'),\n        allowEdit: PhotogramSetting.get('imageEdit'),\n        filter: true,\n        //filter: PhotogramSetting.get('imageFilter'),\n        allowRotation: PhotogramSetting.get('imageRotation'),\n        quality: PhotogramSetting.get('imageQuality'),\n        correctOrientation: PhotogramSetting.get('imageEdit'),\n        targetWidth: PhotogramSetting.get('imageWidth'),\n        targetHeight: PhotogramSetting.get('imageHeight'),\n        saveToPhotoAlbum: PhotogramSetting.get('imageSaveAlbum')\n      };\n      console.log(option);\n\n      PhotoService\n        .open(option)\n        .then(modalPost)\n        .catch(goHome);\n    }\n\n\n    function goHome() {\n      console.warn('Deu erro');\n      $state.go('photogram.home');\n    }\n\n    function modalPost(image) {\n      $scope.closePost = closeModalPost;\n      $scope.submitPost = submitPost;\n      $scope.form = {\n        title: '',\n        location: '',\n        photo: image,\n        geo: false\n      };\n\n      $ionicModal\n        .fromTemplateUrl(path + '/module/share/view/photogram.post.modal.html', {\n          scope: $scope,\n          focusFirstInput: true\n        })\n        .then(function (modal) {\n          $scope.form.photo = image;\n          $scope.modalPost = modal;\n          $scope.modalPost.show();\n        });\n\n      function closeModalPost() {\n        $scope.modalPost.hide();\n        $scope.modalPost.remove();\n        Loading.end();\n      }\n\n      function submitPost(resp) {\n        var form = angular.copy(resp);\n        console.log(form);\n        Loading.start();\n        Photogram\n          .post(form)\n          .then(function () {\n            closeModalPost();\n            $rootScope.$emit('filterModal:close');\n            $rootScope.$emit('PhotogramHome:reload');\n          });\n      }\n    }\n  }\n\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('app.photogram')\n    .factory('Photogram', PhotogramFactory);\n\n  function PhotogramFactory($q, Parse, User, Loading) {\n\n    var currentUser = Parse.User.current();\n    var limitComment = 3;\n\n    return {\n      addActivity: addActivity,\n      listActivity: listActivity,\n      all: all,\n      home: home,\n      post: post,\n      get: get,\n      deletePhoto: deletePhoto,\n      find: find,\n      nearby: nearby,\n      // User\n      profile: profile,\n      getUser: getUser,\n      getUserGallery: getUserGallery,\n      getUserGalleryQtd: getUserGalleryQtd,\n      // Comment\n      allComment: allComment,\n      addComment: addComment,\n      getComments: getComments,\n      updateComment: updateComment,\n      deleteComment: deleteComment,\n      // Like\n      getLikes: getLikes,\n      likeGallery: likeGallery,\n      // Follow\n      getFollow: getFollow,\n      search: search\n    };\n\n    function loadProfile(response) {\n\n      if (response) {\n        var user = processImg(response);\n\n        console.info(response, user);\n        return user;\n      } else {\n        User.logout();\n        return false;\n      }\n    }\n\n    function deletePhoto(galleryId) {\n      var defer = $q.defer();\n\n      new Parse\n        .Query('Gallery')\n        .get(galleryId, function (resp) {\n          resp.destroy();\n          defer.resolve(resp);\n        });\n\n      return defer.promise;\n    }\n\n    function post(_params) {\n      var defer = $q.defer();\n      var ImageObject = Parse.Object.extend('Gallery');\n\n      if (_params.photo !== '') {\n\n        // create the parse file\n        var imageFile = new Parse.File('mypic.jpg', {\n          base64: _params.photo\n        });\n\n        // save the parse file\n        imageFile\n          .save()\n          .then(function () {\n\n            _params.photo = null;\n\n            // create object to hold caption and file reference\n            var imageObject = new ImageObject();\n\n            // set object properties\n            imageObject.set('title', _params.title);\n            imageObject.set('user', Parse.User.current());\n            imageObject.set('img', imageFile);\n\n            if (_params.location !== undefined) {\n              imageObject.set('location', new Parse.GeoPoint(_params.location.latitude, _params.location.longitude));\n            }\n\n            // save object to parse backend\n            imageObject\n              .save()\n              .then(function (resp) {\n                console.log('Posted Photo', resp);\n                // Add User QtdPhoto\n                defer.resolve(resp);\n              });\n\n          }, function (error) {\n            console.log('Error', error);\n            defer.reject(error);\n          });\n\n      } else {\n        // create object to hold caption and file reference\n        var imageObject = new ImageObject();\n\n        // set object properties\n        imageObject.set('caption', _params.caption);\n\n        // save object to parse backend\n        return imageObject.save();\n\n      }\n\n\n      return defer.promise;\n    }\n\n    function allComment(galleryId) {\n      var defer = $q.defer();\n\n      var gallery = new Parse\n        .Query('Gallery')\n        .get(galleryId, function (resp) {\n          console.log(resp);\n          return resp;\n        });\n\n      new Parse\n        .Query('GalleryComment')\n        .equalTo('galery', gallery)\n        //.include ('commentBy')\n        .descending('createdAt')\n        .find()\n        .then(function (resp) {\n          var objs = [];\n          angular.forEach(resp, function (item) {\n            var obj = item.attributes;\n            obj.id = item.id;\n            obj.user = item.attributes.commentBy;\n            objs.push(obj);\n          });\n          Loading.end();\n          defer.resolve(objs);\n        });\n      return defer.promise;\n    }\n\n    function getComments(obj) {\n      var defer = $q.defer();\n\n      new Parse\n        .Query('Gallery')\n        .get(obj)\n        .then(function (gallery) {\n          new Parse\n            .Query('GalleryComment')\n            .equalTo('gallery', gallery)\n            .include('commentBy')\n            .ascending('createdAt')\n            .find()\n            .then(function (resp) {\n              var comments = [];\n              resp.map(function (item) {\n                console.warn(item);\n                var obj = {\n                  id: item.id,\n                  text: item.attributes.text,\n                  created: item.createdAt\n                };\n                var userComment = item.attributes.commentBy.attributes;\n                userComment.id = item.attributes.commentBy.id;\n\n                obj.user = processImg(userComment);\n                comments.push(obj);\n              });\n              defer.resolve(comments);\n            });\n        });\n\n      return defer.promise;\n    }\n\n    function updateComment(obj) {\n      var defer = $q.defer();\n      console.log('updateComment', obj);\n      new Parse\n        .Query('GalleryComment')\n        .get(obj.id, function (comment) {\n          console.log('updateComment comment', comment);\n          comment.set('text', obj.text);\n          comment.save();\n          defer.resolve();\n        });\n      return defer.promise;\n    }\n\n    function deleteComment(item) {\n      var defer = $q.defer();\n      new Parse\n        .Query('GalleryComment')\n        .get(item.id, deleteItem);\n\n      function deleteItem(comment) {\n        comment.destroy(function () {\n          defer.resolve();\n        });\n      }\n\n      return defer.promise;\n    }\n\n    function getFollow(userId) {\n      var defer = $q.defer();\n\n      User\n        .find(userId)\n        .then(function (user) {\n\n          new Parse\n            .Query('UserFollow')\n            .equalTo('user', user)\n            .include('follow')\n            .find()\n            .then(function (resp) {\n              var data = [];\n              angular.forEach(resp, function (item) {\n                console.warn(item);\n                var obj = {\n                  id: item.id,\n                  text: item.attributes.text,\n                  user: item.attributes.follow.attributes,\n                  created: item.createdAt\n                };\n                obj.user = processImg(obj.user);\n\n                data.push(obj.user);\n              });\n              defer.resolve(data);\n            });\n        });\n\n      return defer.promise;\n    }\n\n    function getLikes(obj) {\n      var defer = $q.defer();\n\n      new Parse\n        .Query('Gallery')\n        .get(obj)\n        .then(function (gallery) {\n          if (gallery.length) {\n            new Parse\n              .Query('GalleryLike')\n              .equalTo('gallery', gallery)\n              .include('user')\n              .ascending('createdAt')\n              .find()\n              .then(function (resp) {\n                var objs = [];\n                angular.forEach(resp, function (item) {\n                  console.warn(item);\n                  var obj = {\n                    id: item.id,\n                    text: item.attributes.text,\n                    user: item.attributes.user.attributes,\n                    created: item.createdAt\n                  };\n                  objs.push(obj);\n                });\n                console.log(objs);\n                defer.resolve(objs);\n              });\n          } else {\n            defer.reject(true);\n          }\n        });\n\n      return defer.promise;\n    }\n\n\n    function nearby(position) {\n      var defer = $q.defer();\n      var data = [];\n\n      var point = new Parse.GeoPoint(position);\n      var maxDistance = 1;\n\n      new Parse\n        .Query('Gallery')\n        //.near('location', point)\n        .include('user')\n        .withinRadians('location', point, maxDistance)\n        .limit(50)\n        .find()\n        .then(function (resp) {\n          if (resp.length) {\n            resp.map(function (value) {\n              var size = 100;\n              var obj = value.attributes;\n              obj.id = value.id;\n              obj.img = value.attributes.img.url();\n              obj.created = value.createdAt;\n              obj.icon = {\n                size: {\n                  width: 100,\n                  height: 100\n                },\n\n                scaledSize: {\n                  width: size / 2,\n                  height: size / 2\n                },\n                url: 'img/icon.png'\n              };\n              obj.icon.url = obj.img;\n              obj.coords = {\n                latitude: obj.location._latitude,\n                longitude: obj.location._longitude\n              };\n              data.push(obj);\n            });\n\n\n            defer.resolve(data);\n          } else {\n            defer.reject(true);\n          }\n        });\n\n      return defer.promise;\n    }\n\n    function search(string, page) {\n      var defer = $q.defer();\n      var data = [];\n      var limit = 15;\n\n      new Parse\n        .Query('Gallery')\n        .limit(limit)\n        .skip(page * limit)\n        .matches('title', '* ' + string + '.*')\n        .include('user')\n        .find()\n        .then(function (resp) {\n          resp.map(function (value) {\n            console.log('gallery search item', value);\n            var obj = {\n              id: value.id,\n              item: value.attributes,\n              src: value.attributes.img.url(),\n              created: value.createdAt,\n              user: value.attributes.user.id\n            };\n            data.push(obj);\n          });\n          defer.resolve(data);\n        });\n\n      return defer.promise;\n    }\n\n    function home(page) {\n      var defer = $q.defer();\n      var limit = 4;\n      var data = [];\n\n      new Parse\n        .Query('Gallery')\n        .descending('createdAt')\n        //.notEqualTo('user', user)\n        //.containedIn('ref', following)\n        //.containsAll('ref', following)\n        .include('user')\n        .limit(limit)\n        .skip(page * limit)\n        .find()\n        .then(function (resp) {\n\n          console.log('home', resp);\n\n          var qtd = resp.length;\n\n          if (!qtd) {\n            defer.reject(true);\n          }\n\n          var cb = _.after(resp.length, function () {\n            defer.resolve(data);\n          });\n\n          _.each(resp, function (item) {\n            //grab relations\n\n            var likes = item.relation('likes');\n            var comments = item.relation('comments');\n\n            likes\n              .query()\n              .equalTo('gallery', item)\n              .equalTo('user', currentUser)\n              .count()\n              .then(function (liked) {\n\n                comments\n                  .query()\n                  .include('commentBy')\n                  .ascending('createdAt')\n                  .limit(limitComment)\n                  .find()\n                  .then(function (comments) {\n                    console.log(comments);\n\n                    var commentsData = [];\n\n                    comments.map(function (item) {\n                      var user = item.attributes.commentBy;\n\n                      var comment = {\n                        id: item.id,\n                        text: item.attributes.text,\n                        user: user.attributes\n                      };\n\n                      comment.user.id = user.id;\n                      comment.user = processImg(comment.user);\n                      commentsData.push(comment);\n                    });\n\n                    var obj = {\n                      id: item.id,\n                      item: item.attributes,\n                      created: item.createdAt,\n                      likes: likes,\n                      src: item.attributes.img.url(),\n                      comments: commentsData\n                    };\n\n                    obj.item.liked = liked;\n\n                    if (item.attributes.user) {\n                      obj.user = item.attributes.user.attributes,\n                        obj.user.id = item.attributes.user.id ? item.attributes.user.id : '';\n                      obj.user = processImg(obj.user);\n                    } else {\n                      // remove gallery\n                    }\n\n                    data.push(obj);\n                    cb();\n                  });\n              });\n\n          });\n        });\n\n      return defer.promise;\n    }\n\n    /*\n     * 1) Gallery, Limit\n     * 2) GalleryComment, Limi\n     * 3) Like, count, liked\n     * */\n    function all(page, userId) {\n      var defer = $q.defer();\n      var limit = 18;\n      var data = [];\n\n      var query;\n\n      if (userId) {\n        console.log(userId);\n        var loadUser = new Parse\n          .Query('User')\n          .equalTo('objectId', userId)\n          .first(userId, function (resp) {\n            return resp;\n          });\n\n\n        query = new Parse\n          .Query('Gallery')\n          .descending('createdAt')\n          .include('user')\n          .limit(limit)\n          .equalTo('user', loadUser)\n          .skip(page * limit)\n          .find();\n      } else {\n\n        query = new Parse\n          .Query('Gallery')\n          .descending('createdAt')\n          //.notEqualTo('user', Parse.User.current())\n          .include('user')\n          .limit(limit)\n          .skip(page * limit)\n          .find();\n      }\n      query\n        .then(function (resp) {\n          if (resp.length) {\n\n            var cb = _.after(resp.length, function () {\n              defer.resolve(data);\n            });\n\n            _.each(resp, function (item) {\n              //grab relations\n\n              var likes = item.relation('likes');\n              var comments = item.relation('comments');\n\n              likes\n                .query()\n                .equalTo('gallery', item)\n                .equalTo('user', currentUser)\n                .count()\n                .then(function (liked) {\n\n                  comments\n                    .query()\n                    .include('commentBy')\n                    .ascending('createdAt')\n                    .limit(limitComment)\n                    .find()\n                    .then(function (comments) {\n                      console.log(comments);\n\n                      var commentsData = [];\n\n                      angular.forEach(comments, function (item) {\n                        var user = item.attributes.commentBy;\n                        var comment = {\n                          id: item.id,\n                          text: item.attributes.text,\n                          user: user.attributes\n                        };\n                        comment.user.id = user.id;\n                        comment.user = processImg(comment.user);\n                        commentsData.push(comment);\n                      });\n\n                      var obj = {\n                        id: item.id,\n                        item: item.attributes,\n                        created: item.createdAt,\n                        likes: likes,\n                        src: item.attributes.img.url(),\n                        comments: commentsData\n                      };\n\n                      obj.item.liked = liked;\n\n                      if (item.attributes.user) {\n                        obj.user = item.attributes.user.attributes,\n                          obj.user.id = item.attributes.user.id ? item.attributes.user.id : '',\n                          obj.user = processImg(obj.user);\n                      } else {\n                        // remove gallery\n                      }\n\n                      data.push(obj);\n                      cb();\n                    });\n                });\n\n            });\n          } else {\n            defer.reject(true);\n          }\n\n        });\n\n      return defer.promise;\n    }\n\n    function get(item) {\n      var defer = $q.defer();\n\n      console.log(item);\n      Loading.start();\n\n      find(item)\n        .then(function (resp) {\n          console.log(resp);\n\n          var likes = resp.relation('likes');\n          var comments = resp.relation('comments');\n\n          likes\n            .query()\n            .equalTo('gallery', item)\n            .equalTo('user', currentUser)\n            .count()\n            .then(function (liked) {\n\n              likes\n                .query()\n                .count()\n                .then(function (likes) {\n\n                  comments\n                    .query()\n                    .include('commentBy')\n                    .descending('createdAt')\n                    .limit(limitComment)\n                    .find()\n                    .then(function (comments) {\n                      console.log(comments);\n\n                      var commentsData = [];\n\n                      angular.forEach(comments, function (item) {\n                        var comment = {\n                          id: item.id,\n                          text: item.attributes.text,\n                          user: item.attributes.commentBy.attributes\n                        };\n                        comment.user.id = item.id;\n                        commentsData.push(comment);\n                      });\n\n                      var obj = {\n                        id: item.id,\n                        item: item.attributes,\n                        created: item.createdAt,\n                        likes: likes,\n                        liked: liked,\n                        user: item.attributes.user.attributes,\n                        comments: commentsData\n                      };\n                      obj.user.id = item.attributes.user.id;\n                      obj.user = processImg(obj.user);\n\n                      defer.resolve(obj);\n                      Loading.end();\n                    });\n                });\n            });\n\n        });\n\n      return defer.promise;\n    }\n\n    function processImg(obj) {\n      console.log(obj);\n      if (obj) {\n        if (obj.facebook) {\n          obj.src = (obj.facebookimg) ? obj.facebookimg : 'img/user.png';\n        } else {\n          obj.src = (obj.img) ? obj.img.url() : 'img/user.png';\n        }\n        return obj;\n      } else {\n        return {};\n      }\n    }\n\n    function find(id) {\n      var defer = $q.defer();\n      new Parse\n        .Query('Gallery')\n        .include('user')\n        .get(id)\n        .then(function (resp) {\n          defer.resolve(resp);\n        });\n      return defer.promise;\n    }\n\n\n    function addComment(form) {\n      var defer = $q.defer();\n      console.log('addComent', form);\n\n      find(form.galleryId)\n        .then(function (gallery) {\n          var Object = Parse.Object.extend('GalleryComment');\n          var item = new Object({});\n\n          angular.forEach(form, function (value, key) {\n            item.set(key, value);\n          });\n          item.set('commentBy', Parse.User.current());\n          item.set('gallery', gallery);\n\n          item.save(null)\n            .then(function (resp) {\n              console.log(resp);\n\n              addActivity({\n                galleryId: gallery.id,\n                action: 'add comment'\n              });\n\n              gallery\n                .relation('comments')\n                .add(resp);\n\n              gallery\n                .save()\n                .then(function (resp) {\n                  console.log(resp);\n                  defer.resolve(resp);\n                });\n            });\n        });\n\n\n      return defer.promise;\n    }\n\n    function isLiked(galleryId) {\n      var defer = $q.defer();\n\n      find(galleryId)\n        .then(function (gallery) {\n          new Parse\n            .Query('GalleryLike')\n            .equalTo('gallery', gallery)\n            .equalTo('user', currentUser)\n            .first()\n            .then(function (resp) {\n              console.warn(resp);\n              if (resp === undefined) {\n                defer.reject(resp);\n              } else {\n                defer.resolve(resp);\n              }\n            });\n        });\n\n      return defer.promise;\n    }\n\n    function addLike(galleryId) {\n      var defer = $q.defer();\n\n      find(galleryId)\n        .then(function (gallery) {\n          var Object = new Parse.Object.extend('GalleryLike');\n          var item = new Object({});\n\n          item.set('user', currentUser);\n          item.set('gallery', gallery);\n\n          console.log(gallery);\n\n          item.save(null)\n            .then(function (resp) {\n              console.log(resp);\n\n              // Gallery Increment Like\n              var likes = parseInt(gallery.attributes.qtdLike) ? parseInt(gallery.attributes.qtdLike + 1) : 1;\n              console.log('Qtd Like', likes);\n\n              // Increment Like\n              gallery\n                .set('qtdLike', likes);\n\n              // Add Relation\n              gallery\n                .relation('likes')\n                .add(resp);\n\n              console.log('Save Gallery', gallery);\n\n              // Save Gallery\n              gallery\n                .save()\n                .then(function (newGallery) {\n                  console.log(newGallery);\n                  defer.resolve({\n                    liked: true,\n                    likes: likes\n                  });\n                }, function (err) {\n                  console.error(err);\n                  defer.reject(err);\n                });\n            });\n        });\n      return defer.promise;\n    }\n\n    function removeLike(galleryId) {\n\n      var defer = $q.defer();\n      find(galleryId)\n        .then(function (gallery) {\n\n          new Parse\n            .Query('GalleryLike')\n            .equalTo('gallery', gallery)\n            .equalTo('user', currentUser)\n            .first()\n            .then(function (like) {\n\n              var likes = parseInt(gallery.attributes.qtdLike - 1);\n              if (likes < 0) {\n                likes = 0;\n              }\n\n              console.log('Remove like', likes, gallery);\n\n\n              // Gallery Decrement Like\n              gallery\n                .set('qtdLike', likes);\n\n              // Remove Relation\n              gallery\n                .relation('likes')\n                .remove(like);\n\n              like\n                .destroy(function (resp) {\n                  if (resp) {\n                    console.log('Remove like');\n                    // Save Gallery\n                    gallery\n                      .save()\n                      .then(function (newGallery) {\n                        console.log('New Gallery', newGallery);\n\n                        defer.resolve({\n                          liked: false,\n                          likes: newGallery.attributes.qtdLike\n                        });\n\n                      }, function (err) {\n                        console.error(err);\n                        defer.reject(err);\n                      });\n                  }\n                });\n\n\n            });\n\n        });\n      return defer.promise;\n    }\n\n    function likeGallery(gallery) {\n      var defer = $q.defer();\n\n      isLiked(gallery)\n        .then(function (resp) {\n          console.warn(resp);\n          var promise = '';\n\n          if (resp) {\n            console.log('Remove Like');\n            promise = removeLike(gallery);\n            addActivity({\n              galleryId: gallery,\n              action: 'unlike like'\n            });\n\n          } else {\n            console.log('Add like');\n            promise = addLike(gallery);\n            addActivity({\n              galleryId: gallery,\n              action: 'add like'\n            });\n          }\n\n          promise\n            .then(function (resp) {\n              console.log(resp);\n              defer.resolve(resp);\n            });\n\n        })\n        .catch(function (err) {\n          console.log('Add like', err);\n\n          addActivity({\n            galleryId: gallery,\n            action: 'add like'\n          });\n\n          addLike(gallery)\n            .then(function (resp) {\n              console.log(resp);\n              defer.resolve(resp);\n            });\n        });\n      return defer.promise;\n    }\n\n\n    function getUser(userId) {\n      var defer = $q.defer();\n\n      //todo: get user\n      //todo: count user gallery\n      //todo: count user follow\n      //todo: count user following\n\n      if (userId === undefined) {\n        userId = currentUser.id;\n      }\n\n      console.log(userId);\n      User\n        .find(userId)\n        .then(function (resp) {\n          console.log('getUser', resp);\n          var obj = resp.attributes;\n          obj.id = resp.id;\n          var user = loadProfile(obj);\n\n          // fotos\n          new Parse\n            .Query('Gallery')\n            .equalTo('user', resp)\n            .count()\n            .then(function (gallery) {\n              user.galleries = gallery;\n\n              // seguidores\n              new Parse\n                .Query('UserFollow')\n                .equalTo('follow', resp)\n                .count()\n                .then(function (follow1) {\n                  user.follow1 = follow1;\n\n                  // seguindo\n                  new Parse\n                    .Query('UserFollow')\n                    .equalTo('user', resp)\n                    .count()\n                    .then(function (follow2) {\n                      user.follow2 = follow2;\n\n                      // seguindo\n                      new Parse\n                        .Query('UserFollow')\n                        .equalTo('user', Parse.User.current())\n                        .equalTo('follow', resp)\n                        .count()\n                        .then(function (follow) {\n                          user.follow = follow ? true : false;\n\n                          console.log('getUser', user);\n                          defer.resolve(user);\n\n                        });\n\n                    });\n\n                });\n            });\n        });\n\n\n      return defer.promise;\n    }\n\n    function getUserGalleryQtd(userId) {\n      var defer = $q.defer();\n      if (userId === undefined) {\n        userId = currentUser.id;\n      }\n\n      User\n        .find(userId)\n        .then(function (user) {\n          new Parse\n            .Query('Gallery')\n            .equalTo('user', user)\n            .count()\n            .then(function (qtdGalleries) {\n              defer.resolve(qtdGalleries);\n            });\n        });\n\n      return defer.promise;\n    }\n\n    function getUserGallery(userId, page) {\n      var defer = $q.defer();\n      var data = [];\n      var limit = 9;\n\n      if (userId === undefined) {\n        userId = currentUser.id;\n      }\n\n      User\n        .find(userId)\n        .then(function (user) {\n\n          new Parse\n            .Query('Gallery')\n            .equalTo('user', user)\n            .descending('createdAt')\n            //.containedIn('ref', following)\n            //.containsAll('ref', following)\n            .include('user')\n            .limit(limit)\n            .skip(page * limit)\n            .find()\n            .then(function (resp) {\n\n              if (resp.length) {\n                var cb = _.after(resp.length, function () {\n                  defer.resolve(data);\n                });\n\n                _.each(resp, function (item) {\n                  //grab relations\n\n                  var likes = item.relation('likes');\n                  var comments = item.relation('comments');\n\n                  likes\n                    .query()\n                    .equalTo('gallery', item)\n                    .equalTo('user', currentUser)\n                    .count()\n                    .then(function (liked) {\n\n                      likes\n                        .query()\n                        .count()\n                        .then(function (likes) {\n\n                          comments\n                            .query()\n                            .include('commentBy')\n                            .descending('createdAt')\n                            .limit(limitComment)\n                            .find()\n                            .then(function (comments) {\n                              console.log(comments);\n\n                              var commentsData = [];\n\n                              angular.forEach(comments, function (item) {\n                                var comment = {\n                                  id: item.id,\n                                  text: item.attributes.text,\n                                  user: item.attributes.commentBy.attributes\n                                };\n                                comment.user.id = item.id;\n                                commentsData.push(comment);\n                              });\n\n                              var obj = {\n                                id: item.id,\n                                item: item.attributes,\n                                src: item.attributes.img.url(),\n                                created: item.createdAt,\n                                likes: likes,\n                                liked: liked,\n                                user: item.attributes.user.attributes,\n                                comments: commentsData\n                              };\n                              obj.user.id = item.attributes.user.id;\n                              obj.user = processImg(obj.user);\n\n                              data.push(obj);\n                              cb();\n                            });\n                        });\n                    });\n\n                });\n              } else {\n                defer.reject(true);\n              }\n            }, function () {\n              defer.reject(true);\n            });\n        });\n\n      return defer.promise;\n    }\n\n    function listActivity(page) {\n      var defer = $q.defer();\n      var limit = 20;\n\n      console.info(page, limit);\n\n\n      new Parse\n        .Query('GalleryActivity')\n        .include('user')\n        .include('gallery')\n        .descending('createdAt')\n        .limit(limit)\n        .skip(page * limit)\n        .find()\n        .then(function (resp) {\n          console.log(resp.length);\n          if (resp.length) {\n            var data = [];\n            resp.map(function (value) {\n              var obj = value.attributes;\n              obj.id = value.id;\n              obj.user = (value.attributes.user) ? value.attributes.user.attributes : '';\n              obj.user = processImg(obj.user);\n              obj.created = value.createdAt;\n              obj.img = (value.attributes.gallery) ? value.attributes.gallery.attributes.img.url() : '';\n              console.log(obj);\n              data.push(obj);\n            });\n            defer.resolve(data);\n          } else {\n            defer.reject(true);\n          }\n        });\n\n      return defer.promise;\n    }\n\n    function addActivity(data) {\n      /*\n       * ACTIONS\n       * add photo\n       * add comment\n       * like photo\n       * unlike photo\n       * register\n       * */\n\n      console.info(data);\n\n      if (data.galleryId) {\n        find(data.galleryId)\n          .then(function (gallery) {\n            var Object = Parse.Object.extend('GalleryActivity');\n            var item = new Object({});\n\n            item.set('user', Parse.User.current());\n            item.set('gallery', gallery);\n            item.set('action', data.action);\n\n            item.save()\n              .then(function (resp) {\n                console.warn(resp);\n              });\n          });\n      } else {\n        var Object = Parse.Object.extend('GalleryActivity');\n        var item = new Object({});\n\n        item.set('user', Parse.User.current());\n        item.set('action', data.action);\n\n        item.save()\n          .then(function (resp) {\n            console.warn(resp);\n          });\n      }\n    }\n\n    function profile(userId) {\n      var defer = $q.defer();\n      var user = {};\n\n      Loading.start();\n\n      User\n        .profile(userId)\n        .then(function (respProfile) {\n          user = respProfile;\n\n          all(true, userId)\n            .then(function (galleries) {\n              user.feed = galleries;\n              console.log(user);\n              Loading.end();\n              defer.resolve(user);\n            });\n        });\n\n\n      return defer.promise;\n\n    }\n\n\n  }\n\n\n})();\n\n(function () {\n  'use strict';\n  angular\n    .module('app.photogram')\n    .factory('PhotogramSetting', PhotogramSettingFactory);\n\n  function PhotogramSettingFactory($window, Cache, $q) {\n\n    var CacheSetting = Cache.model('Setting', {\n      mode: 'sessionStorage'\n    });\n    var SettingKeys = CacheSetting.keys();\n\n    return {\n      init: init,\n      get: get\n    };\n\n    function init() {\n      var defer = $q.defer();\n      var data = [];\n\n      if (SettingKeys.length) {\n        var settings = Cache.data('Setting');\n        console.log(settings);\n        defer.resolve(settings);\n      } else {\n        new Parse\n          .Query('GallerySetting')\n          .find()\n          .then(function (resp) {\n            resp.map(function (item) {\n              var obj = {\n                key: item.attributes.key,\n                value: item.attributes.value\n              };\n              CacheSetting.put(obj.key, obj.value);\n              data.push(obj);\n\n            });\n            defer.resolve(data);\n          }, error);\n      }\n\n\n      return defer.promise;\n\n    }\n\n    function error(err) {\n      alert(err);\n    }\n\n    function get(key) {\n      return CacheSetting.get(key);\n    }\n\n  }\n\n\n})();\n\n(function () {\n  'use strict';\n  angular\n    .module('app.photogram')\n    .factory('PhotogramShare', PhotogramShareFactory);\n\n  function PhotogramShareFactory(AppConfig, $q, $ionicActionSheet, Notify, $cordovaSocialSharing) {\n\n    var message = {\n      title: ('Join me from ') + AppConfig.app.name + '!',\n      subject: (\"I'm at \") + AppConfig.app.name + '!. ' + (\n        'Install the application and follow me!') + ' ' + AppConfig.app.url,\n      image: AppConfig.app.image,\n      link: AppConfig.app.url\n    };\n\n    return {\n      share: share,\n      open: open\n    };\n\n    function share(social, option) {\n      var defer = $q.defer();\n\n      function success(resp) {\n        Notify.alert({\n          title: ('Thanks'),\n          text: ('Thank you for sharing!!')\n        });\n        defer.resolve(resp);\n      }\n\n      function error(err) {\n        console.error(err);\n        defer.reject();\n      }\n\n      var detail = option ? option : message;\n\n      switch (social) {\n      case 'instagram':\n        window\n          .plugins\n          .socialsharing\n          .shareViaInstagram(message.text, message.image, message.link)\n          .then(success, error);\n        break;\n\n      case 'facebook':\n        $cordovaSocialSharing\n          .shareViaFacebook(detail.text, detail.image, detail.link)\n          .then(success, error);\n        break;\n\n      case 'twitter':\n        $cordovaSocialSharing\n          .shareViaTwitter(detail.text, detail.image, detail.link)\n          .then(success, error);\n        break;\n\n      case 'whatsapp':\n        $cordovaSocialSharing\n          .shareViaWhatsApp(detail.text, detail.image, detail.link)\n          .then(success, error);\n        break;\n\n      case 'email':\n        $cordovaSocialSharing\n          .shareViaEmail(detail.title, detail.subject ? detail.subject : detail.title)\n          .then(success, error);\n        break;\n      }\n\n      return defer.promise;\n    }\n\n    function open() {\n      var modal = $ionicActionSheet\n        .show({\n          buttons: [{\n            text: '<i class=\"icon ion-social-instagram\"></i>' + ('Instagram')\n          }, {\n            text: '<i class=\"icon ion-social-facebook\"></i>' + ('Facebook')\n          }, {\n            text: '<i class=\"icon ion-social-twitter\"></i>' + ('Twitter')\n          }, {\n            text: '<i class=\"icon ion-social-whatsapp\"></i>' + ('Whatsapp')\n          }, {\n            text: '<i class=\"icon ion-email\"></i>' + ('Email')\n          }],\n          titleText: ('Share'),\n          cancelText: ('Cancel'),\n          cancel: function () {\n            return false;\n          },\n          buttonClicked: function (index) {\n            console.log(index);\n            switch (index) {\n            case 0:\n              share('instagram');\n              break;\n            case 1:\n              share('facebook');\n              break;\n            case 2:\n              share('twitter');\n              break;\n            case 3:\n              share('whatsapp');\n              break;\n            case 4:\n              share('email');\n              break;\n            }\n            modal();\n            //share(index);\n          }\n        });\n\n    }\n  }\n\n})();\n\n(function () {\n  'use strict';\n  angular\n    .module('app.photogram')\n    .factory('PhotogramForm', PhotogramFormFactory);\n\n  function PhotogramFormFactory($translate) {\n\n    var form = [{\n      key: 'title',\n      type: 'input',\n      templateOptions: {\n        type: 'text',\n        placeholder: $translate.instant('PHOTOGRAM.FORM.TITLE'),\n        icon: 'icon-envelope',\n        required: true,\n        iconPlaceholder: true,\n        focus: true\n      }\n    }, {\n      key: 'geo',\n      type: 'toggle',\n      templateOptions: {\n        label: $translate.instant('PHOTOGRAM.FORM.GEOLOCATION'),\n        toggleClass: 'positive'\n      }\n    }];\n\n    var formComment = [{\n      key: 'text',\n      type: 'input',\n      templateOptions: {\n        placeholder: $translate.instant('PHOTOGRAM.FORM.ADDCOMMENT'),\n        type: 'text',\n        required: true,\n        focus: true\n          //icon           : 'icon-envelope',\n          //iconPlaceholder: true\n      }\n    }];\n\n    var formShare = [{\n      key: 'facebook',\n      type: 'toggle',\n      templateOptions: {\n        label: 'Facebook',\n        toggleClass: 'positive'\n      }\n    }, {\n      key: 'twitter',\n      type: 'toggle',\n      templateOptions: {\n        label: 'Twitter',\n        toggleClass: 'positive'\n      }\n    }, {\n      key: 'whatsapp',\n      type: 'toggle',\n      templateOptions: {\n        label: 'Whatsapp',\n        toggleClass: 'positive'\n      }\n    }, {\n      key: 'SMS',\n      type: 'toggle',\n      templateOptions: {\n        label: 'SMS',\n        toggleClass: 'positive'\n      }\n    }, {\n      key: 'email',\n      type: 'toggle',\n      templateOptions: {\n        label: 'Email',\n        toggleClass: 'positive'\n      }\n    }, ];\n    return {\n      form: form,\n      formComment: formComment,\n      formShare: formShare\n    };\n  }\n\n\n})();\n\n(function () {\n  'use strict';\n\n\n  angular\n    .module('app.user')\n    .factory('User', UserFactory);\n\n  function UserFactory($q, $window, AppConfig, $rootScope, $ionicHistory, $cordovaDevice, $facebook, $cordovaFacebook,\n    Loading, $location, $state) {\n\n    var cordova = $window.cordova;\n    var device = cordova ? true : false;\n    var facebook = device ? $cordovaFacebook : $facebook;\n\n    return {\n      init: init,\n      addFollows: addFollows,\n      currentUser: currentUser,\n      register: register,\n      login: login,\n      profile: profile,\n      logout: logout,\n      update: update,\n      updateAvatar: updateAvatar,\n      forgot: forgot,\n      list: list,\n      find: find,\n      follow: follow,\n      getFollowers: getFollowers,\n      getFollowing: getFollowing,\n      isFollow: isFollow,\n      mail: getMail,\n      facebookLogin: facebookLogin,\n      facebookLink: facebookLink,\n      facebookProfile: facebookProfile,\n      facebookFriends: facebookFriends,\n      facebookInvite: facebookInvite,\n      facebookAPI: facebookAPI\n    };\n\n\n    function init() {\n      // Parse Start\n\n      Parse.initialize(AppConfig.parse.applicationId, AppConfig.parse.javascriptKey);\n      console.log('device', cordova, device);\n\n      var user = Parse.User.current();\n      if (user) {\n        var newUser = loadProfile(user);\n        console.log('Logged user', newUser);\n\n        // // following\n        // var following = $sessionStorage.following;\n        // if (!following) {\n        //\n        //     find(newUser.id)\n        //         .then(function (user) {\n        //             new Parse\n        //                 .Query('UserFollow')\n        //                 .equalTo('user', user)\n        //                 .find()\n        //                 .then(function (following) {\n        //                     var users = [];\n        //                     angular.forEach(following, function (value, key) {\n        //                         users.push(value.id);\n        //                     });\n        //\n        //                     console.info('seguindo', users, following);\n        //                     $sessionStorage.following = users;\n        //                     $rootScope.user.following = following;\n        //\n        //                 }, function (err) {\n        //                     console.error(err);\n        //                 })\n        //         })\n        //         .then(function (resp) {\n        //             console.log('seguindo', resp);\n        //         });\n        // } else {\n        //     $rootScope.user.following = following;\n        // }\n        //\n        // console.log('following', $sessionStorage.following);\n\n\n        if (newUser.name === '') {\n          logout();\n        }\n\n      } else {\n        console.log('Not logged user, go intro');\n        logout();\n        $location.path(AppConfig.routes.login);\n      }\n    }\n\n\n    function currentUser() {\n      return $rootScope.user;\n    }\n\n\n    function loadProfile(response) {\n      //console.log('LoadProfile', response);\n      if (response) {\n        var user = response.attributes;\n        user.id = response.id;\n        user = processImg(user);\n        delete $rootScope.user;\n        $rootScope.user = user;\n        //console.log('load profile', response, user);\n        return user;\n      } else {\n        logout();\n        return false;\n      }\n    }\n\n    function processImg(obj) {\n      //console.log('process image', obj);\n      if (obj.facebook) {\n        obj.src = (obj.facebookimg) ? obj.facebookimg : 'img/user.png';\n      } else {\n        obj.src = (obj.img) ? obj.img.url() : 'img/user.png';\n      }\n      return obj;\n    }\n\n    function login(form) {\n      var defer = $q.defer();\n      Parse\n        .User\n        .logIn(form.email, form.password, {\n          success: function (resp) {\n            console.info('Login', resp);\n            var user = loadProfile(resp);\n            defer.resolve(user);\n          },\n          error: function (user, err) {\n            console.error(user, err);\n            // The login failed. Check error to see why.\n            defer.reject(err);\n          }\n        });\n      return defer.promise;\n    }\n\n    function loginFacebook2(response) {\n      var defer = $q.defer();\n      console.log('Facebook api');\n      facebook\n        .api('me/?fields=id,name,email,gender,bio', ['public_profile'])\n        .then(function (dados) {\n          console.log('facebook api', dados);\n\n          var query = new Parse.Query(Parse.User);\n          query\n            .equalTo('email', dados.email)\n            .first({\n              success: function (user) {\n                console.log(user);\n\n                if (user) {\n                  console.log('Já existe um cadastro com esse email', user);\n                  if (user.get('facebook_complete') === Boolean(true)) {\n\n                    loginFacebook(response)\n                      .then(function (resp) {\n                        console.log('Logado', resp);\n\n                        if (user.attributes.name === '') {\n                          console.info('User sem nome', user, dados);\n                          var updateUser = user.attributes;\n                          updateUser.name = dados.name;\n\n                          update(updateUser)\n                            .then(function () {\n                              defer.resolve({\n                                status: 0\n                              });\n                            });\n                        } else {\n\n                          loadProfile(user);\n\n                          defer.resolve({\n                            status: 0\n                          });\n                        }\n\n                      });\n                  } else {\n                    console.log('Se ainda não está completo, manda completar o perfil', dados,\n                      response);\n\n                    $rootScope.tempUser = processImg(user.attributes);\n                    $rootScope.tempUser.src = 'https://graph.facebook.com/' + dados.id +\n                      '/picture?width=250&height=250';\n\n                    console.log($rootScope.tempUser);\n                    defer.resolve({\n                      status: 2\n                    });\n\n                  }\n\n                } else {\n                  // Se não encontrar nenhum usuário\n                  console.log('Novo usuário');\n\n                  // Crio uma conta no parse com o Facebook\n                  loginFacebook(response)\n                    .then(function (newuser) {\n\n                      console.log(newuser);\n\n                      // Atualizo o novo perfil\n                      var form = {\n                        name: dados.name,\n                        facebook: dados.id,\n                        email: dados.email,\n                        gender: dados.gender,\n                        facebook_complete: Boolean(true),\n                        facebookimg: 'https://graph.facebook.com/' + dados.id +\n                          '/picture?width=250&height=250'\n                      };\n\n                      update(form)\n                        .then(function (resp) {\n                          console.warn('me response', resp);\n\n                          defer.resolve({\n                            status: 1\n                          });\n                        });\n\n\n                    });\n\n\n                }\n\n              },\n              error: function (error) {\n                alert('Sem conexão');\n                defer.reject(error);\n\n              }\n            });\n\n        }, function (resp) {\n          console.log('Facebook Error', resp);\n          defer.reject(resp);\n        });\n\n      return defer.promise;\n    }\n\n    function facebookLogin() {\n      var defer = $q.defer();\n\n      //facebook.logout();\n      console.info('facebook login', device, facebook);\n\n      facebook\n        .getLoginStatus()\n        .then(function (respStatus) {\n\n          if (respStatus.status === 'connected') {\n            loginFacebook2(respStatus)\n              .then(function (deferStatus) {\n                defer.resolve(deferStatus);\n              });\n          } else {\n\n            facebook\n              .login([\n                'public_profile',\n                'email'\n              ])\n              .then(function (response) {\n\n                  console.warn('facebook login response', response);\n                  if (response.status === undefined) {\n                    defer.reject('reject');\n                  }\n\n                  //Pega o Status do Login\n                  console.log('facebook status', response);\n                  loginFacebook2(response)\n                    .then(function (deferStatus) {\n                      defer.resolve(deferStatus);\n                    });;\n                },\n                function (response) {\n                  //alert(JSON.stringify(response));\n                  console.log('Facebook Error', response);\n                  defer.reject(JSON.stringify(response));\n\n                });\n\n          }\n\n        })\n\n\n      return defer.promise;\n    }\n\n\n    function facebookProfile() {\n      var defer = $q.defer();\n      facebookLogin()\n        .then(function (resp) {\n\n          facebook\n            .api('me', '')\n            .then(function (response) {\n              defer.resolve([\n                resp,\n                response\n              ]);\n            }, function (error) {\n              console.log(error);\n              defer.reject(error);\n            });\n        });\n      return defer.promise;\n    }\n\n\n    function register(form) {\n      var defer = $q.defer();\n\n      var formData = form;\n      formData.username = form.email;\n\n      console.log(formData);\n      new Parse\n        .User(formData)\n        .signUp(null, {\n          success: function (resp) {\n            var user = loadProfile(resp);\n            console.log(resp, user);\n            Loading.end();\n            //startPush('user-', user.email);\n            defer.resolve(user);\n          },\n          error: function (user, resp) {\n            console.log(resp);\n            if (resp.code === 125) {\n              defer.reject('Please specify a valid email address');\n            } else if (resp.code === 202) {\n              defer.reject('The email address is already registered');\n            } else {\n              defer.reject(resp);\n            }\n          }\n        });\n      return defer.promise;\n    }\n\n    function forgot(email) {\n      var defer = $q.defer();\n      new Parse.User.requestPasswordReset(email, {\n        success: function (resp) {\n          defer.resolve(resp);\n        },\n        error: function (err) {\n          if (err.code === 125) {\n            defer.reject('Email address does not exist');\n          } else {\n            defer.reject('An unknown error has occurred, please try again');\n          }\n        }\n      });\n      return defer.promise;\n    }\n\n    function logout() {\n      new Parse.User.logOut();\n      delete $rootScope.user;\n      //$window.location = '/#/intro';\n      $state.go('intro', {\n        clear: true\n      });\n      $ionicHistory.clearCache();\n    }\n\n    function update(form) {\n      var defer = $q.defer();\n      var currentUser = Parse.User.current();\n      Loading.start();\n\n      delete form.img;\n      delete form.authData;\n      delete form.follow;\n\n      console.info('update user', form);\n\n      angular.forEach(form, function (value, key) {\n        currentUser.set(key, value);\n      });\n\n      if (cordova) {\n        var cordovaDevice = {\n          device: $cordovaDevice.getDevice(),\n          cordova: $cordovaDevice.getCordova(),\n          model: $cordovaDevice.getModel(),\n          platform: $cordovaDevice.getPlatform(),\n          uuid: $cordovaDevice.getUUID(),\n          version: $cordovaDevice.getVersion()\n        };\n\n        currentUser.set('device', cordovaDevice.device);\n        currentUser.set('deviceCordova', cordovaDevice.cordova);\n        currentUser.set('deviceModel', cordovaDevice.model);\n        currentUser.set('devicePlatform', cordovaDevice.platform);\n        currentUser.set('deviceUuiid', cordovaDevice.uuid);\n        currentUser.set('deviceVersion', cordovaDevice.version);\n      }\n      // Update Language\n      //currentUser.set('language', $rootScope.lang.value || null);\n\n      currentUser\n        .save()\n        .then(function (resp) {\n          console.log('load user', user);\n          var user = loadProfile(resp);\n          Loading.end();\n          defer.resolve(user);\n        });\n\n\n      return defer.promise;\n    }\n\n    function updateAvatar(photo) {\n      var defer = $q.defer();\n\n      Loading.start();\n\n      if (photo !== '') {\n\n        // create the parse file\n        var imageFile = new Parse.File('mypic.jpg', {\n          base64: photo\n        });\n\n        // save the parse file\n        return imageFile\n          .save()\n          .then(function () {\n\n            photo = null;\n\n            // create object to hold caption and file reference\n            var currentUser = Parse.User.current();\n\n            // set object properties\n            currentUser.set('img', imageFile);\n\n            // save object to parse backend\n            currentUser\n              .save()\n              .then(function (resp) {\n                var user = loadProfile(resp);\n                console.log(resp);\n                Loading.end();\n                defer.resolve(user);\n              });\n\n\n          }, function (error) {\n            Loading.end();\n            console.log(error);\n            defer.reject(error);\n          });\n      }\n      return defer.promise;\n    }\n\n\n    function facebookFriends() {\n      var defer = $q.defer();\n\n      facebook\n        .api('me/friends')\n        .then(function (success) {\n          defer.resolve(success);\n        }, function (error) {\n          defer.reject(error);\n        });\n\n      return defer.promise;\n    }\n\n    function facebookAPI(api) {\n      var defer = $q.defer();\n\n      facebook\n        .api(api)\n        .then(function (success) {\n          defer.resolve(success);\n        }, function (error) {\n          defer.reject(error);\n        });\n\n      return defer.promise;\n    }\n\n    function facebookInvite() {\n      var defer = $q.defer();\n      if (device) {\n        facebook\n          .showDialog({\n            method: 'apprequests',\n            message: 'Venha para o nosso clube!'\n          })\n          .then(function (resp) {\n            defer.resolve(resp);\n          });\n      } else {\n        facebook\n          .ui({\n            method: 'apprequests',\n            message: 'Venha para o nosso clube!'\n          })\n          .then(function (resp) {\n            defer.resolve(resp);\n          });\n      }\n      return defer.promise;\n    }\n\n\n    function list() {\n      var defer = $q.defer();\n\n      new Parse\n        .Query('User')\n        .notEqualTo('user', Parse.User.current())\n        .find()\n        .then(function (resp) {\n          var users = [];\n          angular.forEach(resp, function (item) {\n            var user = item.attributes;\n            user.id = item.id;\n            user = processImg(user);\n\n            new Parse\n              .Query('UserFollow')\n              .equalTo('user', Parse.User.current())\n              .equalTo('follow', item)\n              .count()\n              .then(function (follow) {\n                user.follow = follow;\n\n                console.log(user);\n                users.push(user);\n              });\n          });\n          defer.resolve(users);\n        });\n\n      return defer.promise;\n    }\n\n    function find(userId) {\n      var defer = $q.defer();\n\n      console.log('find', userId);\n      new Parse\n        .Query('User')\n        .equalTo('objectId', userId)\n        .first()\n        .then(function (resp) {\n          console.log(resp);\n          defer.resolve(resp);\n        });\n\n      return defer.promise;\n    }\n\n    function profile(userId) {\n      var defer = $q.defer();\n\n      find(userId)\n        .then(function (resp) {\n          console.log(resp);\n          var user = loadProfile(resp);\n\n          new Parse\n            .Query('Gallery')\n            .equalTo('user', resp)\n            .count()\n            .then(function (gallery) {\n              user.galleries = gallery;\n\n              new Parse\n                .Query('UserFollow')\n                .equalTo('user', resp)\n                .count()\n                .then(function (foloow) {\n                  user.follow = foloow;\n\n                  new Parse\n                    .Query('UserFollow')\n                    .equalTo('follow', resp)\n                    .count()\n                    .then(function (follow2) {\n                      user.follow2 = follow2;\n                      defer.resolve(user);\n                    });\n\n                });\n            });\n        });\n\n      return defer.promise;\n    }\n\n    function isFollow(userId) {\n      var defer = $q.defer();\n\n      console.log('isFollow start', userId);\n\n      find(userId)\n        .then(function (followUser) {\n          new Parse\n            .Query('UserFollow')\n            .equalTo('user', Parse.User.current())\n            .equalTo('follow', followUser)\n            .count()\n            .then(function (respFollow) {\n              //console.log('isFollow', respFollow);\n              defer.resolve(respFollow);\n            });\n        });\n\n      return defer.promise;\n    }\n\n\n    function getFollowers(userId) {\n      var defer = $q.defer();\n\n      if (!userId) {\n        userId = Parse.User.current().id;\n      }\n\n      find(userId)\n        .then(function (user) {\n          new Parse\n            .Query('UserFollow')\n            .equalTo('follow', user)\n            .count()\n            .then(function (qtdFollowers) {\n              defer.resolve(qtdFollowers);\n            }, function (err) {\n              defer.reject(err);\n            });\n        });\n      return defer.promise;\n    }\n\n    function getFollowing(userId) {\n      var defer = $q.defer();\n\n      if (!userId) {\n        userId = Parse.User.current().id;\n      }\n\n      find(userId)\n        .then(function (user) {\n          new Parse\n            .Query('UserFollow')\n            .equalTo('user', user)\n            .count()\n            .then(function (qtdFollowing) {\n              defer.resolve(qtdFollowing);\n            }, function (err) {\n              defer.reject(err);\n            });\n        });\n      return defer.promise;\n    }\n\n    function follow(status, user) {\n      var defer = $q.defer();\n      var qtdFollow = Parse.User.current().qtdFollow ? parseInt(Parse.User.current().qtdFollow) : 0;\n\n\n      find(user.id)\n        .then(function (follow) {\n\n          if (status) {\n            // Follow User\n            console.log('Follow User', follow);\n\n            var Object = Parse.Object.extend('UserFollow');\n            var item = new Object();\n\n            item.set('user', Parse.User.current());\n            item.set('follow', follow);\n            item.save()\n              .then(function (resp) {\n                console.log('Follow User', resp);\n\n                update({\n                    qtdFollow: qtdFollow + 1\n                  })\n                  .then(function (userResp) {\n                    console.log('Follow User Update', userResp);\n                    defer.resolve(userResp);\n                  });\n\n              }, function (err) {\n                defer.resolve(err);\n              });\n          } else {\n            // Unfollow User\n            console.log('Unfollow User', follow);\n\n            new Parse\n              .Query('UserFollow')\n              .equalTo('user', Parse.User.current())\n              .equalTo('follow', follow)\n              .first()\n              .then(function (item) {\n                item\n                  .destroy()\n                  .then(function (resp) {\n\n                    update({\n                        qtdFollow: qtdFollow - 1\n                      })\n                      .then(function (userResp) {\n                        console.log('Follow User Update', userResp);\n                        defer.resolve(userResp);\n                      });\n                  }, function (err) {\n                    defer.resolve(err);\n                  });\n              });\n          }\n        });\n\n      return defer.promise;\n    }\n\n    function addFollows(users) {\n      console.log('addFollows', users);\n      var promises = [];\n      angular.forEach(users, function (user) {\n        promises.push(follow(true, user.id));\n      });\n      return $q.all(promises);\n    }\n\n    function getMail(email) {\n      var defer = $q.defer();\n      Loading.start();\n      new Parse\n        .Query('User')\n        .equalTo('email', email)\n        .first()\n        .then(function (resp) {\n          Loading.end();\n          defer.resolve(resp);\n        }, function (resp) {\n          Loading.end();\n          defer.reject(resp);\n        });\n      return defer.promise;\n    }\n\n    function loginFacebook(response) {\n      var defer = $q.defer();\n\n      var data = new Date(new Date().getTime() + response['authResponse']['expiresIn'] * 1000);\n\n      Parse.FacebookUtils.logIn({\n        id: response['authResponse']['userID'],\n        access_token: response['authResponse']['accessToken'],\n        expiration_date: data\n      }, {\n        success: function (response) {\n          // Função caso tenha logado tanto no face quanto no Parse\n          var user = loadProfile(response);\n          console.log('User', user);\n          defer.resolve(user);\n        }\n      });\n\n      return defer.promise;\n    }\n\n    function facebookLink() {\n      var defer = $q.defer();\n\n      facebook\n        .login(['email'])\n        .then(function (response) {\n\n            console.log('facebook login', response);\n            //Pega o Status do Login\n\n            var data = new Date(new Date().getTime() + response['authResponse']['expiresIn'] * 1000);\n\n            var user = Parse.User.current();\n            console.log(user, response, data);\n\n            Parse.FacebookUtils.link(user, {\n              id: response['authResponse']['userID'],\n              access_token: response['authResponse']['accessToken'],\n              expiration_date: data\n            }, {\n              success: function (user) {\n                // Função caso tenha logado tanto no face quanto no Parse\n                console.log('User', user);\n                user.set('facebook', response['authResponse']['userID']);\n                user.set('facebookimg', 'https://graph.facebook.com/' + response['authResponse']['userID'] +\n                  '/picture?width=250&height=250');\n                user.set('facebook_complete', Boolean(true));\n                user.save()\n                  .then(function (response) {\n                    var user = loadProfile(response);\n                    console.info('User Update', user);\n                    defer.resolve(user);\n                  });\n              }\n            });\n          },\n          function (response) {\n            alert(JSON.stringify(response));\n\n          });\n\n\n      return defer.promise;\n    }\n\n\n  }\n})();\n\n(function () {\n  'use strict';\n  angular\n    .module('app.user')\n    .factory('UserForm', UserFormFactory);\n\n  function UserFormFactory($translate) {\n\n    return {\n      login: login(),\n      register: register(),\n      profile: profile()\n    };\n\n    function login() {\n      return [{\n        type: 'input',\n        key: 'email',\n        templateOptions: {\n          type: 'email',\n          placeholder: $translate.instant('USER.FORM.EMAIL'),\n          icon: 'icon-envelope',\n          required: true,\n          iconPlaceholder: true\n        }\n      }, {\n        type: 'input',\n        key: 'password',\n        templateOptions: {\n          type: 'password',\n          placeholder: $translate.instant('USER.FORM.PASSWORD'),\n          icon: 'icon-lock',\n          required: true,\n          iconPlaceholder: true\n        }\n      }];\n    }\n\n    function register() {\n      return [{\n        type: 'input',\n        key: 'email',\n        templateOptions: {\n          type: 'email',\n          placeholder: $translate.instant('USER.FORM.EMAIL'),\n          icon: 'icon-envelope',\n          required: true,\n          iconPlaceholder: true\n        }\n      }, {\n        type: 'input',\n        key: 'password',\n        templateOptions: {\n          type: 'password',\n          placeholder: $translate.instant('USER.FORM.PASSWORD'),\n          icon: 'icon-lock',\n          required: true,\n          iconPlaceholder: true\n        }\n      }];\n    }\n\n    function profile() {\n      return [{\n        key: 'name',\n        type: 'input',\n        templateOptions: {\n          type: 'text',\n          placeholder: $translate.instant('USER.FORM.NAME'),\n          icon: 'icon-user',\n          required: true,\n          iconPlaceholder: true\n        }\n      }, {\n        key: 'status',\n        type: 'input',\n        templateOptions: {\n          type: 'text',\n          placeholder: $translate.instant('USER.FORM.STATUS'),\n          icon: 'ion-quote',\n          required: true,\n          iconPlaceholder: true\n        }\n      }, {\n        type: 'select',\n        key: 'gender',\n        templateOptions: {\n          label: $translate.instant('USER.FORM.GENDER'),\n          options: [{\n            'label': $translate.instant('USER.FORM.MAN'),\n            'id': 'male',\n          }, {\n            'label': $translate.instant('USER.FORM.WOMAN'),\n            'id': 'female',\n          }],\n          valueProp: 'id',\n          labelProp: 'label',\n          icon: 'icon-list',\n          iconPlaceholder: true\n        }\n      }];\n    }\n\n  }\n\n\n})();\n\n(function () {\n  'use strict';\n\n  /**\n   * @ngdoc directive\n   * @name photogramComment\n   *\n   * @description\n   * _Please update the description and restriction._\n   *\n   * @restrict A\n   * */\n\n  angular\n    .module('app.photogram')\n    .directive('photogramComment', photogramCommentDirective);\n\n  function photogramCommentDirective($ionicModal, Loading, $ionicPopup, User, Notify, $timeout,\n    AppConfig, Photogram, PhotogramForm) {\n\n    var path = AppConfig.path;\n\n    return {\n      restrict: 'A',\n      scope: {\n        ngModel: '='\n      },\n      link: function (scope, elem) {\n        scope.formFields = PhotogramForm.formComment;\n        scope.submitComment = submitComment;\n        scope.deleteComment = deleteComment;\n        scope.editComment = editComment;\n        scope.closeModal = closeModal;\n        elem.bind('click', openModalComment);\n\n        function init() {\n          scope.currentUser = User.currentUser();\n          scope.nocomments = false;\n          scope.loading = false;\n          scope.form = {\n            galleryId: scope.ngModel.id,\n            text: ''\n          };\n        }\n\n        function openModalComment() {\n          console.log(scope.ngModel);\n\n          init();\n\n          scope.comments = scope.ngModel.comments;\n          $timeout(function () {\n            if (scope.comments.length === 0) {\n              scope.nocomments = true;\n            }\n          }, 500);\n\n\n          $ionicModal.fromTemplateUrl(path + '/directives/comment/photogram.comment.directive.html', {\n              scope: scope,\n              focusFirstInput: true\n            })\n            .then(function (modal) {\n              scope.modal = modal;\n              scope.modal.show();\n\n            });\n        }\n\n        function deleteComment(obj) {\n          console.log(obj);\n          Notify\n            .confirm(('Delete comment'), ('You are sure?'))\n            .then(function (resp) {\n              console.log(resp);\n              if (resp) {\n                Photogram\n                  .deleteComment(obj)\n                  .then(function (resp) {\n                    console.log(resp);\n                    getComments();\n                  });\n              }\n            });\n        }\n\n        function editComment(obj) {\n          console.log(obj);\n          // An elaborate, custom popup\n          scope.data = angular.copy(obj);\n          $ionicPopup\n            .show({\n              template: '<input type=\"text\" ng-model=\"data.text\">',\n              title: ('Edit comment'),\n              //subTitle: 'Please use normal things',\n              scope: scope,\n              buttons: [{\n                text: ('Cancel')\n              }, {\n                text: '<b>OK</b>',\n                type: 'button-positive',\n                onTap: function (e) {\n                  console.log(scope.data);\n                  if (!scope.data.text) {\n                    //don't allow the user to close unless he enters wifi password\n                    e.preventDefault();\n                  } else {\n                    return scope.data;\n                  }\n                }\n              }]\n            })\n            .then(function (resp) {\n              console.log(resp);\n              if (resp) {\n                Photogram\n                  .updateComment(resp)\n                  .then(function (resp) {\n                    console.log(resp);\n                    getComments();\n                  });\n              }\n            });\n        }\n\n        function getComments() {\n          scope.loading = true;\n          Photogram\n            .getComments(scope.ngModel.id)\n            .then(function (resp) {\n              scope.comments = resp;\n              scope.ngModel.comments = resp;\n              scope.loading = false;\n            });\n        }\n\n        function submitComment(rForm, form) {\n          if (rForm.$valid) {\n            var dataForm = angular.copy(form);\n            Loading.start();\n            Photogram\n              .addComment(dataForm)\n              .then(function (resp) {\n                console.log(resp);\n                getComments();\n                Loading.end();\n                scope.closeModal();\n              });\n          }\n        }\n\n        function closeModal() {\n          scope.modal.hide();\n          scope.modal.remove();\n        }\n      }\n    }\n  }\n\n})();\n\n(function () {\n  'use strict';\n  angular\n    .module('app.photogram')\n    .directive('photogramFollow', photogramFollow);\n\n  function photogramFollow($ionicModal, AppConfig, Photogram) {\n\n    var path = AppConfig.path;\n\n    return {\n      restrict: 'A',\n      scope: {\n        user: '='\n      },\n      link: function (scope, elem, attr) {\n        elem.bind('click', openModal);\n        scope.closeModal = closeModal;\n\n        function openModal() {\n          $ionicModal.fromTemplateUrl(path + '/directives/follow/photogram.follow.modal.html', {\n            scope: scope\n          }).then(function (modal) {\n            scope.modalFollow = modal;\n            console.log('Open modal follow', scope.user);\n\n            Photogram\n              .getFollow(scope.user)\n              .then(function (resp) {\n                console.log(resp);\n                scope.data = resp;\n                scope.modalFollow.show();\n              });\n\n          });\n        }\n\n        function closeModal() {\n          scope.modalFollow.hide();\n          scope.modalFollow.remove();\n        }\n      }\n    }\n  }\n\n\n})();\n\n(function () {\n  'use strict';\n\n  /**\n   * @ngdoc directive\n   * @name heart\n   *\n   * @description\n   * _Please update the description and restriction._\n   *\n   * @restrict A\n   * */\n\n  angular\n    .module('app.photogram')\n    .directive('heart', heartDirective);\n\n  function heartDirective() {\n    return {\n      restrict: 'A',\n      scope: {\n        item: '='\n      },\n      link: heartLink\n    };\n\n    function heartLink(scope, elem, attr) {\n      elem.bind('click', function () {\n        console.log(scope.item);\n        elem.addClass('happy');\n      });\n    }\n  }\n\n})();\n\n(function () {\n  'use strict';\n  angular\n    .module('app.photogram')\n    .directive('photogramLike', photogramLike)\n    .directive('photogramLikeModal', photogramLikeModal);\n\n\n  function photogramLike(Photogram) {\n    return {\n      restrict: 'A',\n      scope: {\n        ngModel: '='\n      },\n      link: function (scope, elem, attr) {\n        elem.bind('click', likePhotogram);\n\n        function likePhotogram() {\n\n          console.log('photogram', scope.ngModel);\n          var photogram = scope.ngModel.item;\n          photogram.likeProgress = true;\n          photogram.liked = !photogram.liked;\n          Photogram\n            .likeGallery(scope.ngModel.id)\n            .then(function (resp) {\n              photogram.qtdLike = resp.likes;\n              delete photogram.likeProgress;\n              console.log(photogram, resp);\n            });\n          scope.$apply();\n        }\n      }\n    };\n  }\n\n  function photogramLikeModal($ionicModal, AppConfig, Photogram) {\n\n    var path = AppConfig.path;\n\n    return {\n      restrict: 'A',\n      scope: {\n        photogram: '='\n      },\n      template: '',\n      link: function (scope, elem, attr) {\n        scope.formFields = Photogram.formComment;\n        scope.submitComment = submitComment;\n        scope.closeModal = closeModal;\n        elem.bind('click', openModal);\n\n        function openModal() {\n          console.log(scope.photogram);\n\n          $ionicModal.fromTemplateUrl(path + '/directives/like/photogram.like.directive.html', {\n            scope: scope,\n            animation: 'slide-in-up'\n          }).then(function (modal) {\n            scope.modal = modal;\n          });\n\n        }\n\n        function submitComment(rForm, form) {\n          if (rForm.$valid) {\n            var dataForm = angular.copy(form);\n            Photogram\n              .addComment(dataForm)\n              .then(function (resp) {\n                console.log(resp);\n                scope.closeModal();\n              });\n          }\n        }\n\n        function closeModal() {\n          scope.modal.hide();\n          scope.modal.remove();\n        }\n\n      }\n    }\n  }\n\n\n})();\n\n(function () {\n  'use strict';\n  angular\n    .module('app.photogram')\n    .directive('photogramPhotoGrid', photogramPhotoGrid);\n\n\n  function photogramPhotoGrid(AppConfig) {\n\n    var path = AppConfig.path;\n\n    return {\n      restrict: 'E',\n      scope: {\n        data: '=photogram',\n        profile: '=',\n        loading: '='\n      },\n      templateUrl: path + '/directives/photogrid/photogram.photos.grid.html'\n    };\n\n  }\n\n\n})();\n\n(function () {\n  'use strict';\n  angular\n    .module('app.photogram')\n    .directive('photogramPhotoList', photogramPhotoList);\n\n  function photogramPhotoList(AppConfig) {\n    var path = AppConfig.path;\n\n    return {\n      restrict: 'E',\n      scope: {\n        data: '=photogram',\n        profile: '=',\n        loading: '='\n      },\n      templateUrl: path + '/directives/photolist/view/photo.list.html',\n      controller: photogramPhotoListCtrl,\n      controllerAs: 'vm'\n    };\n  }\n\n  function photogramPhotoListCtrl(AppConfig, Photogram, $scope, $ionicPopup, PhotogramFeedbackForm, PhotogramFeedback,\n    $ionicActionSheet, $ionicModal) {\n    var vm = this;\n    var path = AppConfig.path;\n    var user = Parse.User.current();\n    var message = {\n      title: ('Join me from ') + AppConfig.app.name + '!',\n      text: (\"I'm at \") + AppConfig.app.name + '! ' + (\n        'Install the application and follow me!'),\n      image: '',\n      link: AppConfig.app.url\n    };\n\n    vm.action = action;\n    vm.like = likePhoto;\n    vm.gallery = {\n      src: ''\n    };\n\n    vm.pallete = [];\n    vm.getColors = getColors;\n\n    function getColors(elemId) {\n      var a = document.getElementById(elemId);\n      if (a) {\n        var c = new ColorThief().getColor(a);\n        var p = new ColorThief().getPalette(a, 5);\n\n        console.log(c, p);\n        $scope.palette = p;\n      } else {\n        alert(\"Take a picture first!\");\n      }\n    }\n\n    function likePhoto(gallery) {\n      //gallery.item.likeProgress = true;\n      gallery.item.liked = !gallery.item.liked;\n      Photogram\n        .likeGallery(gallery.id)\n        .then(function (resp) {\n          gallery.item.qtdLike = resp.likes;\n          //delete gallery.item.likeProgress;\n        });\n    }\n\n    function action(gallery) {\n\n      var buttons = [{\n        text: '<i class=\"icon ion-share\"></i>' + ('Share')\n      }, {\n        text: '<i class=\"icon ion-alert-circled\"></i>' + ('Report')\n      }];\n\n      var user = Parse.User.current();\n\n      if (user.id === gallery.user.id) {\n        var buttonDelete = {\n          text: '<i class=\"icon ion-trash-b\"></i>' + ('Delete your photo')\n        };\n        buttons.push(buttonDelete);\n      }\n      message.image = gallery.src;\n      message.text = gallery.item.title;\n\n      var actionSheet = {\n        buttons: buttons,\n        titleText: ('Photo'),\n        cancelText: ('Cancel'),\n        buttonClicked: actionButtons\n      };\n\n\n      function actionButtons(index) {\n        switch (index) {\n        case 0:\n          share(message);\n          break;\n        case 1:\n          openModal(gallery);\n          break;\n        case 2:\n\n          $ionicPopup\n            .confirm({\n              title: ('Delete photo'),\n              template: ('Are you sure?')\n            })\n            .then(function (res) {\n              if (res) {\n                Photogram\n                  .deletePhoto(gallery.id)\n                  .then(msgDeletePhoto);\n              }\n            });\n\n\n        }\n        return true;\n      }\n\n      function msgDeletePhoto() {\n        console.log('Photo deleted');\n        $scope.$emit('PhotogramHome:reload');\n      }\n\n      // Show the action sheet\n      $ionicActionSheet.show(actionSheet);\n\n    }\n\n\n    function openModal(gallery) {\n      $scope.submitFeedback = submitFeedback;\n      $scope.closeModal = closeModal;\n      $scope.form = {\n        photogramId: gallery.id,\n        user: user\n      };\n\n      $scope.formFields = PhotogramFeedbackForm.form;\n\n      $ionicModal\n        .fromTemplateUrl(path + '/feedback/photogram.photo.feedback.modal.html', {\n          scope: $scope,\n          focusFirstInput: true\n        })\n        .then(function (modal) {\n          vm.modal = modal;\n          vm.modal.show();\n        });\n    }\n\n\n    function submitFeedback() {\n      var dataForm = angular.copy($scope.form);\n      PhotogramFeedback\n        .submit(dataForm)\n        .then(function (resp) {\n          console.log(resp);\n          closeModal();\n        });\n    }\n\n\n    function closeModal() {\n      vm.modal.hide();\n      vm.modal.remove();\n      delete vm.modal;\n    }\n\n\n    function success() {\n      //Notify.alert({\n      //    title: ('Thanks'),\n      //    text: ('Thank you for sharing!!')\n      //});\n    }\n\n    function error(err) {\n      console.error(err);\n    }\n\n    function share(post) {\n      console.log('Social Share', post);\n      var message = (\"I'm at \") + AppConfig.app.name + '! ' + (\n        'Install the application and follow me!') + ' ' + AppConfig.app.url;\n      window\n        .plugins\n        .socialsharing\n        .share(post.text + ', ' + message, post.text, post.image, null);\n    }\n\n  }\n\n\n})();\n\n(function () {\n  'use strict';\n  angular\n    .module('app.photogram')\n    .directive('ionSearch', ionSearch);\n\n  function ionSearch($timeout) {\n\n    return {\n      restrict: 'E',\n      replace: true,\n      scope: {\n        getData: '&source',\n        model: '=?',\n        search: '=?filter'\n      },\n      template: '<div class=\"ion-search item-input-wrapper\"> <input type=\"search\" placeholder=\"{{placeholder}}\" ng-model=\"search.value\"><i ng-if=\"search.value.length > 0\" ng-click=\"clearSearch()\" class=\"icon ion-close\"></i></div>',\n      link: function (scope, element, attrs) {\n        attrs.minLength = attrs.minLength || 0;\n        scope.placeholder = attrs.placeholder || '';\n        scope.clearSearch = clearSearch;\n        scope.search = {\n          value: ''\n        };\n\n        if (attrs.class) {\n          element.addClass(attrs.class);\n        }\n\n        if (attrs.source) {\n          scope.$watch('search.value', watchSearch);\n        }\n\n        function watchSearch(newValue) {\n          if (newValue.length > attrs.minLength) {\n            $timeout(function () {\n              scope\n                .getData({\n                  str: newValue\n                })\n                .then(function (results) {\n                  scope.model = results;\n                });\n            }, 1000);\n          } else {\n            scope.model = [];\n          }\n        }\n\n        function clearSearch() {\n          scope.search.value = '';\n        }\n      }\n\n    };\n  }\n\n\n})();\n\n(function () {\n  'use strict';\n  angular\n    .module('app.photogram')\n    .directive('photogramSettings', photogramSettings);\n\n  function photogramSettings($ionicModal, $translate, AppConfig, $cordovaInAppBrowser, $rootScope, PhotogramShare,\n    User,\n    UserForm, $state) {\n\n    var path = AppConfig.path;\n\n    return {\n      restrict: 'A',\n      scope: {\n        photogram: '@'\n      },\n      template: '',\n      link: function (scope, elem) {\n\n        elem.bind('click', openModal);\n        scope.closeModal = closeModal;\n        scope.link = link;\n        scope.openLink = openLink;\n        scope.changeLanguage = changeLanguage;\n        scope.share = PhotogramShare.share;\n\n        function init() {\n          scope.form = User.currentUser();\n          scope.formFields = UserForm.profile;\n          scope.languages = AppConfig.locales;\n          scope.language = $translate.use();\n        }\n\n        function openModal() {\n\n          init();\n          $ionicModal.fromTemplateUrl(path + '/directives/settings/photogram.settings.modal.html', {\n            scope: scope\n          }).then(function (modal) {\n            scope.modal = modal;\n            scope.modal.show();\n          });\n        }\n\n        function link(sref) {\n          $state.go(sref);\n          scope.closeModal();\n        }\n\n        function openLink(url) {\n          var options = {\n            location: 'yes',\n            clearcache: 'yes',\n            toolbar: 'yes'\n          };\n\n          $cordovaInAppBrowser.open(url, '_blank', options);\n        }\n\n        function changeLanguage(language) {\n          $translate.use(language);\n          moment.locale(language);\n          scope.form.language = language;\n          submitUpdateProfile(scope.form);\n        }\n\n\n        function submitUpdateProfile(form) {\n          var dataForm = angular.copy(form);\n          User\n            .update(dataForm)\n            .then(function (resp) {\n              console.log(resp);\n              init();\n              scope.closeModal();\n            });\n        }\n\n        function closeModal() {\n          scope.modal.hide();\n          scope.modal.remove();\n        }\n\n      }\n    };\n  }\n\n\n})();\n\n(function () {\n  'use strict';\n  angular\n    .module('app.account')\n    .config(configRoutes);\n\n  var path = 'app/module/photogram/module/account';\n\n  function configRoutes($stateProvider) {\n    $stateProvider\n      .state('userlist', {\n        url: '/follow',\n        controller: 'PhotogramUserListCtrl',\n        controllerAs: 'vm',\n        templateUrl: 'app/module/user/module/friend/view/user.list.html'\n      })\n\n    .state('photogram.account', {\n      url: '/account',\n      views: {\n        tabProfile: {\n          controller: 'PhotogramProfileCtrl',\n          controllerAs: 'vm',\n          templateUrl: 'app/module/user/module/profile/view/profile.html'\n        }\n      }\n    });\n  }\n\n})();\n\n(function () {\n  'use strict';\n  angular\n    .module('app.direct')\n    .config(configRoutes);\n\n  var path = 'app/module/photogram/module/direct';\n\n  function configRoutes($stateProvider) {\n\n\n    $stateProvider\n    // Direct\n      .state('photogram.direct', {\n      url: '/direct',\n      views: {\n        tabHome: {\n          controller: 'DirectHomeCtrl',\n          controllerAs: 'vm',\n          templateUrl: path + '/view/direct.home.html'\n        }\n      }\n    })\n\n    .state('photogram.message', {\n      url: '/message/:channelId',\n      views: {\n        tabHome: {\n          controller: 'DirectMessagesCtrl',\n          controllerAs: 'vm',\n          templateUrl: path + '/view/direct.messages.html'\n        }\n      }\n    });\n  }\n\n})();\n\n(function () {\n  'use strict';\n  angular\n    .module('app.activity')\n    .config(configRoutes);\n\n  var path = 'app/module/photogram/module/activity';\n\n  function configRoutes($stateProvider, $translatePartialLoaderProvider) {\n\n    //$translatePartialLoaderProvider.addPart(path);\n\n    $stateProvider\n      .state('photogram.activity', {\n        url: '/activity',\n        views: {\n          tabActivity: {\n            controller: 'PhotogramActivityCtrl',\n            controllerAs: 'vm',\n            templateUrl: path + '/view/photogram.activity.html'\n          }\n        }\n      })\n\n    ;\n  }\n\n})();\n\n(function () {\n  'use strict';\n  angular\n    .module('app.home')\n    .config(configRoutes);\n\n  var path = 'app/module/photogram/module/home';\n\n  function configRoutes($stateProvider) {\n    $stateProvider\n      .state('photogram.home', {\n        url: '/home',\n        views: {\n          tabHome: {\n            controller: 'PhotogramHomeCtrl',\n            controllerAs: 'vm',\n            templateUrl: path + '/view/home.html'\n          }\n        }\n      });\n\n  }\n\n})();\n\n(function () {\n  'use strict';\n  angular\n    .module('app.search')\n    .config(configRoutes);\n\n  var path = 'app/module/photogram/module/search';\n\n  function configRoutes($stateProvider, $translatePartialLoaderProvider) {\n\n    //$translatePartialLoaderProvider.addPart(path);\n\n    $stateProvider\n      .state('photogram.search', {\n        url: '/search',\n        abstract: true,\n        views: {\n          tabSearch: {\n            templateUrl: path + '/view/photogram.search.tabs.html'\n          }\n        }\n      })\n\n    .state('photogram.search.grid', {\n        url: '/grid',\n        views: {\n          tabGrid: {\n            controller: 'PhotogramSearchGridCtrl',\n            controllerAs: 'vm',\n            templateUrl: path + '/view/photogram.search.grid.html'\n          }\n        }\n      })\n      .state('photogram.search.map', {\n        url: '/map',\n        views: {\n          tabMap: {\n            controller: 'PhotogramSearchMapCtrl',\n            controllerAs: 'vm',\n            templateUrl: path + '/view/photogram.search.map.html'\n          }\n        }\n      })\n\n    ;\n  }\n\n})();\n\n(function () {\n  'use strict';\n  var path = 'app/module/user/module/friend';\n\n  angular\n    .module('user.merge')\n    .config(addRoute);\n\n  function addRoute($stateProvider, $translatePartialLoaderProvider) {\n    //$translatePartialLoaderProvider.addPart(path);\n\n    $stateProvider\n\n    ;\n\n  }\n\n})();\n\n(function () {\n  'use strict';\n  var path = 'app/module/user/module/avatar';\n\n  angular\n    .module('user.avatar')\n    .config(addRoute);\n\n  function addRoute($stateProvider, $translatePartialLoaderProvider) {\n    //$translatePartialLoaderProvider.addPart(path);\n\n    $stateProvider\n      .state('useravatar', {\n        url: '/avatar',\n        controller: 'UserAvatarCtrl',\n        controllerAs: 'vm',\n        templateUrl: path + '/view/user.avatar.html'\n      });\n\n  }\n\n})();\n\n(function () {\n  'use strict';\n  var path = 'app/module/user/module/logout';\n\n  angular\n    .module('user.logout')\n    .config(addRoute);\n\n  function addRoute($stateProvider, $translatePartialLoaderProvider) {\n\n    $stateProvider\n      .state('logout', {\n        url: '/logout',\n        template: '<ion-view view-title=\"Logout\" cache-view=\"false\"><ion-content></ion-content></ion-view>',\n        controller: 'LogoutCtrl',\n        controllerAs: 'vm'\n      });\n\n  }\n\n})();\n\n(function () {\n  'use strict';\n  var path = 'app/module/user/module/merge';\n\n  angular\n    .module('user.merge')\n    .config(addRoute);\n\n  function addRoute($stateProvider, $translatePartialLoaderProvider) {\n    //$translatePartialLoaderProvider.addPart(path);\n\n    $stateProvider\n      .state('usermerge', {\n        url: '/merge',\n        controller: 'UserMergeCtrl',\n        controllerAs: 'vm',\n        templateUrl: path + '/view/user.merge.html'\n      });\n\n  }\n\n})();\n\n(function () {\n  'use strict';\n  var path = 'app/module/user/module/recovery';\n\n  angular\n    .module('user.recovery')\n    .config(addRoute);\n\n  function addRoute($stateProvider, $translatePartialLoaderProvider) {\n    //$translatePartialLoaderProvider.addPart(path);\n\n    $stateProvider\n\n    ;\n\n  }\n\n})();\n\n(function () {\n  'use strict';\n  var path = 'app/module/user/module/signin';\n\n  angular\n    .module('user.merge')\n    .config(addRoute);\n\n  function addRoute($stateProvider, $translatePartialLoaderProvider) {\n    //$translatePartialLoaderProvider.addPart(path);\n\n    $stateProvider\n      .state('user.signin', {\n        url: '/signin',\n        views: {\n          tabLogin: {\n            controller: 'UserSigninCtrl',\n            controllerAs: 'vm',\n            templateUrl: path + '/view/user.signin.html'\n          }\n        }\n      });\n\n  }\n\n})();\n\n(function () {\n  'use strict';\n  var path = 'app/module/user/module/signup';\n\n  angular\n    .module('user.merge')\n    .config(addRoute);\n\n  function addRoute($stateProvider, $translatePartialLoaderProvider) {\n    //$translatePartialLoaderProvider.addPart(path);\n\n    $stateProvider\n      .state('user.signup', {\n        url: '/signup',\n        views: {\n          tabLogin: {\n            controller: 'UserSignupCtrl',\n            controllerAs: 'vm',\n            templateUrl: path + '/view/user.signup.html'\n          }\n        }\n      });\n\n  }\n\n})();\n\n(function () {\n  'use strict';\n  var path = 'app/module/user/module/term';\n\n  angular\n    .module('user.merge')\n    .config(addRoute);\n\n  function addRoute($stateProvider, $translatePartialLoaderProvider) {\n    //$translatePartialLoaderProvider.addPart(path);\n\n    $stateProvider\n\n    ;\n\n  }\n\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('app.photogram')\n    .controller('DirectHomeCtrl', DirectHomeCtrl);\n\n  /* @ngInject */\n  function DirectHomeCtrl(Direct) {\n    var vm = this;\n    vm.data = [];\n\n    Direct\n      .chats()\n      .then(function (resp) {\n        console.log(resp);\n        vm.data = resp;\n      })\n  }\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('app.photogram')\n    .controller('DirectMessagesCtrl', DirectMessagesCtrl);\n\n\n  function DirectMessagesCtrl($scope, Direct, User, $state) {\n    var vm = this;\n    var roomId = $state.params.channelId;\n    vm.user = User.currentUser();\n    vm.sendMessage = sendMessage;\n    vm.doRefresh = loadMessages;\n\n    function loadMessages() {\n      vm.loading = true;\n      vm.data = [];\n      Direct\n        .messages(roomId)\n        .then(function (resp) {\n          vm.data = resp;\n          vm.loading = false;\n          if (vm.model) {\n            vm.model.text = '';\n          }\n          $scope.$broadcast('scroll.refreshComplete');\n        });\n    }\n\n    loadMessages();\n\n\n    function sendMessage(form, model) {\n      var data = angular.copy(model);\n      console.log(data);\n      if (form.$valid && data.text) {\n        var message = {\n          body: data.text\n        };\n        Direct\n          .sendMessage(message, roomId)\n          .then(function () {\n            loadMessages();\n          });\n      }\n\n\n    }\n\n  }\n})();\n\n(function () {\n  'use strict';\n\n  var _direct = 'DirectMessages';\n  var _channel = 'Direct';\n\n  angular\n    .module('app.photogram')\n\n  // fitlers\n  .filter('nl2br', ['$filter',\n    function ($filter) {\n      return function (data) {\n        if (!data) return data;\n        return data.replace(/\\n\\r?/g, '<br />');\n      };\n    }\n  ])\n\n  // directives\n  .directive('autolinker', ['$timeout',\n      function ($timeout) {\n        return {\n          restrict: 'A',\n          link: function (scope, element, attrs) {\n            $timeout(function () {\n              var eleHtml = element.html();\n\n              if (eleHtml === '') {\n                return false;\n              }\n\n              var text = Autolinker.link(eleHtml, {\n                className: 'autolinker',\n                newWindow: false\n              });\n\n              element.html(text);\n\n              var autolinks = element[0].getElementsByClassName('autolinker');\n\n              for (var i = 0; i < autolinks.length; i++) {\n                angular.element(autolinks[i]).bind('click', function (e) {\n                  var href = e.target.href;\n                  console.log('autolinkClick, href: ' + href);\n\n                  if (href) {\n                    //window.open(href, '_system');\n                    window.open(href, '_blank');\n                  }\n\n                  e.preventDefault();\n                  return false;\n                });\n              }\n            }, 0);\n          }\n        }\n      }\n    ])\n    .factory('Direct', Direct);\n\n  function Direct($q, Parse) {\n    return {\n      from: from,\n      to: to,\n      chats: chats,\n      messages: messages,\n      sendMessage: sendMessage\n    };\n\n    function getDirect(directId) {\n      var defer = $q.defer();\n      new Parse\n        .Query('Direct')\n        .include('from')\n        .equalTo('objectId', directId)\n        .first()\n        .then(defer.resolve);\n\n      return defer.promise;\n    }\n\n    function addMessage(data) {\n      var defer = $q.defer();\n      var DirectMessages = Parse.Object.extend('DirectMessages');\n      var message = new DirectMessages();\n      angular.forEach(data, function (value, key) {\n        message.set(key, value);\n      });\n      message.save(null, defer.resolve, defer.reject);\n\n      return defer.promise;\n    }\n\n    function sendMessage(message, roomId) {\n      var defer = $q.defer();\n\n      getDirect(roomId)\n        .then(function (direct) {\n          console.log(message);\n          message.room = direct;\n          message.user = Parse.User.current();\n          addMessage(message)\n            .then(function (message) {\n              direct.relation('messages').add(message);\n              direct.save()\n                .then(defer.resolve);\n            })\n        })\n      defer.resolve(message);\n      return defer.promise;\n\n    }\n\n    function messages(channelId, page) {\n      var defer = $q.defer();\n\n      getDirect(channelId)\n        .then(function (direct) {\n          var data = direct.attributes;\n          var user = Parse.User.current();\n          data.user = direct.attributes.from.attributes;\n          data.messages = [];\n\n          new Parse\n            .Query('DirectMessages')\n            .equalTo('room', direct)\n            .include('user')\n            .limit(20)\n            .skip(page)\n            .find()\n            .then(function (resp) {\n              resp.map(function (item) {\n                var obj = {\n                  body: item.attributes.body,\n                  date: item.createdAt,\n                  user: item.attributes.user.attributes\n                };\n                obj.user.id = item.attributes.user.id;\n                console.log(item, obj);\n\n                data.messages.push(obj);\n              });\n              defer.resolve(data);\n            });\n        })\n\n      return defer.promise;\n    }\n\n    function chats() {\n      var defer = $q.defer();\n\n      var promises = [chatsType(null, 'from'), chatsType(null, 'to')];\n      $q.all(promises)\n        .then(function (resp) {\n          var data = [];\n          console.log(resp);\n          resp[0].map(function (item) {\n            data.push(item);\n          });\n          resp[1].map(function (item) {\n            data.push(item);\n          });\n          defer.resolve(data);\n        })\n\n      return defer.promise;\n    }\n\n    function chatsType(user, type) {\n      var defer = $q.defer();\n      new Parse\n        .Query('Direct')\n        .equalTo(type, user || Parse.User.current())\n        .include('from')\n        .find()\n        .then(function (resp) {\n          var data = [];\n          resp.map(function (item) {\n            var obj = item.attributes;\n            obj.user = item.attributes.from.attributes\n            obj.id = item.id;\n\n            data.push(obj);\n          });\n          defer.resolve(data);\n        });\n\n      return defer.promise;\n    }\n\n    function from(user) {\n      var defer = $q.defer();\n      new Parse\n        .Query(_direct)\n        .equalTo('from', user || Parse.User.current())\n        .include('from')\n        .find()\n        .then(function (resp) {\n          var data = [];\n          resp.map(function (item) {\n            var obj = {\n              msg: item.attributes.body,\n              user: item.attributes.from.attributes\n            };\n\n            obj.user.id = item.attributes.from.id;\n\n            data.push(obj);\n          });\n          defer.resolve(data);\n        });\n\n      return defer.promise;\n    }\n\n    function to(user) {\n      var defer = $q.defer();\n      new Parse\n        .Query(_direct)\n        .equalTo('to', user || Parse.User.current())\n        .include('from')\n        .find()\n        .then(function (resp) {\n          var data = [];\n          resp.map(function (item) {\n            var obj = {\n              msg: item.attributes.body,\n              user: item.attributes.from.attributes\n            };\n\n            obj.user.id = item.attributes.from.id;\n\n            data.push(obj);\n          });\n          defer.resolve(data);\n        });\n\n      return defer.promise;\n    }\n  }\n})();\n\n(function () {\n  'use strict';\n  angular\n    .module('app.activity')\n    .controller('PhotogramActivityCtrl', PhotogramActivityCtrl);\n\n  function PhotogramActivityCtrl($scope, Photogram, PhotogramShare) {\n    var vm = this;\n    vm.loading = true;\n\n    $scope.loadMore = loadMore;\n    vm.openShare = PhotogramShare.open;\n    vm.load = load;\n    init();\n    vm.load();\n\n    function init() {\n      vm.page = 0;\n      vm.data = [];\n      vm.empty = false;\n      vm.loadMore = false;\n    }\n\n    function loadMore(force) {\n      console.log('Load More');\n      vm.load(force);\n    }\n\n    function load(force) {\n\n      if (force) {\n        init();\n      }\n\n      Photogram\n        .listActivity(vm.page)\n        .then(function (resp) {\n\n          resp.map(function (value) {\n            vm.data.push(value);\n          });\n\n          if (resp.length) {\n            vm.loading = false;\n            vm.more = true;\n            vm.page++;\n          } else {\n            vm.empty = true;\n            vm.loading = false;\n            vm.more = false;\n          }\n        })\n        .then(function () {\n          $scope.$broadcast('scroll.refreshComplete');\n          $scope.$broadcast('scroll.infiniteScrollComplete');\n\n        })\n        .catch(function (status) {\n          $scope.$broadcast('scroll.refreshComplete');\n          $scope.$broadcast('scroll.infiniteScrollComplete');\n          if (!status) {\n            vm.loading = false;\n            vm.page++;\n          } else {\n            vm.empty = true;\n            vm.loading = false;\n          }\n          vm.more = false;\n        });\n    }\n\n\n  }\n\n})();\n\n(function () {\n  'use strict';\n  angular\n    .module('app.activity')\n    .controller('PhotogramNotifyCtrl', PhotogramNotifyCtrl);\n\n  function PhotogramNotifyCtrl($scope, $rootScope, $ionicPlatform, $cordovaLocalNotification) {\n\n    $ionicPlatform.ready(function () {\n\n      // ========== Scheduling\n\n      $scope.scheduleSingleNotification = scheduleSingleNotification;\n      $scope.scheduleMultipleNotifications = scheduleMultipleNotifications;\n      $scope.scheduleDelayedNotification = scheduleDelayedNotification;\n      $scope.scheduleEveryMinuteNotification = scheduleEveryMinuteNotification;\n\n      // =========/ Scheduling\n\n      // ========== Update\n\n      $scope.updateSingleNotification = updateSingleNotification;\n\n      $scope.updateMultipleNotifications = updateMultipleNotifications;\n\n      // =========/ Update\n\n      // ========== Cancelation\n\n      $scope.cancelSingleNotification = cancelSingleNotification;\n\n      $scope.cancelMultipleNotifications = cancelMultipleNotifications;\n\n      $scope.cancelAllNotifications = cancelAllNotifications;\n\n      // =========/ Cancelation\n\n      // ========== Events\n\n      $rootScope.$on('$cordovaLocalNotification:schedule',\n        function (event, notification, state) {\n          // ...\n        });\n\n      $rootScope.$on('$cordovaLocalNotification:trigger',\n        function (event, notification, state) {\n          // ...\n        });\n\n      $rootScope.$on('$cordovaLocalNotification:update',\n        function (event, notification, state) {\n          // ...\n        });\n\n      $rootScope.$on('$cordovaLocalNotification:clear',\n        function (event, notification, state) {\n          // ...\n        });\n\n      $rootScope.$on('$cordovaLocalNotification:clearall',\n        function (event, state) {\n          // ...\n        });\n\n      $rootScope.$on('$cordovaLocalNotification:cancel',\n        function (event, notification, state) {\n          // ...\n        });\n\n      $rootScope.$on('$cordovaLocalNotification:cancelall',\n        function (event, state) {\n          // ...\n        });\n\n      $rootScope.$on('$cordovaLocalNotification:click',\n        function (event, notification, state) {\n          // ...\n        });\n\n      // =========/ Events\n      function scheduleSingleNotification() {\n        console.log('scheduleSingleNotification');\n        $cordovaLocalNotification.schedule({\n          id: 1,\n          title: 'Title here',\n          text: 'Text here',\n          data: {\n            customProperty: 'custom value'\n          }\n        }).then(function (result) {\n          // ...\n          console.log(result);\n        });\n      }\n\n      function scheduleMultipleNotifications() {\n        $cordovaLocalNotification.schedule([{\n          id: 1,\n          title: 'Title 1 here',\n          text: 'Text 1 here',\n          data: {\n            customProperty: 'custom 1 value'\n          }\n        }, {\n          id: 2,\n          title: 'Title 2 here',\n          text: 'Text 2 here',\n          data: {\n            customProperty: 'custom 2 value'\n          }\n        }, {\n          id: 3,\n          title: 'Title 3 here',\n          text: 'Text 3 here',\n          data: {\n            customProperty: 'custom 3 value'\n          }\n        }]).then(function (result) {\n          // ...\n          console.log(result);\n        });\n      }\n\n      function scheduleDelayedNotification() {\n        var now = new Date().getTime();\n        var _10SecondsFromNow = new Date(now + 10 * 1000);\n\n        $cordovaLocalNotification.schedule({\n          id: 1,\n          title: 'Title here',\n          text: 'Text here',\n          at: _10SecondsFromNow\n        }).then(function (result) {\n          // ...\n          console.log(result);\n        });\n      }\n\n      function scheduleEveryMinuteNotification() {\n        $cordovaLocalNotification.schedule({\n          id: 1,\n          title: 'Title here',\n          text: 'Text here',\n          every: 'minute'\n        }).then(function (result) {\n          // ...\n          console.log(result);\n        });\n      }\n\n      function updateSingleNotification() {\n        $cordovaLocalNotification.update({\n          id: 1,\n          title: 'Title - UPDATED',\n          text: 'Text - UPDATED'\n        }).then(function (result) {\n          // ...\n          console.log(result);\n        });\n      }\n\n      function updateMultipleNotifications() {\n        $cordovaLocalNotification\n          .update([{\n            id: 1,\n            title: 'Title 1 - UPDATED',\n            text: 'Text 1 - UPDATED'\n          }, {\n            id: 2,\n            title: 'Title 2 - UPDATED',\n            text: 'Text 2 - UPDATED'\n          }, {\n            id: 3,\n            title: 'Title 3 - UPDATED',\n            text: 'Text 3 - UPDATED'\n          }]).then(function (result) {\n            // ...\n            console.log(result);\n          });\n      }\n\n      function cancelSingleNotification() {\n        $cordovaLocalNotification\n          .cancel(1)\n          .then(function (result) {\n            // ...\n            console.log(result);\n          });\n      }\n\n      function cancelMultipleNotifications() {\n        $cordovaLocalNotification.cancel([\n          1,\n          2\n        ]).then(function (result) {\n          // ...\n          console.log(result);\n        });\n      }\n\n      function cancelAllNotifications() {\n        $cordovaLocalNotification.cancelAll().then(function (result) {\n          // ...\n          console.log(result);\n        });\n      }\n\n    });\n\n  }\n\n})();\n\n(function () {\n  'use strict';\n  /*\n   *\n   https://github.com/avivais/phonegap-parse-plugin\n   cordova plugin add https://github.com/FrostyElk/phonegap-parse-plugin --variable APP_ID=PARSE_APP_ID --variable CLIENT_KEY=PARSE_CLIENT_KEY\n   cordova plugin add https://github.com/FrostyElk/cordova-parse-plugin.git --variable APP_ID=7lWT9DJntSvMKTetpoT0wL79pTG9dk4ob5pztktX --variable CLIENT_KEY=CIcH8fg5AogNNrEQ8IbmA5nujNjIvVNmuW0PyvCy\n\n   Phonegap Parse.com Plugin\n   Phonegap 3.0.0 plugin for Parse.com push service\n\n   Using Parse.com's REST API for push requires the installation id, which isn't available in JS\n\n   This plugin exposes the four native Android API push services to JS:\n\n   getInstallationId\n   getSubscriptions\n   subscribe\n   unsubscribe\n\n   * */\n  angular\n    .module('app.activity')\n    .factory('ParsePush', ParsePush);\n\n  function ParsePush($q, AppConfig) {\n\n    return {\n      start: start,\n      getInstall: getInstall,\n      getSubscribe: getSubscriptions,\n      postSubscribe: postSubscribe,\n      unSubscribe: postUnSubscribe\n    };\n\n    function init() {\n      var defer = $q.defer();\n      var appId = AppConfig.parse.applicationId,\n        clientKey = AppConfig.parse.clientKey;\n\n      console.log('Init', appId, clientKey);\n\n      parsePlugin.initialize(appId, clientKey, function () {\n        console.log('Parse Push initialize');\n        on();\n        defer.resolve();\n      }, function (e) {\n        console.error('Parse Push Initialize error', e);\n        defer.reject(e);\n      });\n\n      return defer.promise;\n    }\n\n    function on() {\n      parsePlugin.on('receivePN', function (pn) {\n        console.log('yo i got this push notification:' + JSON.stringify(pn));\n      });\n\n      //customEvt can be any string of your choosing, i.e., chat, system, upvote, etc.\n      parsePlugin.on('receivePN:chat', function (pn) {\n        console.log('yo i can also use custom event to keep things like chat modularized');\n      });\n\n      parsePlugin.on('openPN', function (pn) {\n        //you can do things like navigating to a different view here\n        console.log('Yo, I get this when the user clicks open a notification from the tray');\n      });\n    }\n\n\n    function _start(channel) {\n      var cordova = window.cordova;\n\n      console.log('Parse Start', cordova, channel);\n      if (cordova) {\n        console.log('Push Start');\n        init()\n          .then(function () {\n            console.log('Plugin Load');\n            parsePlugin\n              .subscribe(channel, function () {\n                console.log('Enter channel', channel);\n                parsePlugin\n                  .getInstallationId(function (id) {\n                    console.log('Success Push', channel, id);\n                    /**\n                                         * Now you can construct an object and save it to your own services, or Parse, and corrilate users to parse installations\n                                         *\n                                         var install_data = {\n                                          installation_id: id,\n                                          channels: ['SampleChannel']\n                                       }\n                                         *\n                                         */\n                    on();\n\n                  }, function (e) {\n                    alert('error');\n                  });\n\n              }, function (e) {\n                alert('error');\n              });\n\n          }, function (e) {\n            alert('error');\n          });\n      }\n    }\n\n    function start(channel) {\n      var cordova = window.cordova;\n\n      console.log('Parse Start', cordova, channel);\n      if (cordova) {\n\n        console.log('Plugin Load');\n        init()\n          .then(function () {\n\n            console.log('Parse Ente Chanell', channel);\n            parsePlugin\n              .subscribe(channel, function () {\n                console.log('Enter channel', channel);\n                parsePlugin\n                  .getInstallationId(function (id) {\n                    console.log('Success Push', channel, id);\n                    /**\n                                         * Now you can construct an object and save it to your own services, or Parse, and corrilate users to parse installations\n                                         *\n                                         var install_data = {\n                        installation_id: id,\n                        channels: ['SampleChannel']\n                     }\n                                         *\n                                         */\n                    on();\n\n                  }, function (e) {\n                    alert('error');\n                  });\n\n              }, function (e) {\n                alert('error');\n              });\n          })\n\n\n      }\n    }\n\n    function getInstall() {\n      var defer = $q.defer();\n      console.log('getInstall');\n      parsePlugin\n        .getInstallationId(function (id) {\n          console.log('getInstall', id);\n          defer.resolve(id);\n        }, function (e) {\n          console.error('getInstall', e);\n          defer.reject(e);\n        });\n      return defer.promise;\n    }\n\n    function getSubscriptions() {\n      var defer = $q.defer();\n      parsePlugin.getSubscriptions(function (subscriptions) {\n        alert(subscriptions);\n        defer.resolve(subscriptions);\n      }, function (e) {\n        alert('error');\n        defer.reject(e);\n      });\n      return defer.promise;\n    }\n\n    function postSubscribe(channel) {\n      var defer = $q.defer();\n      console.log('postSubscribe', channel);\n      parsePlugin\n        .subscribe(channel, function (resp) {\n          console.log('postSubscribe', channel, resp);\n          defer.resolve(true);\n        }, function (e) {\n          console.log('postSubscribe', channel, e);\n          defer.reject(e);\n        });\n      return defer.promise;\n    }\n\n    function postUnSubscribe(channel) {\n      var defer = $q.defer();\n      console.log('postUnSubscribe', channel);\n      parsePlugin\n        .unsubscribe(channel, function (msg) {\n          console.log('postUnSubscribe', channel, msg);\n          defer.resolve(msg);\n        }, function (e) {\n          console.log('postUnSubscribe', channel, e);\n          alert('error');\n          defer.reject(e);\n        });\n      return defer.promise;\n    }\n\n  }\n})();\n\n(function () {\n\n  angular\n    .module('app.photogram')\n    .factory('PhotogramFeedbackForm', PhotogramFeedbackForm)\n    .factory('PhotogramFeedback', PhotogramFeedback);\n\n  function PhotogramFeedback($q, Photogram, Notify) {\n\n    function submit(form) {\n      var defer = $q.defer();\n\n      console.log(form);\n\n      Photogram\n        .find(form.PhotogramId)\n        .then(function (Photogram) {\n          console.log(Photogram);\n          var Object = Parse.Object.extend('PhotogramFeedback');\n          var item = new Object();\n\n          delete form.PhotogramId;\n\n          angular.forEach(form, function (value, key) {\n            item.set(key, value);\n          });\n\n          item.set('user', Parse.User.current());\n          item.set('Gallery', Photogram);\n\n          item\n            .save(null)\n            .then(function (resp) {\n              Notify.alert({\n                title: ('Thanks'),\n                text: ('Thanks for your Feedback')\n              });\n              defer.resolve(resp);\n            });\n        });\n\n\n      return defer.promise;\n    }\n\n    return {\n      submit: submit\n    };\n  }\n\n  function PhotogramFeedbackForm($translate) {\n\n    var form = [{\n      key: 'title',\n      type: 'input',\n      templateOptions: {\n        type: 'text',\n        placeholder: $translate.instant('FEEDBACK.TITLE'),\n        required: true\n      }\n    }, {\n      key: 'subject',\n      type: 'select',\n      templateOptions: {\n        label: $translate.instant('FEEDBACK.SUBJECT'),\n        options: [{\n          'label': $translate.instant('FEEDBACK.COMPLAINT'),\n          'id': 'complaint',\n        }, {\n          'label': $translate.instant('FEEDBACK.BUG'),\n          'id': 'bug',\n        }, {\n          'label': $translate.instant('FEEDBACK.SUGGESTION'),\n          'id': 'suggestion',\n        }],\n        valueProp: 'id',\n        labelProp: 'label',\n        icon: 'icon-list',\n        iconPlaceholder: true\n      }\n    }, {\n      key: 'status',\n      type: 'textarea',\n      templateOptions: {\n        type: 'text',\n        placeholder: $translate.instant('FEEDBACK.MESSAGE'),\n        icon: 'ion-quote',\n        required: true,\n        iconPlaceholder: true\n      }\n    }];\n\n    return {\n      form: form\n    };\n  }\n\n\n})();\n\n(function () {\n  'use strict';\n\n  /**\n   * @ngdoc directive\n   * @name photogramPhotoFeedback\n   *\n   * @description\n   * _Please update the description and restriction._\n   *\n   * @restrict A\n   * */\n\n  angular\n    .module('app.photogram')\n    .directive('photogramPhotoFeedback', photogramPhotoFeedbackDirective);\n\n  function photogramPhotoFeedbackDirective($ionicModal, AppConfig, PhotogramFeedback, PhotogramFeedbackForm, $state) {\n\n    var path = AppConfig.path;\n\n    return {\n      restrict: 'A',\n      scope: {\n        photogram: '@'\n      },\n      template: '',\n      link: function (scope, elem, attr) {\n\n        scope.link = link;\n        scope.submitFeedback = submitFeedback;\n        scope.closeModal = closeModal;\n        elem.bind('click', openModal);\n\n        function init() {\n          scope.form = {\n            photogramId: scope.photogram\n          };\n          scope.formFields = PhotogramFeedbackForm.form;\n        }\n\n        function openModal() {\n\n          init();\n          $ionicModal.fromTemplateUrl(path + '/feedback/photogram.photo.feedback.modal.html', {\n              scope: scope,\n              focusFirstInput: true\n            })\n            .then(function (modal) {\n              scope.modal = modal;\n              scope.modal.show();\n            });\n        }\n\n        function link(sref) {\n          $state.go(sref)\n          scope.closeModal();\n        }\n\n        function submitFeedback() {\n          var dataForm = angular.copy(scope.form);\n          PhotogramFeedback\n            .submit(dataForm)\n            .then(function (resp) {\n              console.log(resp);\n              init();\n              scope.closeModal();\n            });\n        }\n\n\n        function closeModal() {\n          scope.modal.hide();\n          scope.modal.remove();\n        }\n\n      }\n    };\n  }\n\n})();\n\n(function () {\n  'use strict';\n  /**\n   * @ngdoc controller\n   * @name PhotogramHomeCtrl\n   *\n   * @description\n   * _Please update the description and dependencies._\n   *\n   * @requires $scope\n   * */\n  angular\n    .module('app.photogram')\n    .controller('PhotogramHomeCtrl', PhotogramHomeController);\n\n  function PhotogramHomeController($scope, $rootScope, $cordovaInAppBrowser, $stateParams, Photogram) {\n    var vm = this;\n    vm.loading = true;\n    vm.buySource = buySource;\n    vm.load = load;\n    vm.load($stateParams.reload);\n    vm.loadMore = loadMore;\n\n    init();\n\n    $rootScope.$on('PhotogramHome:reload', function () {\n      loadMore(true);\n    });\n\n    function init() {\n      vm.data = [];\n      vm.page = 0;\n      vm.empty = false;\n      vm.more = false;\n    }\n\n\n    function loadMore(force) {\n      console.log('Load More', vm.more);\n      vm.load(force);\n    }\n\n    function buySource() {\n      var options = {\n        location: 'yes',\n        clearcache: 'yes',\n        toolbar: 'yes'\n      };\n\n      var lang = $rootScope.lang.value;\n      var url = 'https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=FAW4JZS7KJM5S';\n      if (lang === 'pt_BR') {\n        url = 'https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=FT5W6FJW5RAEN'\n      }\n\n      $cordovaInAppBrowser.open(url, '_blank', options);\n    }\n\n    function load(force) {\n      console.log('Load ');\n\n      if (force) {\n        init();\n      }\n\n      Photogram\n        .home(vm.page)\n        .then(function (resp) {\n\n          console.log(resp);\n\n          vm.loading = false;\n\n          angular.forEach(resp, function (value, key) {\n            vm.data.push(value);\n          });\n\n          console.log('qtd', resp.length);\n\n          if (resp.length) {\n            vm.more = true;\n            vm.page++;\n          } else {\n            vm.empty = true;\n            vm.more = false;\n          }\n        })\n        .then(function () {\n          $scope.$broadcast('scroll.refreshComplete');\n          $scope.$broadcast('scroll.infiniteScrollComplete');\n\n        })\n        .catch(function () {\n          $scope.$broadcast('scroll.refreshComplete');\n          $scope.$broadcast('scroll.infiniteScrollComplete');\n          if (vm.data.length) {\n            vm.loading = false;\n            vm.page++;\n          } else {\n            vm.empty = true;\n            vm.loading = false;\n          }\n          vm.more = false;\n        });\n    }\n\n\n  }\n\n\n})();\n\n(function () {\n  'use strict';\n  angular\n    .module('app.photogram')\n    .controller('PhotogramPhotoCtrl', PhotogramPhotoCtrl);\n\n\n  function PhotogramPhotoCtrl($stateParams, Photogram) {\n    var vm = this;\n\n    vm.formFields = Photogram.formComment;\n    vm.submitComment = submitComment;\n    init();\n\n    Photogram\n      .get($stateParams.id)\n      .then(function (resp) {\n        vm.data = resp;\n      });\n\n    function init() {\n      vm.form = {\n        PhotogramId: $stateParams.id,\n        text: ''\n      };\n\n      loadComments();\n    }\n\n    function loadComments() {\n      Photogram\n        .allComment($stateParams.id)\n        .then(function (resp) {\n          console.log(resp);\n          vm.comments = resp;\n        });\n    }\n\n    function submitComment(rForm, form) {\n      if (rForm.$valid) {\n        var dataForm = angular.copy(form);\n        Photogram\n          .addComment(dataForm)\n          .then(function (resp) {\n            console.log(resp);\n            loadComments();\n          });\n      }\n    }\n\n  }\n\n\n})();\n\n(function () {\n  'use strict';\n  angular\n    .module('app.photogram')\n    .controller('PhotogramPreviewCtrl', PhotogramPreviewCtrl);\n\n\n  function PhotogramPreviewCtrl(photo) {\n    var vm = this;\n    vm.data = photo;\n    console.log(photo);\n  }\n\n\n})();\n\n(function () {\n  'use strict';\n  angular\n    .module('app.photogram')\n    .controller('PhotogramViewCtrl', PhotogramViewCtrl);\n\n  function PhotogramViewCtrl(Photogram, $stateParams) {\n    var vm = this;\n    Photogram\n      .get($stateParams.id)\n      .then(function (resp) {\n        console.log(resp);\n        vm.data = resp;\n      });\n  }\n\n\n})();\n\n(function () {\n  'use strict';\n  angular\n    .module('app.photogram')\n    .controller('PhotogramSearchGridCtrl', PhotogramSearchGridCtrl);\n\n  function PhotogramSearchGridCtrl($scope, Photogram, PhotogramShare) {\n    var vm = this;\n    vm.loading = true;\n    vm.loadMore = loadMore;\n    vm.openShare = PhotogramShare.open;\n    vm.load = load;\n    init();\n    vm.load('');\n\n    function init() {\n      vm.data = [];\n      vm.page = 0;\n      vm.empty = false;\n      vm.more = false;\n    }\n\n    function loadMore(force) {\n      console.log('Load More', vm.more);\n      vm.load(force);\n    }\n\n    function load(string) {\n      console.log('load popular', string);\n\n      Photogram\n        .all(vm.page)\n        .then(function (resp) {\n          vm.loading = false;\n\n          angular.forEach(resp, function (value, key) {\n            vm.data.push(value);\n          });\n\n          console.log('qtd', resp, resp.length);\n\n          if (resp.length > 0) {\n            vm.more = true;\n            vm.page++;\n          } else {\n            vm.empty = true;\n            vm.more = false;\n          }\n        })\n        .then(function () {\n          $scope.$broadcast('scroll.refreshComplete');\n          $scope.$broadcast('scroll.infiniteScrollComplete');\n          vm.empty = false;\n\n        })\n        .catch(function (status) {\n          $scope.$broadcast('scroll.refreshComplete');\n          $scope.$broadcast('scroll.infiniteScrollComplete');\n          if (!status) {\n            vm.loading = false;\n            vm.page++;\n          } else {\n            vm.empty = true;\n            vm.loading = false;\n          }\n          vm.more = false;\n        });\n    }\n\n  }\n\n})();\n\n(function () {\n  'use strict';\n  angular\n    .module('app.photogram')\n    .controller('PhotogramSearchMapCtrl', PhotogramSearchMapCtrl);\n\n  function PhotogramSearchMapCtrl($scope, $timeout, GeoService, Photogram) {\n    var vm = this;\n    var time = 0;\n    var map = {\n      center: {\n        latitude: 45,\n        longitude: -73\n      },\n      zoom: 13\n    };\n\n    vm.location = location;\n    vm.openModal = openModal;\n    $scope.map = map;\n    $scope.$watch('map.center.latitude', watchMap);\n\n    function watchMap(newValue) {\n      console.log(newValue);\n      if (newValue) {\n        console.log(newValue);\n        time += 2000;\n        console.log(time);\n\n\n        var timer = $timeout(function () {\n          console.log(timer);\n\n          Photogram\n            .nearby($scope.map.center)\n            .then(function (resp) {\n              console.log(resp);\n              time = 0;\n              vm.data = resp;\n\n              $timeout.cancel(timer);\n            });\n        }, time);\n\n      }\n    }\n\n    function openModal(item) {\n      console.log(item);\n    }\n\n    function location() {\n      init();\n    }\n\n    function init() {\n      GeoService\n        .findMe()\n        .then(function (position) {\n\n          console.log(position);\n\n          $scope.map = {\n            center: position.geolocation,\n            zoom: 13\n          };\n\n          vm.user = angular.copy(position.geolocation);\n\n          Photogram\n            .nearby(position.coords)\n            .then(function (resp) {\n              console.log(resp);\n              vm.data = resp;\n            });\n\n        }, function (error) {\n          console.log('Could not get location');\n\n          Photogram\n            .nearby($scope.map.center)\n            .then(function (resp) {\n              console.log(resp);\n              vm.data = resp;\n            });\n        });\n    }\n\n    init();\n\n  }\n\n})();\n\n(function () {\n  'use strict';\n  /**\n   * @ngdoc controller\n   * @name UserAvatarCtrl\n   *\n   * @description\n   * _Please update the description and dependencies._\n   *\n   * @requires $scope\n   * */\n  angular\n    .module('app.user')\n    .controller('UserAvatarCtrl', UserAvatarController);\n\n  function UserAvatarController(User, AppConfig, $state, Notify, UserForm) {\n    var vm = this;\n    vm.submitAvatar = submitAvatar;\n    init();\n\n    function init() {\n      vm.form = User.currentUser();\n      vm.formFields = UserForm.profile;\n      console.log(vm.form);\n    }\n\n    function submitAvatar() {\n      console.log(vm.rForm);\n\n      if (vm.rForm.$valid) {\n        var dataForm = angular.copy(vm.form);\n        console.log(dataForm);\n\n        User\n          .update(dataForm)\n          .then(function (resp) {\n            console.log(resp);\n            User.init();\n            $state.go(AppConfig.routes.home, {\n              clear: true\n            })\n          });\n      } else {\n        Notify.alert({\n          title: ('Invalid form'),\n          text: ('Fill out the fields in red')\n        });\n      }\n\n    }\n\n  }\n\n\n})();\n\n(function () {\n  'use strict';\n\n  /**\n   * @ngdoc directive\n   * @name userAvatar\n   *\n   * @description\n   * _Please update the description and restriction._\n   *\n   * @restrict A\n   * */\n\n  angular\n    .module('app.user')\n    .directive('userAvatar', userAvatarDirective);\n\n  function userAvatarDirective(PhotoService, PhotogramSetting, User) {\n    return {\n      restrict: 'A',\n      scope: {\n        gallery: '@'\n      },\n      template: '',\n      link: function ($scope, elem) {\n\n        elem.bind('click', openModal);\n\n        function openModal() {\n\n          var option = {\n            allowEdit: PhotogramSetting.get('imageEdit'),\n            filter: PhotogramSetting.get('imageFilter'),\n            allowRotation: PhotogramSetting.get('imageRotation'),\n            quality: PhotogramSetting.get('imageQuality'),\n            correctOrientation: PhotogramSetting.get('imageEdit'),\n            targetWidth: PhotogramSetting.get('imageWidth'),\n            targetHeight: PhotogramSetting.get('imageHeight'),\n            saveToPhotoAlbum: PhotogramSetting.get('imageSaveAlbum')\n          };\n\n          console.log(option);\n\n          PhotoService\n            .open(option)\n            .then(function (imageData) {\n              User\n                .updateAvatar(imageData)\n                .then(function (resp) {\n                  console.log(resp);\n                });\n            })\n            .catch(function (resp) {\n              console.log(resp);\n            });\n        }\n\n      }\n    }\n  }\n\n})();\n\n(function () {\n  'use strict';\n  /**\n   * @ngdoc controller\n   * @name LogoutCtrl\n   *\n   * @description\n   * _Please update the description and dependencies._\n   *\n   * @requires $scope\n   * */\n  angular\n    .module('app.user')\n    .controller('LogoutCtrl', LogoutController);\n\n  function LogoutController(User) {\n    User.logout();\n  }\n\n})();\n\n(function () {\n  'use strict';\n  /**\n   * @ngdoc controller\n   * @name UserMergeCtrl\n   *\n   * @description\n   * _Please update the description and dependencies._\n   *\n   * @requires $scope\n   * */\n  angular\n    .module('app.user')\n    .controller('UserMergeCtrl', UserMergeController);\n\n  function UserMergeController(User, $rootScope, AppConfig, $state, Notify, UserForm) {\n    var vm = this;\n    vm.submitMerge = submitMerge;\n    init();\n\n    function init() {\n      vm.form = $rootScope.tempUser;\n      vm.form.password = '';\n    }\n\n    function submitMerge() {\n\n      if (vm.form.password != '') {\n        var dataForm = angular.copy(vm.form);\n        var form = {\n          email: dataForm.email,\n          password: dataForm.password\n        };\n\n        console.log(form);\n\n        User\n          .login(form)\n          .then(function (user) {\n            console.log(user);\n            User\n              .facebookLink(user)\n              .then(function (resp) {\n                console.log(resp);\n                $state.go(AppConfig.routes.home, {\n                  clear: true\n                })\n              })\n          })\n          .catch(function (resp) {\n            Notify.alert({\n              title: 'Ops',\n              text: resp.message\n            });\n          });\n      } else {\n        Notify.alert({\n          title: ('Invalid form'),\n          text: ('Please enter your email')\n        });\n      }\n\n    }\n\n  }\n\n\n})();\n\n(function () {\n  'use strict';\n  /**\n   * @ngdoc controller\n   * @name PhotogramProfileCtrl\n   *\n   * @description\n   * _Please update the description and dependencies._\n   *\n   * @requires $scope\n   * */\n  angular\n    .module('app.user')\n    .controller('PhotogramProfileCtrl', PhotogramProfileController);\n\n  function PhotogramProfileController($stateParams, $scope, Photogram, User) {\n    var vm = this;\n    vm.changeTab = changeTab;\n    vm.user = User.currentUser();\n\n    init();\n    changeTab('list');\n\n    function changeTab(tab) {\n      if (tab === 'list') {\n        vm.tab = {\n          list: true,\n          grid: false\n        };\n      } else {\n        vm.tab = {\n          list: false,\n          grid: true\n        };\n      }\n    }\n\n    function init() {\n      getFollower();\n      getGallery();\n    }\n\n    function getFollower() {\n      vm.loadingFollowers = true;\n      vm.loadingFollowing = true;\n      vm.loadingPhotos = true;\n\n      Photogram\n        .getUserGalleryQtd()\n        .then(function (qtdPhotos) {\n          vm.user.qtdPhotos = qtdPhotos;\n          vm.loadingPhotos = false;\n        });\n\n      User\n        .getFollowers()\n        .then(function (qtdFollowers) {\n          console.log('qtdFollower: seguindo', qtdFollowers);\n          vm.user.qtdFollowers = qtdFollowers;\n          vm.loadingFollowers = false;\n        });\n\n      User\n        .getFollowing()\n        .then(function (qtdFollowing) {\n          console.log('qtdFollowing: seguidores', qtdFollowing);\n          vm.user.qtdFollowing = qtdFollowing;\n          vm.loadingFollowing = false;\n        });\n    }\n\n\n    function getGallery() {\n      vm.loading = true;\n\n      Photogram\n        .getUserGallery()\n        .then(function (resp) {\n          vm.data = resp;\n          console.log(resp);\n        })\n        .then(function () {\n          $scope.$broadcast('scroll.refreshComplete');\n          $scope.$broadcast('scroll.infiniteScrollComplete');\n          vm.loading = false;\n        })\n        .catch(function () {\n          $scope.$broadcast('scroll.refreshComplete');\n          $scope.$broadcast('scroll.infiniteScrollComplete');\n          vm.loading = false;\n        });\n    }\n  }\n\n\n})();\n\n(function () {\n  'use strict';\n  /**\n   * @ngdoc controller\n   * @name PhotogramProfilePhotoCtrl\n   *\n   * @description\n   * _Please update the description and dependencies._\n   *\n   * @requires $scope\n   * */\n  angular\n    .module('app.user')\n    .controller('PhotogramProfilePhotoCtrl', PhotogramProfilePhotoController);\n\n  function PhotogramProfilePhotoController(Photogram, $scope) {\n    var vm = this;\n    var user = Parse.User.current();\n    vm.data = [];\n    vm.empty = false;\n\n    console.log('Profile Photo');\n\n    Photogram\n      .getUserGallery(user.id)\n      .then(function (resp) {\n        vm.data = resp;\n        console.log(resp);\n      })\n      .then(function () {\n        $scope.$broadcast('scroll.refreshComplete');\n        $scope.$broadcast('scroll.infiniteScrollComplete');\n        vm.loading = false;\n      })\n      .catch(function () {\n        $scope.$broadcast('scroll.refreshComplete');\n        $scope.$broadcast('scroll.infiniteScrollComplete');\n        vm.loading = false;\n      });\n  }\n\n\n})();\n\n(function () {\n  'use strict';\n  /**\n   * @ngdoc controller\n   * @name UserProfileCtrl\n   *\n   * @description\n   * _Please update the description and dependencies._\n   *\n   * @requires $scope\n   * */\n  angular\n    .module('app.user')\n    .controller('UserProfileCtrl', UserProfileController);\n\n  function UserProfileController($rootScope, User, UserForm) {\n    var vm = this;\n    vm.form = $rootScope.user;\n    vm.formFields = UserForm.profile;\n    vm.submitProfile = submitProfile;\n\n    function submitProfile(rForm, form) {\n      if (rForm.$valid) {\n        var formData = angular.copy(form);\n        User\n          .update(formData)\n          .then(function (resp) {\n            console.log(resp);\n          });\n      }\n    }\n\n  }\n\n})();\n\n(function () {\n  'use strict';\n\n  /**\n   * @ngdoc directive\n   * @name photogramProfile\n   *\n   * @description\n   * _Please update the description and restriction._\n   *\n   * @restrict A\n   * */\n\n  angular\n    .module('app.user')\n    .directive('profileModal', profileModalDirective);\n\n  function profileModalDirective($ionicModal, $rootScope, $q, Photogram, User) {\n\n    return {\n      restrict: 'A',\n      scope: {\n        user: '='\n      },\n      link: profileModalLink\n    };\n\n    function profileModalLink(scope, elem) {\n\n      elem.bind('click', openModal);\n\n      function init() {\n        var defer = $q.defer();\n        scope.loadingPhotogram = true;\n\n        Photogram\n          .getUserGallery(scope.user.id)\n          .then(function (resp) {\n            scope.data = resp;\n            console.log(resp);\n            scope.$broadcast('scroll.refreshComplete');\n            scope.$broadcast('scroll.infiniteScrollComplete');\n            scope.loadingPhotogram = false;\n            defer.resolve(scope.data);\n          });\n\n        return defer.promise;\n      }\n\n      function changeTab(tab) {\n        if (tab === 'list') {\n          scope.tab = {\n            list: true,\n            grid: false\n          };\n        } else {\n          scope.tab = {\n            list: false,\n            grid: true\n          };\n        }\n      }\n\n      function getFollower(userId) {\n        scope.loadingFollowers = true;\n        scope.loadingFollowing = true;\n        scope.loadingPhotos = true;\n\n        Photogram\n          .getUserGalleryQtd(userId)\n          .then(function (qtdPhotos) {\n            scope.user.qtdPhotos = qtdPhotos;\n            scope.loadingPhotos = false;\n          });\n\n        User\n          .getFollowers(userId)\n          .then(function (qtdFollowers) {\n            console.log('qtdFollower: seguindo', qtdFollowers);\n            scope.user.qtdFollowers = qtdFollowers;\n            scope.loadingFollowers = false;\n          });\n\n        User\n          .getFollowing(userId)\n          .then(function (qtdFollowing) {\n            console.log('qtdFollowing: seguidores', qtdFollowing);\n            scope.user.qtdFollowing = qtdFollowing;\n            scope.loadingFollowing = false;\n          });\n      }\n\n      function openModal() {\n\n        console.log(scope.user);\n\n        if (scope.user.id === $rootScope.user.id) {\n          return false;\n        }\n\n        $ionicModal\n          .fromTemplateUrl('app/module/user/module/profile/view/profile.modal.html', {\n            scope: scope\n          })\n          .then(function (modal) {\n            scope.modalProfile = modal;\n            scope.loadingFollow = true;\n            scope.changeTab = changeTab;\n            scope.follow = follow;\n            scope.closeModal = closeModal;\n            scope.modalProfile.show();\n\n            init();\n            getFollower(scope.user.id);\n            changeTab('list');\n            isFollow();\n\n            function isFollow() {\n              User\n                .isFollow(scope.user.id)\n                .then(isFollowResp);\n            }\n\n            function isFollowResp(resp) {\n              console.info('follow user?', resp);\n              scope.user.follow = resp;\n              scope.loadingFollow = false;\n            }\n\n            function follow() {\n\n              scope.loadingFollow = true;\n              var status;\n\n              if (scope.user.follow) {\n                status = false;\n              } else {\n                status = true;\n              }\n\n              User\n                .follow(status, scope.user)\n                .then(followResp);\n\n              function followResp(resp) {\n\n                console.log('Follow result', resp);\n                scope.user.follow = status;\n                scope.loadingFollow = false;\n                getFollower(scope.user.id);\n              }\n            }\n\n            function closeModal() {\n              delete scope.data;\n              scope.modalProfile.hide();\n              scope.modalProfile.remove();\n            }\n          });\n      }\n    }\n  }\n\n})();\n\n(function () {\n  'use strict';\n\n  /**\n   * @ngdoc directive\n   * @name photogramProfileEdit\n   *\n   * @description\n   * _Please update the description and restriction._\n   *\n   * @restrict A\n   * */\n\n  angular\n    .module('app.user')\n    .directive('profileModalEdit', profileModalEditDirective);\n\n  function profileModalEditDirective($ionicModal, User, UserForm, $state) {\n\n    return {\n      restrict: 'A',\n      scope: {\n        photogram: '@'\n      },\n      template: '',\n      link: function (scope, elem) {\n\n        scope.linkFacebook = linkFacebook;\n        scope.logout = logout;\n        scope.submitUpdateProfile = submitUpdateProfile;\n        scope.closeModal = closeModal;\n        elem.bind('click', openModal);\n\n\n        function init() {\n          scope.form = User.currentUser();\n          scope.formFields = UserForm.profile;\n        }\n\n\n        function openModal() {\n\n          init();\n          $ionicModal.fromTemplateUrl('app/module/user/module/profile/view/profile.edit.modal.html', {\n            scope: scope\n          }).then(function (modal) {\n            scope.modal = modal;\n            scope.modal.show();\n          });\n        }\n\n        function logout() {\n          $state.go('logout');\n          scope.closeModal();\n        }\n\n        function linkFacebook() {\n          User\n            .facebookLink()\n            .then(function (resp) {\n              console.log(resp);\n            });\n        }\n\n        function submitUpdateProfile() {\n          var dataForm = angular.copy(scope.form);\n          User\n            .update(dataForm)\n            .then(function (resp) {\n              console.log(resp);\n              init();\n              scope.closeModal();\n            });\n        }\n\n        function closeModal() {\n          scope.modal.hide();\n          scope.modal.remove();\n        }\n      }\n    };\n  }\n\n})();\n\n(function () {\n  'use strict';\n  /**\n   * @ngdoc controller\n   * @name UserRecoveryPassCtrl\n   *\n   * @description\n   * _Please update the description and dependencies._\n   *\n   * @requires $scope\n   * */\n  angular\n    .module('app.user')\n    .controller('UserRecoveryPassCtrl', UserRecoveryPassController);\n\n  function UserRecoveryPassController(User, Notify) {\n    var vm = this;\n    vm.form = {};\n    vm.submitForgot = submitForgot;\n\n    function submitForgot() {\n      User\n        .forgot(vm.form)\n        .then(function (resp) {\n          console.log(resp);\n        })\n        .catch(function (resp) {\n          Notify.alert('Ops', resp);\n        });\n    }\n  }\n\n\n})();\n\n(function () {\n  'use strict';\n\n  /**\n   * @ngdoc directive\n   * @name recoveryPass\n   *\n   * @description\n   * _Please update the description and restriction._\n   *\n   * @restrict E\n   * */\n\n  angular\n    .module('app.user')\n    .directive('recoveryPass', recoveryPassDirective);\n\n  function recoveryPassDirective(User, $ionicPopup, Loading, Notify) {\n    return {\n      restrict: 'A',\n      scope: {\n        login: '@',\n        register: '@',\n      },\n      link: function ($scope, elem) {\n\n        elem.bind('click', openModal);\n\n        function openModal() {\n\n          $scope.form = {\n            recovery: ''\n          };\n\n          $scope.erro = '';\n\n          $scope.text = {\n            button: (''),\n            input: ('Email')\n          };\n\n          $ionicPopup\n            .show({\n              scope: $scope,\n              template: '<div class=\"popup-recovery\"><form name=\"form.recovery\" form-manager><label class=\"item item-input\"><i class=\"icon ion-email placeholder-icon\"></i><input type=\"email\" ng-model=\"email\" id=\"email\" name=\"email\" placeholder=\"{{ text.input }}\" required ng-maxlength=\"80\"></label><span class=\"error-msg\">{{erro}}</span></form></div>',\n              title: ('A new password will be sent to your e-mail address'),\n              buttons: [{\n                text: ('Cancel'),\n                type: 'button-calm'\n              }, {\n                text: ('Send'),\n                type: 'button-positive',\n                onTap: function (e) {\n                  if ($scope.form.recovery.$valid) {\n                    return $scope.form.recovery.email.$viewValue;\n                  } else {\n                    //não permite o usuário fechar até ele digitar o email\n                    e.preventDefault();\n                    $scope.erro = ('Invalid Email');\n                  }\n                }\n              }]\n            })\n            .then(function (res) {\n              if (!angular.isUndefined(res)) {\n                var email = res;\n\n                console.log(res);\n\n                Loading.start();\n\n                User\n                  .forgot(email)\n                  .then(function (resp) {\n                    console.log(resp);\n                    Notify.alert({\n                      login: ('Forgot your password'),\n                      text: ('Access your accout mail')\n                    });\n                    Loading.end();\n                  })\n                  .catch(function (resp) {\n                    Notify.alert({\n                      login: 'Ops',\n                      text: resp\n                    });\n                    Loading.end();\n                  });\n              }\n            });\n\n        }\n      }\n    };\n  }\n\n\n})();\n\n(function () {\n  'use strict';\n  /**\n   * @ngdoc controller\n   * @name UserSigninCtrl\n   *\n   * @description\n   * _Please update the description and dependencies._\n   *\n   * @requires $scope\n   * */\n  angular\n    .module('app.user')\n    .controller('UserSigninCtrl', UserSigninController);\n\n  function UserSigninController(AppConfig, UserForm, Loading, $state, Notify, User) {\n    var vm = this;\n    vm.formFields = UserForm.login;\n    vm.routeLogged = AppConfig.routes.home;\n    vm.submitLogin = submitLogin;\n    vm.facebook = facebook;\n\n    init();\n\n    function init() {\n      vm.form = {\n        email: '',\n        password: ''\n      };\n\n      if (window.Parse.User.current()) {\n\t//alert(JSON.stringify(window.Parse));\n\tconsole.log(\"window parse\");\n\tconsole.log(window.Parse);\n        $state.go(vm.routeLogged, {\n          clear: true\n        });\n      }\n\n    }\n\n    function submitLogin(rForm, data) {\n\n      var form = angular.copy(data);\n      if (rForm.$valid) {\n        Loading.start();\n        User\n          .login(form)\n          .then(function (data) {\n            if (data.name.length) {\n              $state.go(vm.routeLogged, {\n                clear: true\n              });\n            } else {\n              $state.go('useravatar', {\n                clear: true\n              });\n            }\n            Loading.end();\n          })\n          .catch(function (resp) {\n            Notify.alert({\n              title: 'Ops',\n              text: resp.message\n            });\n            Loading.end();\n          });\n      } else {\n        return false;\n      }\n    }\n\n    function facebook() {\n      Loading.start();\n      User\n        .facebookLogin()\n        .then(function (resp) {\n          console.log(resp);\n\n          Loading.end();\n          switch (resp.status) {\n          case 0:\n            // logado\n            $state.go(AppConfig.routes.home, {\n              clear: true\n            });\n            break;\n          case 1:\n            // novo user\n            $state.go('useravatar', {\n              clear: true\n            });\n            break;\n          case 2:\n            // merge\n            $state.go('usermerge', {\n              clear: true\n            });\n            break;\n          }\n        })\n        .catch(function () {\n          Loading.end();\n          Notify.alert({\n            title: 'Ops',\n            text: ('Facebook error')\n          });\n        });\n    }\n\n  }\n\n\n})();\n\n(function () {\n  'use strict';\n  /**\n   * @ngdoc controller\n   * @name UserSignupCtrl\n   *\n   * @description\n   * _Please update the description and dependencies._\n   *\n   * @requires $scope\n   * */\n  angular\n    .module('app.user')\n    .controller('UserSignupCtrl', UserSignupController);\n\n  function UserSignupController($state, UserForm, Notify, Loading, Photogram, User) {\n    var vm = this;\n    vm.formFields = UserForm.register;\n    vm.submitRegister = submitRegister;\n\n    init();\n\n    function init() {\n      vm.form = {\n        email: '',\n        password: ''\n      };\n    }\n\n    function submitRegister(rForm, data) {\n\n      if (rForm.$valid) {\n        Loading.start();\n        var form = angular.copy(data);\n        User\n          .register(form)\n          .then(function (resp) {\n            console.log(resp);\n            // Add Actvity History\n            Photogram\n              .addActivity({\n                action: 'registered'\n              });\n\n            // After register, login\n            User\n              .login({\n                email: form.email,\n                password: form.password\n              })\n              .then(function (data) {\n                console.log(data);\n                User.init();\n                Loading.end();\n                $state.go('useravatar', {\n                  clear: true\n                });\n              })\n              .catch(function (resp) {\n                console.log(resp);\n                Loading.end();\n                Notify.alert({\n                  title: 'Ops',\n                  text: resp.message\n                });\n              });\n          })\n          .catch(function (resp) {\n            console.log(resp);\n            Loading.end();\n            Notify.alert({\n              title: 'Ops',\n              text: resp.message\n            });\n          });\n      }\n    }\n  }\n\n\n})();\n\n(function () {\n  'use strict';\n\n  /**\n   * @ngdoc directive\n   * @name openTerms\n   *\n   * @description\n   * _Please update the description and restriction._\n   *\n   * @restrict A\n   * */\n\n  angular\n    .module('app.user')\n    .directive('openTerms', openTermsDirective);\n\n  function openTermsDirective($cordovaInAppBrowser, AppConfig) {\n    return {\n      restrict: 'A',\n      template: '',\n      link: function (scope, elem, attr) {\n\n        elem.bind('click', openModal);\n        scope.closeModal = closeModal;\n\n        function openModal() {\n          console.log(scope.ngModel);\n\n          $cordovaInAppBrowser\n            .open(AppConfig.app.url, '_blank', {\n              location: 'no',\n              clearcache: 'yes',\n              toolbar: 'yes'\n            })\n            .then(function (event) {\n              // success\n            })\n            .catch(function (event) {\n              // error\n            });\n        }\n\n        function closeModal() {\n          scope.modal.hide();\n          scope.modal.remove();\n        }\n      }\n    }\n  }\n\n})();\n\nangular.module(\"starter\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/component/ion-photo/view/modal.share.photo.html\",\"<ion-modal-view class=\\\"modal-share\\\"><ion-header-bar class=\\\"bar-dark\\\"><div class=\\\"title\\\">{{ \\'Share\\' | translate }}</div>\\n<button class=\\\"button button-positive\\\" ng-click=\\\"modal.hide()\\\"><i class=\\\"icon ion-arrow-right-b\\\"></i></button>\\n</ion-header-bar><ion-content ng-cloak><div id=\\\"image\\\"><img ng-src=\\\"{{form.photo}}\\\"><div class=\\\"title\\\">{{ form.title }}\\n</div></div><ul class=\\\"list\\\"><li class=\\\"padding\\\"><button ng-repeat=\\\"social in sociais\\\" ng-click=\\\"share(form, social)\\\" \\nclass=\\\"button button-block button-{{ social }}\\\"><i class=\\\"icon ion-social-{{ social }}\\\"></i> {{ social | uppercase }}\\n</button></li></ul></ion-content></ion-modal-view>\");\n$templateCache.put(\"app/component/ion-photo/view/photo.filter.carousel.html\",\"<div class=\\\"wide-as-needed\\\"><a ng-repeat=\\\"filter in filters\\\" ng-click=\\\"applyFilter(\\'image\\', filter)\\\"><div caman \\nimage=\\\"image\\\" name=\\\"filter\\\" filter=\\\"filter\\\" class=\\\"image\\\" loading=\\\"loading\\\" ng-class=\\\"{disabled: loading}\\\"></div>\\n<ion-spinner ng-if=\\\"loading\\\"></ion-spinner><p>{{ filter }}</p></a></div>\");\n$templateCache.put(\"app/component/ion-photo/view/photo.filter.html\",\"<div class=\\\"capture-photo\\\"><div caman filter=\\\"\\'normal\\'\\\" loading=\\\"loadingMaster\\\" class=\\\"image\\\" \\nng-class=\\\"{disabled: loadingMaster}\\\" name=\\\"\\'image\\'\\\" image=\\\"image\\\"></div><ion-spinner ng-show=\\\"loading\\\"></ion-spinner>\\n</div><photo-filter-carousel image=\\\"image\\\"></photo-filter-carousel>\");\n$templateCache.put(\"app/module/intro/view/intro.html\",\"<ion-view class=\\\"view-intro\\\" can-swipe-back=\\\"false\\\"><ion-content scroll=\\\"false\\\"><div class=\\\"intro-slider\\\">\\n<ion-slide-box active-slide=\\\"slideIndex\\\" show-pager=\\\"true\\\" on-slide-changed=\\\"vm.slideChanged($index)\\\"><ion-slide \\nng-repeat=\\\"item in vm.slides\\\"><div class=\\\"content\\\" ng-if=\\\"$index == vm.slideIndex\\\"><span class=\\\"top\\\"><h2>{{ item.top }}\\n</h2></span><div class=\\\"phone {{ vm.device }}\\\"><img ng-src=\\\"{{ item.img }}\\\"></div></div></ion-slide><ion-slide><div \\nclass=\\\"content\\\" ng-if=\\\"vm.slides.length == vm.slideIndex\\\"><div class=\\\"last\\\"><div class=\\\"logo2 step1\\\"><img \\nsrc=\\\"img/icon.png\\\"> <span class=\\\"icon2-logo\\\"></span></div><button class=\\\"button button-block button-clear step2\\\" \\nui-sref=\\\"user.signin\\\" translate=\\\"INTRO.BUTTON.ENTER\\\"></button></div></div></ion-slide></ion-slide-box></div><button \\nclass=\\\"button button-positive button-fab left\\\" ng-if=\\\"vm.slideIndex\\\" ng-click=\\\"vm.previous()\\\"><i \\nclass=\\\"icon ion-ios-arrow-left\\\"></i></button> <button class=\\\"button button-positive button-fab right\\\" \\nng-hide=\\\"vm.slideIndex === vm.slides.length\\\" ng-click=\\\"vm.next()\\\"><i class=\\\"icon ion-ios-arrow-right\\\"></i></button>\\n</ion-content></ion-view>\");\n$templateCache.put(\"app/module/loading/view/loading.html\",\"<ion-view class=\\\"view-loading\\\"><ion-content scroll=\\\"false\\\"><img src=\\\"img/icon.png\\\"></ion-content></ion-view>\");\n$templateCache.put(\"app/module/photogram/view/photogram.tabs.html\",\"<ion-view><ion-nav-bar class=\\\"bar bar-positive bar-mop\\\" align-title=\\\"left\\\"><ion-nav-back-button></ion-nav-back-button>\\n</ion-nav-bar><ion-tabs class=\\\"tabs-dark tabs-photogram\\\"><ion-tab title=\\\"{{\\'PHOTOGRAM.TITLE.HOME\\' | translate }}\\\" \\nicon=\\\"ion-android-home\\\" ui-sref=\\\"photogram.home\\\"><ion-nav-view name=\\\"tabHome\\\"></ion-nav-view></ion-tab><ion-tab \\ntitle=\\\"{{\\'PHOTOGRAM.TITLE.SEARCH\\' | translate }}\\\" icon=\\\"ion-search\\\" ui-sref=\\\"photogram.search.grid\\\"><ion-nav-view \\nname=\\\"tabSearch\\\"></ion-nav-view></ion-tab><ion-tab title=\\\"{{\\'PHOTOGRAM.TITLE.SHARE\\' | translate }}\\\" icon=\\\"ion-camera\\\" \\nclass=\\\"middle\\\" ng-click=\\\"vm.postPhoto()\\\"><ion-nav-view name=\\\"tabCapture\\\"></ion-nav-view></ion-tab><ion-tab \\ntitle=\\\"{{\\'PHOTOGRAM.TITLE.ACTIVITY\\' | translate }}\\\" icon=\\\"ion-chatbubble\\\" ui-sref=\\\"photogram.activity\\\"><ion-nav-view \\nname=\\\"tabActivity\\\"></ion-nav-view></ion-tab><ion-tab title=\\\"{{\\'PHOTOGRAM.TITLE.PROFILE\\' | translate }}\\\" \\nicon=\\\"ion-person\\\" ui-sref=\\\"photogram.account\\\"><ion-nav-view name=\\\"tabProfile\\\"></ion-nav-view></ion-tab></ion-tabs>\\n</ion-view>\");\n$templateCache.put(\"app/module/photogram/view/photogram.view.html\",\"<ion-view view-title=\\\"{{ \\'Gallery preview\\' | translate }}\\\"><ion-content class=\\\"bg-content\\\"><ion-list class=\\\"card\\\" \\nng-if=\\\"!GalleryPreview.data.images.length\\\"><ion-item class=\\\"text-center\\\">No photos</ion-item></ion-list><div \\nclass=\\\"row\\\"><div class=\\\"col\\\" ng-repeat=\\\"picture in GalleryPreview.data.images\\\" \\nui-sref=\\\"app.gallerypreview({id: picture.id})\\\"><div class=\\\"card\\\"><div class=\\\"item item-image\\\"><img \\nng-src=\\\"{{picture.image._url}}\\\"></div></div></div></div></ion-content></ion-view>\");\n$templateCache.put(\"app/module/user/view/user.tabs.html\",\"<ion-view class=\\\"view-login\\\" view-title=\\\"{{ \\'USER.BUTTON.SIGNIN\\' | translate }}\\\"><ion-content padding=\\\"false\\\" \\nscroll=\\\"false\\\"><div class=\\\"user-head padding text-center step1\\\"><div class=\\\"logo2\\\"><img src=\\\"img/icon.png\\\"> <span \\nclass=\\\"icon2-logo\\\"></span></div><h2 class=\\\"step2\\\" translate=\\\"USER.INTRO\\\"></h2><ion-tabs class=\\\"tabs-positive tabs-top\\\">\\n<ion-tab title=\\\"{{ \\'USER.BUTTON.SIGNIN\\' | translate }}\\\" ui-sref=\\\"user.signin\\\"></ion-tab><ion-tab \\ntitle=\\\"{{ \\'USER.BUTTON.SIGNUP\\' | translate }}\\\" ui-sref=\\\"user.signup\\\"></ion-tab></ion-tabs></div><ion-nav-view \\nclass=\\\"step3\\\" name=\\\"tabLogin\\\"></ion-nav-view></ion-content></ion-view>\");\n$templateCache.put(\"app/module/photogram/directives/comment/photogram.comment.directive.html\",\"<ion-modal-view class=\\\"modal-comment\\\"><ion-header-bar class=\\\"bar-dark\\\"><button \\nclass=\\\"button button-clear button-icon ion-ios-arrow-thin-left\\\" ng-click=\\\"closeModal()\\\"></button><div class=\\\"title\\\">\\n<span translate=\\\"PHOTOGRAM.COMMENT.TITLE\\\"></span>({{ comments.length }})</div></ion-header-bar><ion-content>\\n<photogram-loading loading=\\\"loading\\\" icon=\\\"android\\\"></photogram-loading><ion-list class=\\\"list\\\" \\nng-show=\\\"comments.length\\\" can-swipe=\\\"true\\\"><ion-item ng-repeat=\\\"item in comments\\\" class=\\\"item item-avatar\\\"><img \\nng-src=\\\"{{ item.user.src }}\\\"><div class=\\\"row\\\"><h2>{{ item.user.name }}</h2><div>{{ item.text }}</div></div><div \\nclass=\\\"row\\\"><p>{{ item.created | amTimeAgo }}</p></div><div ng-if=\\\"item.user.id === currentUser.id\\\"><ion-option-button \\nclass=\\\"button-info\\\" ng-click=\\\"editComment(item)\\\" translate=\\\"PHOTOGRAM.BUTTON.EDIT\\\">Edit</ion-option-button>\\n<ion-option-button class=\\\"button-assertive\\\" ng-click=\\\"deleteComment(item)\\\" translate=\\\"PHOTOGRAM.BUTTON.REMOVE\\\">Remove\\n</ion-option-button></div></ion-item></ion-list><div class=\\\"center-ico\\\" ng-if=\\\"nocomments\\\"><i \\nclass=\\\"icon ion-ios-chatbubble-outline\\\"></i><h1 translate=\\\"PHOTOGRAM.COMMENT.NO_COMMENTS\\\">No Comments</h1></div>\\n</ion-content><ion-footer class=\\\"step2\\\"><div class=\\\"form\\\"><formly-form model=\\\"form\\\" fields=\\\"formFields\\\" form=\\\"rForm\\\">\\n<button class=\\\"button button-positive\\\" type=\\\"button\\\" ng-click=\\\"submitComment(rForm, form)\\\"><i \\nclass=\\\"icon ion-arrow-right-b\\\"></i></button></formly-form></div></ion-footer></ion-modal-view>\");\n$templateCache.put(\"app/module/photogram/directives/follow/photogram.follow.modal.html\",\"<ion-modal-view class=\\\"modal-profile photogram-profile\\\"><ion-header-bar class=\\\"bar-positive\\\"><button \\nclass=\\\"button button-clear button-icon ion-ios-arrow-thin-left\\\" ng-click=\\\"closeModal()\\\"></button><div class=\\\"title\\\">\\nFollow Users</div></ion-header-bar><ion-content><div class=\\\"list\\\"><div class=\\\"item item-avatar item-button-right\\\" \\nng-repeat=\\\"item in data\\\"><img ng-src=\\\"{{ item.src }}\\\"><h2>{{ item.name }}</h2><p>{{ item.status }}</p><button \\nclass=\\\"button\\\" ng-click=\\\"item.follow = !item.follow\\\" ng-class=\\\"item.follow ? \\'button-positive\\' : \\'button-stable\\'\\\"><i \\nclass=\\\"icon\\\" ng-class=\\\"item.follow? \\'ion-thumbsup\\' : \\'ion-plus\\'\\\"></i></button></div></div></ion-content>\\n</ion-modal-view>\");\n$templateCache.put(\"app/module/photogram/directives/like/photogram.like.directive.html\",\"<ion-modal-view class=\\\"modal-comment\\\"><ion-header-bar class=\\\"bar-dark\\\"><button \\nclass=\\\"button button-clear button-icon ion-ios-arrow-thin-left\\\" ng-click=\\\"closeModal()\\\"></button><div class=\\\"title\\\">\\n{{ \\'Likes\\' | translate }} ({{ likes.length }})</div></ion-header-bar><ion-content><div class=\\\"list step1\\\"><div \\nng-repeat=\\\"item in likes\\\" class=\\\"item item-avatar item-button-right\\\"><img ng-src=\\\"{{ item.user.img }}\\\"><h2>\\n{{ item.user.name }}</h2><div>{{ item.text }}</div><p>{{ item.created | amTimeAgo }}</p><button \\nclass=\\\"button button-positive button-outline\\\"><i class=\\\"icon ion-ios-plus-empty\\\"></i> {{ \\'Follow\\' }}</button></div>\\n</div></ion-content></ion-modal-view>\");\n$templateCache.put(\"app/module/photogram/directives/photogrid/photogram.photos.grid.html\",\"<div class=\\\"row\\\" ng-if=\\\"$index % 3 === 0\\\" ng-repeat=\\\"image in data\\\"><div class=\\\"col col-33 item-animate1\\\" \\nng-if=\\\"$index < data.length\\\"><img ng-if=\\\"profile\\\" profile-modal user=\\\"data[$index].user\\\" ng-src=\\\"{{data[$index].src}}\\\" \\nwidth=\\\"100%\\\"> <img ng-if=\\\"!profile\\\" ng-src=\\\"{{data[$index].src}}\\\" width=\\\"100%\\\"></div><div \\nclass=\\\"col col-33 item-animate1\\\" ng-if=\\\"$index + 1 < data.length\\\"><img ng-if=\\\"profile\\\" profile-modal \\nuser=\\\"data[$index + 1].user\\\" ng-src=\\\"{{data[$index + 1].src}}\\\" width=\\\"100%\\\"> <img ng-if=\\\"!profile\\\" \\nng-src=\\\"{{data[$index + 1].src}}\\\" width=\\\"100%\\\"></div><div class=\\\"col col-33 item-animate1\\\" \\nng-if=\\\"$index + 2 < data.length\\\"><img ng-if=\\\"profile\\\" profile-modal user=\\\"data[$index + 2].user\\\" \\nng-src=\\\"{{data[$index + 2].src}}\\\" width=\\\"100%\\\"> <img ng-if=\\\"!profile\\\" ng-src=\\\"{{data[$index + 2].src}}\\\" width=\\\"100%\\\">\\n</div></div>\");\n$templateCache.put(\"app/module/photogram/directives/settings/photogram.settings.modal.html\",\"<ion-modal-view class=\\\"modal-profile\\\"><ion-header-bar class=\\\"bar-dark\\\"><button \\nclass=\\\"button button-clear button-icon ion-ios-arrow-thin-left\\\" ng-click=\\\"closeModal()\\\"></button><div class=\\\"title\\\" \\ntranslate=\\\"PHOTOGRAM.SETTING.TITLE\\\"></div></ion-header-bar><ion-content class=\\\"animated fadeIn\\\"><div class=\\\"list\\\">\\n<label class=\\\"item item-input item-select\\\"><div class=\\\"input-label\\\" style=\\\"z-index: 2\\\"><h2 \\ntranslate=\\\"PHOTOGRAM.BUTTON.CHANGE_LANGUAGE\\\"></h2></div><select ng-model=\\\"language\\\" \\nng-change=\\\"changeLanguage(language)\\\"><option ng-repeat=\\\"item in languages\\\" value=\\\"{{item.code}}\\\" \\ntranslate=\\\"{{item.translation}}\\\"></option></select></label><ion-toggle class=\\\"toggle-positive\\\" ng-model=\\\"form.push\\\">\\n<h3><small translate=\\\"PHOTOGRAM.SETTING.NOTIFICATION\\\"></small></h3><p ng-if=\\\"!setting_preview\\\" \\ntranslate=\\\"PHOTOGRAM.BUTTON.OFF\\\"></p><p ng-if=\\\"setting_preview\\\" translate=\\\"PHOTOGRAM.BUTTON.ON\\\"></p></ion-toggle>\\n<ion-item class=\\\"item-icon-right\\\" \\nng-click=\\\"openLink(\\'https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=FAW4JZS7KJM5S\\')\\\"><h3><small \\ntranslate=\\\"PHOTOGRAM.BUTTON.BUY\\\"></small></h3><i class=\\\"icon ion-ios-arrow-right\\\"></i></ion-item><ion-item \\nclass=\\\"item-icon-right\\\" ng-click=\\\"openLink(\\'http://photogramapp.com\\')\\\"><h3><small translate=\\\"PHOTOGRAM.BUTTON.HELP\\\">\\n</small></h3><i class=\\\"icon ion-ios-arrow-right\\\"></i></ion-item><ion-item class=\\\"item-icon-right\\\" \\nng-click=\\\"openLink(\\'http://photogramapp.com\\')\\\"><h3><small translate=\\\"PHOTOGRAM.BUTTON.TERM_PRIVACY\\\"></small></h3><i \\nclass=\\\"icon ion-ios-arrow-right\\\"></i></ion-item><ion-item class=\\\"item-icon-right\\\" \\nng-click=\\\"openLink(\\'http://photogramapp.com\\')\\\"><h3><small translate=\\\"PHOTOGRAM.BUTTON.TERM_SERVICE\\\">Terms of Service\\n</small></h3><i class=\\\"icon ion-ios-arrow-right\\\"></i></ion-item><ion-item class=\\\"item-icon-right\\\" ng-click=\\\"show();\\\">\\n<h3><small translate=\\\"PHOTOGRAM.BUTTON.REPORT\\\">Report a Problem</small></h3><i class=\\\"icon ion-ios-arrow-right\\\"></i>\\n</ion-item></div><div class=\\\"padding\\\"><button ng-click=\\\"link(\\'logout\\')\\\" class=\\\"button button-block button-positive\\\" \\ntranslat=\\\"USER.BUTTON.LOGOUT\\\">Logout</button></div></ion-content></ion-modal-view>\");\n$templateCache.put(\"app/module/photogram/directives/photolist/view/photo.list.html\",\"<div class=\\\"list card animated fadeIn\\\" ng-repeat=\\\"gallery in data \\\"><div class=\\\"item item-avatar\\\" ion-affix \\ndata-affix-within-parent-with-class=\\\"card\\\" profile-modal user=\\\"gallery.user\\\"><img ng-if=\\\"profile\\\" \\nprofile=\\\"{{gallery.user.id }}\\\" ng-src=\\\"{{gallery.user.src}}\\\"> <img ng-src=\\\"{{gallery.user.src}}\\\"><h2>\\n{{gallery.user.name}}</h2><p>{{ gallery.user.status }}</p><span>{{gallery.created | amTimeAgo}}</span></div><div \\nclass=\\\"item item-body\\\" on-double-tap=\\\"vm.like(gallery)\\\" ng-model=\\\"gallery\\\"><div class=\\\"icon ion-ios-heart heart\\\" \\nng-class=\\\"(gallery.item.liked) ? \\'happy\\' : \\'broken\\' \\\"></div><i class=\\\"icon\\\" ng-if=\\\"like\\\"></i> <img \\ncache-src=\\\"{{gallery.src}}\\\" id=\\\"{{gallery.id}}\\\"></div><div class=\\\"item item-buttons\\\"><div class=\\\"row\\\"><div \\nclass=\\\"col col-75\\\"><ion-spinner ng-show=\\\"gallery.item.likeProgress\\\"></ion-spinner><button photogram-like \\nng-model=\\\"gallery\\\" ng-if=\\\"!gallery.item.likeProgress\\\" \\nng-class=\\\"(gallery.item.liked) ? \\'ion-ios-heart\\' : \\'ion-ios-heart-outline\\' \\\" \\nclass=\\\"button-clear button-icon button-heart\\\"></button> <button photogram-comment ng-model=\\\"gallery\\\" \\nclass=\\\"button-clear button-icon ion-ios-chatbubble-outline\\\"></button> <button ng-click=\\\"vm.action(gallery)\\\" \\nphotogram=\\\"{{ gallery.id }}\\\" class=\\\"button-clear button-icon ion-android-share\\\"></button></div><div \\nclass=\\\"col text-right\\\"><button ng-click=\\\"vm.action(gallery)\\\" photogram=\\\"{{ gallery.id }}\\\" \\nclass=\\\"button-clear button-icon ion-android-more-vertical\\\"></button></div></div></div><div class=\\\"padding\\\"><span \\nclass=\\\"likes\\\" photogram-like photogram=\\\"{{ gallery }}\\\"><i class=\\\"icon ion-ios-heart\\\"></i> <span \\nng-if=\\\"!gallery.item.likeProgress\\\">{{ gallery.item.qtdLike }}</span> <span translate=\\\"PHOTOGRAM.LIKES\\\"></span></span>\\n<div class=\\\"list-comments\\\"><div class=\\\"comment-item\\\" profile-modal user=\\\"gallery.user\\\"><span class=\\\"username\\\">\\n{{ gallery.user.name }}</span> <span class=\\\"comment\\\">{{ gallery.item.title }}</span></div><div class=\\\"comment-item\\\" \\nprofile-modal user=\\\"item.user\\\" ng-repeat=\\\"item in gallery.comments\\\"><span class=\\\"username\\\">{{ item.user.name }}</span> \\n<span class=\\\"comment\\\">{{ item.text }}</span></div></div><button \\nclass=\\\"button button-block button-clear button-comment\\\" photogram-comment ng-model=\\\"gallery\\\"><span \\ntranslate=\\\"PHOTOGRAM.BUTTON.COMMENT_ADD\\\"></span></button></div></div>\");\n$templateCache.put(\"app/module/photogram/module/activity/view/photogram.activity.html\",\"<ion-view cache-view=\\\"false\\\" class=\\\"photogram-activity\\\"><ion-nav-title><h1 class=\\\"title\\\" translate=\\\"ACTIVITY.TITLE\\\">\\n</h1></ion-nav-title><ion-content><photogram-loading loading=\\\"vm.loading\\\" icon=\\\"android\\\"></photogram-loading><div \\nclass=\\\"list\\\"><div class=\\\"item item-avatar item-animate1\\\" ng-repeat=\\\"item in vm.data\\\"><img ng-src=\\\"{{ item.user.src }}\\\">\\n<h2>{{ item.user.name }}</h2><div class=\\\"text\\\">{{ item.action | translate }}</div><p>{{ item.created | amTimeAgo }}</p>\\n<div class=\\\"img-right\\\" ng-if=\\\"item.img\\\"><img ng-src=\\\"{{ item.img }}\\\"></div></div></div><ion-infinite-scroll \\nng-if=\\\"!vm.loading && !vm.empty\\\" on-infinite=\\\"vm.load()\\\"></ion-infinite-scroll></ion-content></ion-view>\");\n$templateCache.put(\"app/module/photogram/module/direct/view/direct.home.html\",\"<ion-view><ion-nav-title translate=\\\"DIRECT.TITLE\\\"></ion-nav-title><ion-nav-buttons side=\\\"right\\\"><button \\nclass=\\\"button button-icon ion-ios-plus-empty\\\" ui-sref=\\\"photogram.direct\\\"></button></ion-nav-buttons><ion-content>\\n<ion-list><ion-item class=\\\"item-avatar\\\" ng-repeat=\\\"item in vm.data\\\" ui-sref=\\\"photogram.message({channelId: item.id})\\\">\\n<img ng-src=\\\"{{item.user.src}}\\\" alt=\\\"\\\"><h2>{{ item.user.name}}</h2><p>{{ item.msg }}</p></ion-item></ion-list>\\n</ion-content></ion-view>\");\n$templateCache.put(\"app/module/photogram/module/direct/view/direct.messages.html\",\"<ion-view id=\\\"userMessagesView\\\" cache-view=\\\"false\\\" view-title=\\\"Messages\\\"><div class=\\\"loader-center\\\" \\nng-if=\\\"!vm.doneLoading\\\"><div class=\\\"loader\\\"><i class=\\\"icon ion-loading-c\\\"></i></div></div><ion-content \\nhas-bouncing=\\\"true\\\" class=\\\"has-header has-footer\\\" delegate-handle=\\\"userMessageScroll\\\"><ion-refresher \\npulling-text=\\\"{{\\'DIRECT.BUTTON.PULL\\' | TRANSLATE}}\\\" on-refresh=\\\"vm.doRefresh()\\\"></ion-refresher><div \\nng-repeat=\\\"message in vm.data.messages\\\" class=\\\"message-wrapper\\\" on-hold=\\\"onMessageHold($event, $index, message)\\\"><div \\nng-if=\\\"vm.user.id === message.user.id\\\"><img class=\\\"profile-pic right\\\" ng-src=\\\"{{message.user.src}}\\\"><div \\nclass=\\\"chat-bubble right\\\"><div class=\\\"message\\\" ng-bind-html=\\\"message.body | nl2br\\\" autolinker></div><div \\nclass=\\\"message-detail\\\"><span class=\\\"bold\\\">{{message.user.name}}</span>, <span am-time-ago=\\\"message.date\\\"></span></div>\\n</div></div><div ng-if=\\\"vm.user.id !== message.user.id\\\"><img class=\\\"profile-pic left\\\" ng-src=\\\"{{message.user.src}}\\\">\\n<div class=\\\"chat-bubble left\\\"><div class=\\\"message\\\" ng-bind-html=\\\"message.body | nl2br\\\" autolinker></div><div \\nclass=\\\"message-detail\\\"><span class=\\\"bold\\\">{{message.user.name}}</span>, <span am-time-ago=\\\"message.date\\\"></span></div>\\n</div></div><div class=\\\"cf\\\"></div></div></ion-content><form name=\\\"sendMessageForm\\\" \\nng-submit=\\\"vm.sendMessage(sendMessageForm, vm.model)\\\" novalidate><ion-footer-bar \\nclass=\\\"bar-stable item-input-inset message-footer\\\" keyboard-attach><label class=\\\"item-input-wrapper\\\"><textarea \\nng-model=\\\"vm.model.text\\\" placeholder=\\\"{{ \\'DIRECT.FORM.PLACEHOLDER\\' | TRANSLATE}}\\\" required minlength=\\\"1\\\" \\nmaxlength=\\\"1500\\\" msd-elastic></textarea></label><div class=\\\"footer-btn-wrap\\\"><button \\nclass=\\\"button button-icon icon ion-android-send footer-btn\\\" type=\\\"submit\\\"></button></div></ion-footer-bar></form>\\n</ion-view>\");\n$templateCache.put(\"app/module/photogram/module/feedback/view/photogram.photo.feedback.modal.html\",\"<ion-modal-view class=\\\"modal-profile\\\"><ion-header-bar class=\\\"bar-dark\\\"><button \\nclass=\\\"button button-clear button-icon ion-ios-arrow-thin-left\\\" ng-click=\\\"closeModal()\\\"></button><div class=\\\"title\\\" \\ntranslate=\\\"FEEDBACK.TITLE\\\"></div><button class=\\\"button button-positive\\\" ng-click=\\\"submitFeedback()\\\"><i \\nclass=\\\"icon ion-arrow-right-b\\\"></i></button></ion-header-bar><ion-content><formly-form model=\\\"form\\\" form=\\\"rForm\\\" \\nfields=\\\"formFields\\\"></formly-form></ion-content></ion-modal-view>\");\n$templateCache.put(\"app/module/photogram/module/home/view/home.html\",\"<ion-view class=\\\"view-home\\\"><ion-nav-title><span class=\\\"icon2-logo\\\"></span></ion-nav-title><ion-nav-buttons \\nside=\\\"right\\\"><button class=\\\"button button-icon ion-ios-filing\\\" ui-sref=\\\"photogram.direct\\\"></button></ion-nav-buttons>\\n<ion-content><ion-refresher ng-if=\\\"!vm.loading\\\" on-refresh=\\\"loadMore(true)\\\"></ion-refresher><photogram-loading \\nloading=\\\"vm.loading\\\"></photogram-loading><photogram-photo-list profile=\\\"true\\\" photogram=\\\"vm.data\\\" loading=\\\"vm.loading\\\">\\n</photogram-photo-list><div class=\\\"center-ico\\\" ng-if=\\\"vm.empty\\\"><i class=\\\"icon ion-ios-camera\\\"></i><h1 \\ntranslate=\\\"HOME.TITLE.NO_PHOTO\\\"></h1></div><ion-infinite-scroll ng-if=\\\"!vm.loading && !vm.empty\\\" \\non-infinite=\\\"vm.loadMore()\\\"></ion-infinite-scroll></ion-content></ion-view>\");\n$templateCache.put(\"app/module/photogram/module/photo/view/photogram.photo.html\",\"<ion-view view-title=\\\"Photo\\\"><ion-content><div class=\\\"list card step1\\\"><div class=\\\"item item-avatar\\\" \\ndata-affix-within-parent-with-class=\\\"card\\\" ion-affix><img ng-src=\\\"{{vm.data.user.img}}\\\"><h2>{{vm.data.user.name}}</h2>\\n<span>{{vm.data.created | amTimeAgo}}</span></div><div class=\\\"item item-body\\\"><img ng-src=\\\"{{vm.data.img._url}}\\\" \\nstyle=\\\"width: 100%\\\"></div><div class=\\\"padding\\\"><p>{{ vm.data.title }}</p><p><a class=\\\"subdued\\\" href=\\\"#\\\">\\n1 {{ \\'Like\\' | translate}}</a></p></div></div><div class=\\\"list\\\"><div ng-repeat=\\\"item in vm.comments\\\" \\nclass=\\\"item item-avatar\\\"><img ng-src=\\\"{{ item.user.img }}\\\"><h2>{{ item.user.name }}</h2><p>{{ item.text }}</p></div>\\n</div><div class=\\\"step2\\\"><formly-form model=\\\"vm.form\\\" fields=\\\"vm.formFields\\\" form=\\\"rForm\\\"><div class=\\\"padding\\\"><button \\nclass=\\\"button button-block button-positive\\\" type=\\\"button\\\" ng-click=\\\"vm.submitComment(rForm, vm.form)\\\" translate>Comment\\n</button></div></formly-form></div></ion-content></ion-view>\");\n$templateCache.put(\"app/module/photogram/module/photo/view/photogram.popover.home.html\",\"<ion-popover-view><ion-content><div class=\\\"list\\\"><div class=\\\"item\\\" ui-sref=\\\"gallery.settings\\\" translate>Settings</div>\\n<div class=\\\"item\\\" ui-sref=\\\"gallery.settings\\\" translate>About</div></div></ion-content></ion-popover-view>\");\n$templateCache.put(\"app/module/photogram/module/search/view/photo.modal.html\",\"<ion-modal-view class=\\\"modal-profile photogram-profile\\\"><ion-header-bar class=\\\"bar-positive\\\"><button \\nclass=\\\"button button-clear button-icon ion-ios-arrow-thin-left\\\" ng-click=\\\"closeModal()\\\"></button><div class=\\\"title\\\">\\n{{ user.name }}</div></ion-header-bar><ion-content overflow-scroll=\\\"true\\\"><div class=\\\"profile-top\\\"><div class=\\\"row\\\">\\n<div class=\\\"col-25\\\"><img class=\\\"avatar\\\" ng-src=\\\"{{ user.src }}\\\"></div><div class=\\\"col col-statics\\\"><div class=\\\"row\\\">\\n<div class=\\\"col\\\"><photogram-loading loading=\\\"loadingPhotos\\\"></photogram-loading><span ng-if=\\\"!loadingPhotos\\\" \\nclass=\\\"text-center\\\">{{ user.qtdPhotos }}</span><h3 translate=\\\"PHOTOGRAM.PROFILE.TITLE.POST\\\">Posts</h3></div><div \\nclass=\\\"col\\\"><photogram-loading loading=\\\"loadingFollowers\\\"></photogram-loading><span ng-if=\\\"!loadingFollowers\\\" \\nclass=\\\"text-center\\\">{{ user.qtdFollowers }}</span><h3 translate=\\\"PHOTOGRAM.PROFILE.TITLE.FOLLOWER\\\"></h3></div><div \\nclass=\\\"col\\\"><photogram-loading loading=\\\"loadingFollowing\\\"></photogram-loading><span ng-if=\\\"!loadingFollowing\\\" \\nclass=\\\"text-center\\\">{{ user.qtdFollowing }}</span><h3 translate=\\\"PHOTOGRAM.PROFILE.TITLE.FOLLOWING\\\">Followings</h3>\\n</div></div><div class=\\\"row col-edit\\\"><div class=\\\"col\\\"><photogram-loading loading=\\\"loadingFollow\\\"></photogram-loading>\\n<button ng-if=\\\"!loadingFollow\\\" ng-class=\\\"{\\'button-unfollow\\': user.follow, \\'button-follow\\': !user.follow}\\\" \\nng-click=\\\"follow()\\\" class=\\\"button\\\"><span ng-show=\\\"!user.follow\\\" translate>Follow</span> <span ng-show=\\\"user.follow\\\" \\ntranslate>Following</span></button></div></div></div></div><div class=\\\"padding\\\"><span class=\\\"user-username\\\">\\n{{ user.name }}</span><p class=\\\"user-status\\\">{{ user.status }}</p></div></div></ion-content></ion-modal-view>\");\n$templateCache.put(\"app/module/photogram/module/search/view/photogram.search.grid.html\",\"<ion-view cache-view=\\\"false\\\"><ion-nav-title><ion-search class=\\\"search-wrapper-light\\\" \\nplaceholder=\\\"{{ \\'SEARCH.FORM.INPUT\\' | translate }}\\\" min-length=\\\"1\\\" model=\\\"GallerySearchGrid.data\\\" \\nsource=\\\"GallerySearchGrid.load\\\"></ion-search></ion-nav-title><ion-content class=\\\"photogram-search\\\"><ion-refresher \\nng-if=\\\"!vm.loading\\\" on-refresh=\\\"loadMore(true)\\\"></ion-refresher><photogram-loading loading=\\\"vm.loading\\\">\\n</photogram-loading><photogram-photo-grid profile=\\\"true\\\" photogram=\\\"vm.data\\\" loading=\\\"vm.loading\\\">\\n</photogram-photo-grid><div class=\\\"center-ico\\\" ng-if=\\\"vm.empty\\\"><i class=\\\"icon ion-ios-camera\\\"></i></div>\\n<ion-infinite-scroll ng-if=\\\"!vm.loading && !vm.empty\\\" on-infinite=\\\"vm.loadMore()\\\"></ion-infinite-scroll></ion-content>\\n</ion-view>\");\n$templateCache.put(\"app/module/photogram/module/search/view/photogram.search.map.html\",\"<ion-view class=\\\"maps-view\\\"><ion-nav-title translate=\\\"SEARCH.TITLE_MAP\\\"></ion-nav-title><ion-nav-buttons side=\\\"right\\\">\\n<button ng-click=\\\"vm.location()\\\" class=\\\"button button-icon icon ion-pinpoint\\\"></button></ion-nav-buttons><ion-content \\nscroll=\\\"false\\\"><div class=\\\"map-container\\\"><ui-gmap-google-map center=\\\"map.center\\\" zoom=\\\"map.zoom\\\"><ui-gmap-marker \\nidkey=\\\"0\\\" coords=\\\"vm.user\\\"></ui-gmap-marker><ui-gmap-marker click=\\\"vm.openModal(item)\\\" idkey=\\\"item.id\\\" \\ncoords=\\\"item.coords\\\" icon=\\\"item.icon\\\" ng-repeat=\\\"item in vm.data\\\"></ui-gmap-marker></ui-gmap-google-map></div>\\n</ion-content></ion-view>\");\n$templateCache.put(\"app/module/photogram/module/search/view/photogram.search.tabs.html\",\"<ion-view title=\\\"Search\\\" class=\\\"view-tab\\\"><ion-nav-title><h1 class=\\\"title\\\" translate=\\\"SEARCH.TITLE\\\"></h1>\\n</ion-nav-title><ion-tabs class=\\\"tabs-top tabs-positive tabs-striped\\\"><ion-tab \\ntitle=\\\"{{\\'SEARCH.TITLE_LIST\\' | translate}}\\\" icon=\\\"ion-grid\\\" ui-sref=\\\"photogram.search.grid\\\"><ion-nav-view \\nname=\\\"tabGrid\\\"></ion-nav-view></ion-tab><ion-tab title=\\\"{{\\'SEARCH.TITLE_MAP\\' | translate }}\\\" icon=\\\"ion-map\\\" \\nui-sref=\\\"photogram.search.map\\\"><ion-nav-view name=\\\"tabMap\\\"></ion-nav-view></ion-tab></ion-tabs></ion-view>\");\n$templateCache.put(\"app/module/photogram/module/share/view/photogram.post.modal.html\",\"<ion-modal-view class=\\\"modal-post\\\"><ion-header-bar class=\\\"bar-dark\\\"><button \\nclass=\\\"button button-clear button-icon ion-ios-arrow-thin-left\\\" ng-click=\\\"closePost()\\\"></button><div class=\\\"title\\\" \\ntranslate=\\\"SHARE.TITLE\\\"></div><button class=\\\"button button-positive\\\" ng-click=\\\"submitPost(form)\\\"><i \\nclass=\\\"icon ion-arrow-right-b\\\"></i></button></ion-header-bar><ion-content><div id=\\\"image\\\"><img ng-src=\\\"{{form.photo}}\\\">\\n</div><ul class=\\\"list\\\"><li class=\\\"item\\\"><textarea type=\\\"text\\\" ng-model=\\\"form.title\\\" autofocus \\nplaceholder=\\\"{{ \\'SHARE.FORM.LEGEND\\' | translate }}\\\"></textarea></li><li class=\\\"item item-input\\\" \\nng-show=\\\"form.geo.image\\\"><input type=\\\"text\\\" placeholder=\\\"{{ \\'SHARE.FORM.LOCATION\\' | translate }}\\\" ion-location \\nlocation=\\\"form.geo\\\" ng-model=\\\"form.geo.resume\\\"></li><li class=\\\"item nopadding\\\" ng-show=\\\"form.geo.image\\\"><img \\nng-src=\\\"{{ form.geo.image }}\\\"></li></ul></ion-content></ion-modal-view>\");\n$templateCache.put(\"app/module/photogram/module/share/view/photogram.share.modal.html\",\"<ion-modal-view class=\\\"modal-share\\\"><ion-header-bar class=\\\"bar-dark\\\"><button \\nclass=\\\"button button-clear button-icon ion-ios-arrow-thin-left\\\" ng-click=\\\"closeShare()\\\"></button><div class=\\\"title\\\" \\ntranslate=\\\"SHARE.TITLE\\\"></div><button class=\\\"button button-positive\\\" ng-click=\\\"submitShare(form, social)\\\"><i \\nclass=\\\"icon ion-arrow-right-b\\\"></i></button></ion-header-bar><ion-content><div class=\\\"list\\\"><div \\nclass=\\\"item item-thumbnail-left\\\" href=\\\"#\\\"><img ng-src=\\\"{{form.photo}}\\\" id=\\\"image\\\"><textarea type=\\\"text\\\" \\nng-model=\\\"form.title\\\" placeholder=\\\"{{ \\'SHARE.FORM.LEGEND\\'|translate }}\\\"></textarea></div></div><ul class=\\\"list\\\"><li \\nclass=\\\"item item-input\\\"><input type=\\\"text\\\" placeholder=\\\"{{ \\'SHARE.FORM.LOCATION\\' | translate }}\\\" ion-location \\nlocation=\\\"form.geo\\\" ng-model=\\\"form.geo.resume\\\"></li><div class=\\\"item nopadding\\\" ng-show=\\\"form.geo.image\\\"><img \\nng-src=\\\"{{ form.geo.image }}\\\"></div></ul><ul class=\\\"list\\\"><li class=\\\"item item-divider\\\" \\ntranslate=\\\"SHARE.FORM.SHARE_IN\\\"></li><li class=\\\"item item-icon-left item-toggle\\\" ng-repeat=\\\"social in socials\\\"><i \\nclass=\\\"icon ion-social-{{ social.title | lowercase }}\\\"></i> {{ social.title }}<label class=\\\"toggle toggle-positive\\\">\\n<input type=\\\"checkbox\\\" ng-model=\\\"social.checked\\\"><div class=\\\"track\\\"><div class=\\\"handle\\\"></div></div></label></li></ul>\\n</ion-content></ion-modal-view>\");\n$templateCache.put(\"app/module/user/module/friend/view/user.list.html\",\"<ion-view view-title=\\\"UserList\\\" class=\\\"photogram-userlist\\\"><ion-header-bar class=\\\"bar-dark\\\"><h1 class=\\\"title\\\">\\n{{ \\'Follow Users\\' | translate }}</h1><div class=\\\"buttons\\\"><button class=\\\"button button-positive\\\" \\nng-click=\\\"vm.submitFollow()\\\"><i class=\\\"icon ion-arrow-right-b\\\"></i></button></div></ion-header-bar><ion-content><div \\nclass=\\\"list\\\"><div class=\\\"item item-avatar item-animate1 item-button-right\\\" ng-repeat=\\\"item in vm.data\\\"><img \\nng-src=\\\"{{ item.src }}\\\"><h2>{{ item.name }}</h2><p>{{ item.status }}</p><button class=\\\"button\\\" \\nng-click=\\\"item.follow = !item.follow\\\" ng-class=\\\"item.follow ? \\'button-positive\\' : \\'button-stable\\'\\\"><i class=\\\"icon\\\" \\nng-class=\\\"item.follow? \\'ion-thumbsup\\' : \\'ion-plus\\'\\\"></i></button></div></div></ion-content></ion-view>\");\n$templateCache.put(\"app/module/user/module/avatar/view/user.avatar.html\",\"<ion-view title=\\\"{{ \\'AVATAR.TITLE\\' | translate }}\\\"><ion-nav-bar class=\\\"bar bar-positive bar-mop\\\" align-title=\\\"left\\\">\\n</ion-nav-bar><ion-content class=\\\"view-avatar\\\"><div class=\\\"row step1\\\"><div class=\\\"col\\\"><img class=\\\"avatar\\\" user-avatar \\nng-src=\\\"{{ vm.form.src }}\\\"></div></div><div class=\\\"step2\\\"><label class=\\\"item item-input\\\"><i \\nclass=\\\"icon icon-envelope placeholder-icon\\\"></i> <input type=\\\"text\\\" ng-model=\\\"vm.form.email\\\" disabled=\\\"disabled\\\">\\n</label><formly-form model=\\\"vm.form\\\" fields=\\\"vm.formFields\\\" form=\\\"vm.rForm\\\"></formly-form></div><div \\nclass=\\\"padding step3\\\"><button ng-click=\\\"vm.submitAvatar()\\\" class=\\\"button button-block button-positive\\\" \\ntranslate=\\\"BUTTON.SUBMIT\\\"></button></div></ion-content></ion-view>\");\n$templateCache.put(\"app/module/user/module/merge/view/user.merge.html\",\"<ion-view title=\\\"{{ \\'Complete your Profile\\' | translate }}\\\"><ion-nav-bar class=\\\"bar bar-positive bar-mop\\\" \\nalign-title=\\\"left\\\"></ion-nav-bar><ion-content class=\\\"view-avatar\\\"><div class=\\\"step1 padding\\\"><h5 translate>\\nYour email is already associated with another account, please enter your password</h5></div><div class=\\\"row step1\\\"><div\\n class=\\\"col\\\"><img class=\\\"avatar\\\" user-avatar ng-src=\\\"{{ vm.form.src }}\\\"></div></div><div class=\\\"list step2\\\"><label \\nclass=\\\"item item-input\\\"><i class=\\\"icon icon-user placeholder-icon\\\"></i> <input type=\\\"text\\\" ng-model=\\\"vm.form.name\\\" \\ndisabled=\\\"disabled\\\"></label><label class=\\\"item item-input\\\"><i class=\\\"icon icon-envelope placeholder-icon\\\"></i> <input \\ntype=\\\"text\\\" ng-model=\\\"vm.form.email\\\" disabled=\\\"disabled\\\"></label><label class=\\\"item item-input lock\\\"><input \\ntype=\\\"password\\\" placeholder=\\\"{{ \\'Password\\' | translate }}\\\" ng-model=\\\"vm.form.password\\\"></label></div><div \\nclass=\\\"padding step3\\\"><button ng-click=\\\"vm.submitvm(vm.form)\\\" ng-disabled=\\\"form.facebook\\\" \\nclass=\\\"button button-block button-facebook\\\"><i class=\\\"icon ion-social-facebook\\\"></i> <span translate>vm Facebook</span>\\n</button></div></ion-content></ion-view>\");\n$templateCache.put(\"app/module/user/module/profile/view/grid.html\",\"<ion-view hide-nav-bar><ion-content><div class=\\\"item item-divider\\\" translate>Grid List</div><div \\nclass=\\\"center-ico animated fadeIn\\\" ng-if=\\\"vm.empty\\\"><i class=\\\"icon ion-camera\\\"></i><h1 translate=\\\"\\\">No Post</h1></div>\\n<photogram-loading loading=\\\"vm.loading\\\"></photogram-loading><photogram-photo-grid photogram=\\\"vm.data\\\" \\nloading=\\\"vm.loading\\\"></photogram-photo-grid></ion-content></ion-view>\");\n$templateCache.put(\"app/module/user/module/profile/view/list.html\",\"<ion-view hide-nav-bar><ion-content><div class=\\\"item item-divider\\\" translate>Recent List</div><div \\nclass=\\\"center-ico animated fadeIn\\\" ng-if=\\\"vm.empty\\\"><i class=\\\"icon ion-camera\\\"></i><h1 translate=\\\"\\\">No Post</h1></div>\\n<photogram-loading loading=\\\"vm.loading\\\"></photogram-loading><photogram-photo-list photogram=\\\"vm.data\\\" \\nloading=\\\"vm.loading\\\"></photogram-photo-list></ion-content></ion-view>\");\n$templateCache.put(\"app/module/user/module/profile/view/profile.edit.modal.html\",\"<ion-modal-view class=\\\"modal-profile\\\"><ion-header-bar class=\\\"bar-positive\\\"><button \\nclass=\\\"button button-clear button-icon ion-ios-arrow-thin-left\\\" ng-click=\\\"closeModal()\\\"></button><div class=\\\"title\\\">\\n{{ \\'Edit Profile\\' | translate }}</div></ion-header-bar><ion-content class=\\\"view-avatar\\\"><div class=\\\"row step1\\\"><div \\nclass=\\\"col\\\"><img class=\\\"avatar\\\" user-avatar ng-src=\\\"{{ form.src }}\\\"></div></div><div class=\\\"step2\\\"><label \\nclass=\\\"item item-input\\\"><i class=\\\"icon icon-envelope placeholder-icon\\\"></i> <input type=\\\"text\\\" ng-model=\\\"form.email\\\" \\ndisabled=\\\"disabled\\\"></label><formly-form model=\\\"form\\\" fields=\\\"formFields\\\" form=\\\"rForm\\\"></formly-form></div><div \\nclass=\\\"padding step3\\\"><button ng-click=\\\"linkFacebook()\\\" ng-disabled=\\\"form.facebook\\\" \\nclass=\\\"button button-block button-facebook\\\"><i class=\\\"icon ion-social-facebook\\\"></i> <span \\ntranslate=\\\"PHOTOGRAM.BUTTON.FACEBOOK_LINK\\\"></span></button> <button class=\\\"button button-block button-positive\\\" \\nng-click=\\\"submitUpdateProfile()\\\" translate=\\\"PHOTOGRAM.BUTTON.SAVE_PROFILE\\\"></button></div></ion-content>\\n</ion-modal-view>\");\n$templateCache.put(\"app/module/user/module/profile/view/profile.html\",\"<ion-view cache-view=\\\"false\\\" class=\\\"photogram-profile\\\"><ion-nav-title><h1 class=\\\"title\\\">{{ vm.user.name }}</h1>\\n</ion-nav-title><ion-nav-buttons side=\\\"right\\\"><button photogram-settings class=\\\"button button-icon icon ion-gear-a\\\">\\n</button></ion-nav-buttons><ion-content class=\\\"animated fadeIn\\\"><div class=\\\"profile-top\\\"><div class=\\\"row\\\"><div \\nclass=\\\"col-25\\\"><img class=\\\"avatar\\\" user-avatar ng-src=\\\"{{ vm.user.src }}\\\"></div><div class=\\\"col col-statics\\\"><div \\nclass=\\\"row\\\"><div class=\\\"col\\\"><photogram-loading loading=\\\"loadingPhotos\\\"></photogram-loading><span \\nng-if=\\\"!loadingPhotos\\\" class=\\\"text-center\\\">{{ vm.user.qtdPhotos }}</span><h3 translate=\\\"PHOTOGRAM.PROFILE.TITLE.POST\\\">\\nPosts</h3></div><div class=\\\"col\\\"><photogram-loading loading=\\\"loadingFollowers\\\"></photogram-loading><span \\nng-if=\\\"!loadingFollowers\\\" class=\\\"text-center\\\">{{ vm.user.qtdFollowers }}</span><h3 \\ntranslate=\\\"PHOTOGRAM.PROFILE.TITLE.FOLLOWER\\\"></h3></div><div class=\\\"col\\\"><photogram-loading loading=\\\"loadingFollowing\\\">\\n</photogram-loading><span ng-if=\\\"!loadingFollowing\\\" class=\\\"text-center\\\">{{ vm.user.qtdFollowing }}</span><h3 \\ntranslate=\\\"PHOTOGRAM.PROFILE.TITLE.FOLLOWING\\\">Followings</h3></div></div><div class=\\\"row col-edit\\\"><div class=\\\"col\\\">\\n<button profile-modal-edit class=\\\"button\\\"><div translate=\\\"PHOTOGRAM.BUTTON.PROFILE_EDIT\\\"></div></button></div></div>\\n</div></div><div class=\\\"padding\\\"><span class=\\\"user-username\\\">{{ vm.user.name }}</span><p class=\\\"user-status\\\">\\n{{ vm.user.status }}</p></div></div><div class=\\\"item bar\\\"><div class=\\\"button-bar\\\"><button \\nclass=\\\"button button-icon icon ion-drag\\\" ng-class=\\\"{active: vm.tab.list}\\\" ng-click=\\\"vm.changeTab(\\'list\\')\\\"></button> \\n<button class=\\\"button button-icon icon ion-grid\\\" ng-class=\\\"{active: vm.tab.grid}\\\" ng-click=\\\"vm.changeTab(\\'grid\\')\\\">\\n</button> <button class=\\\"button button-icon icon ion-ios-location\\\"></button></div></div><div class=\\\"item item-divider\\\" \\ntranslate=\\\"PHOTOGRAM.MSG.RECENT\\\">Recent</div><div class=\\\"center-ico animated fadeIn\\\" ng-if=\\\"vm.empty\\\"><i \\nclass=\\\"icon ion-camera\\\"></i><h1 translate=\\\"PHOTOGRAM.MSG.NO_POST\\\">No Post</h1></div><photogram-loading \\nloading=\\\"vm.loading\\\"></photogram-loading><div class=\\\"tab\\\" ng-if=\\\"vm.tab.list\\\"><photogram-photo-list \\nphotogram=\\\"vm.data\\\" loading=\\\"vm.loading\\\"></photogram-photo-list></div><div class=\\\"tab\\\" ng-if=\\\"vm.tab.grid\\\">\\n<photogram-photo-grid photogram=\\\"vm.data\\\" loading=\\\"vm.loading\\\"></photogram-photo-grid></div></ion-content></ion-view>\");\n$templateCache.put(\"app/module/user/module/profile/view/profile.modal.html\",\"<ion-modal-view class=\\\"modal-profile photogram-profile\\\"><ion-header-bar class=\\\"bar-positive\\\"><button \\nclass=\\\"button button-clear button-icon ion-ios-arrow-thin-left\\\" ng-click=\\\"closeModal()\\\"></button><div class=\\\"title\\\">\\n{{ user.name }}</div></ion-header-bar><ion-content overflow-scroll=\\\"true\\\"><div class=\\\"profile-top\\\"><div class=\\\"row\\\">\\n<div class=\\\"col-25\\\"><img class=\\\"avatar\\\" ng-src=\\\"{{ user.src }}\\\"></div><div class=\\\"col col-statics\\\"><div class=\\\"row\\\">\\n<div class=\\\"col\\\"><photogram-loading loading=\\\"loadingPhotos\\\"></photogram-loading><span ng-if=\\\"!loadingPhotos\\\" \\nclass=\\\"text-center\\\">{{ user.qtdPhotos }}</span><h3 translate=\\\"PHOTOGRAM.PROFILE.TITLE.POST\\\">Posts</h3></div><div \\nclass=\\\"col\\\"><photogram-loading loading=\\\"loadingFollowers\\\"></photogram-loading><span ng-if=\\\"!loadingFollowers\\\" \\nclass=\\\"text-center\\\">{{ user.qtdFollowers }}</span><h3 translate=\\\"PHOTOGRAM.PROFILE.TITLE.FOLLOWER\\\"></h3></div><div \\nclass=\\\"col\\\"><photogram-loading loading=\\\"loadingFollowing\\\"></photogram-loading><span ng-if=\\\"!loadingFollowing\\\" \\nclass=\\\"text-center\\\">{{ user.qtdFollowing }}</span><h3 translate=\\\"PHOTOGRAM.PROFILE.TITLE.FOLLOWING\\\">Followings</h3>\\n</div></div><div class=\\\"row col-edit\\\"><div class=\\\"col\\\"><photogram-loading loading=\\\"loadingFollow\\\"></photogram-loading>\\n<button ng-if=\\\"!loadingFollow\\\" ng-class=\\\"{\\'button-unfollow\\': user.follow, \\'button-follow\\': !user.follow}\\\" \\nng-click=\\\"follow()\\\" class=\\\"button\\\"><span ng-show=\\\"!user.follow\\\" translate>Follow</span> <span ng-show=\\\"user.follow\\\" \\ntranslate>Following</span></button></div></div></div></div><div class=\\\"padding\\\"><span class=\\\"user-username\\\">\\n{{ user.name }}</span><p class=\\\"user-status\\\">{{ user.status }}</p></div></div><div class=\\\"item bar\\\"><div \\nclass=\\\"button-bar\\\"><button class=\\\"button button-icon icon ion-drag\\\" ng-class=\\\"{active: tab.list}\\\" \\nng-click=\\\"changeTab(\\'list\\')\\\"></button> <button class=\\\"button button-icon icon ion-grid\\\" ng-class=\\\"{active: tab.grid}\\\" \\nng-click=\\\"changeTab(\\'grid\\')\\\"></button> <button class=\\\"button button-icon icon ion-ios-location\\\"></button></div></div>\\n<div class=\\\"item item-divider\\\" translate>Recent</div><div class=\\\"center-ico animated fadeIn\\\" ng-if=\\\"empty\\\"><i \\nclass=\\\"icon ion-camera\\\"></i><h1 translate=\\\"\\\">No Post</h1></div><photogram-loading loading=\\\"loading\\\">\\n</photogram-loading><div class=\\\"tab\\\" ng-if=\\\"tab.list\\\"><photogram-photo-list photogram=\\\"data\\\" user=\\\"false\\\" \\nloading=\\\"loading\\\"></photogram-photo-list></div><div class=\\\"tab\\\" ng-if=\\\"tab.grid\\\"><photogram-photo-grid \\nphotogram=\\\"data\\\" user=\\\"false\\\" loading=\\\"loading\\\"></photogram-photo-grid></div></ion-content></ion-modal-view>\");\n$templateCache.put(\"app/module/user/module/profile/view/profile.photos.html\",\"<ion-view title=\\\"{{\\'Profile\\' | translate}}\\\" class=\\\"profile\\\"><ion-content scroll=\\\"false\\\"><h2>Fotos</h2></ion-content>\\n</ion-view>\");\n$templateCache.put(\"app/module/user/module/signin/view/user.signin.html\",\"<ion-view class=\\\"view-login\\\" view-title=\\\"{{ \\'USER.BUTTON.ENTER\\' | translate }}\\\"><ion-content padding=\\\"false\\\"><div \\nclass=\\\"padding\\\"><formly-form model=\\\"vm.form\\\" fields=\\\"vm.formFields\\\" form=\\\"vm.rForm\\\"><button recovery-pass \\nclass=\\\"button button-right button-block button-clear\\\"><span></span></button> <button \\nclass=\\\"button button-block button-positive\\\" type=\\\"button\\\" ng-disabled=\\\"vm.rForm.$invalid\\\" \\nng-click=\\\"vm.submitLogin(vm.rForm, vm.form)\\\" translate=\\\"USER.BUTTON.ENTER\\\"></button></formly-form><div class=\\\"line\\\">\\n<div class=\\\"left\\\"></div><span translate=\\\"USER.OR\\\">or</span><div class=\\\"right\\\"></div></div><button \\nng-click=\\\"vm.facebook()\\\" class=\\\"button button-block button-facebook\\\"><i class=\\\"icon ion-social-facebook\\\"></i> <span>\\n{{\\'USER.BUTTON.LOGIN_SOCIAL\\'| translate}}Facebook</span></button></div></ion-content></ion-view>\");\n$templateCache.put(\"app/module/user/module/signup/view/user.signup.html\",\"<ion-view view-title=\\\"{{ \\'USER.BUTTON.SIGNUP\\' | translate }}\\\"><ion-content padding=\\\"true\\\"><formly-form model=\\\"vm.form\\\" \\nfields=\\\"vm.formFields\\\" form=\\\"vm.rForm\\\"><div class=\\\"padding\\\"><button class=\\\"button button-block button-positive\\\" \\ntype=\\\"button\\\" ng-disabled=\\\"rForm.$invalid\\\" ng-click=\\\"vm.submitRegister(vm.rForm, vm.form)\\\" \\ntranslate=\\\"USER.BUTTON.NEXT\\\"></button></div></formly-form><div class=\\\"padding\\\"><p class=\\\"text-center\\\"><span \\ntranslate=\\\"USER.TERM1\\\"></span> <b open-terms translate=\\\"USER.TERM2\\\"></b></p></div></ion-content></ion-view>\");}]);"],"sourceRoot":"/source/"}